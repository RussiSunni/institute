import{V as k}from"./main-a871b23a.js";const f=k("skills",{state:()=>({nestedSkillsList:[],filteredNestedSkillsList:[],skillsList:[]}),actions:{async getNestedSkillsList(){const s=await(await fetch("/skills/nested-list")).json();this.nestedSkillsList=s},async getFilteredNestedSkillsList(){const s=await(await fetch("/skills/filtered-nested-list")).json();this.filteredNestedSkillsList=s},async getSkillsList(){const s=await(await fetch("/skills/list")).json();this.skillsList=s},async deleteSkill(t){var s=window.confirm("Delete skill?");if(s){let n=function(i,e){for(let l=0;l<e.skillsList.length;l++)if(e.skillsList[l].parent==i){let r=e.skillsList[l].id;e.nestedSkillsList=e.nestedSkillsList.filter(o=>o.childId!==r);const a=fetch("/skills/"+r,{method:"DELETE"});a.error&&console.log(a.error),n(r,e)}};n(t,this),this.nestedSkillsList=this.nestedSkillsList.filter(i=>i.id!==t);const d=fetch("/skills/"+t,{method:"DELETE"});d.error&&console.log(d.error),this.getNestedSkillsList()}}}});export{f as u};

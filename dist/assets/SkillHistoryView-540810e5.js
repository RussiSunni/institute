import{_ as h,i as k,r as m,o as r,c as o,b as d,t as a,F as p,n as v,d as g,g as w,q as _}from"./main-fb16489c.js";const y={setup(){return{usersStore:k()}},data(){return{skillId:this.$route.params.id,skill:{},skillRevisions:[]}},async created(){await this.getSkill(),this.usersStore.users.length<1&&await this.usersStore.getUsers(),await this.getRevisions()},async mounted(){},methods:{async getSkill(){const t=await fetch("/skills/show/"+this.skillId);this.skill=await t.json()},async getRevisions(){const t=await fetch("/skill-history/"+this.skillId+"/list");this.skillRevisions=await t.json();for(let e=0;e<this.skillRevisions.length;e++){var l=this.skillRevisions[e].edited_date.replace("T"," ");l=l.replace("Z"," ");let s=l.split(/[- :]/);var c=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),u={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};this.skillRevisions[e].edited_date=c.toLocaleDateString("en-US",u);let n=this.usersStore.users.find(i=>i.id===this.skillRevisions[e].user_id);this.skillRevisions[e].username=n.username}}}},S={class:"container"};function f(t,l,c,u,e,s){const n=m("router-link");return r(),o("div",S,[d("h1",null,a(e.skill.name)+": Revision history",1),d("ul",null,[(r(!0),o(p,null,v(e.skillRevisions,i=>(r(),o("li",null,[g(n,{to:"/skills/"+e.skillId+"/revision/"+i.version_number},{default:w(()=>[_(a(i.edited_date),1)]),_:2},1032,["to"]),_(", "+a(i.username),1)]))),256))])])}const x=h(y,[["render",f],["__scopeId","data-v-65610848"]]);export{x as default};

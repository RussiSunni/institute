import{_ as c,o as l,c as u,b as i,a as d,F as h}from"./main-04c7927f.js";const m={data(){return{skillId:this.$route.params.id,questionCSVFile:"",questionsArray:[]}},async created(){},mounted:function(){},methods:{OnFileChange(n){var e=n.target.files||n.dataTransfer.files;e.length&&this.ReadFile(e[0])},ReadFile(n){var e=new FileReader;e.onload=o=>{var t=o.target.result,s=t.split(/\r?\n|\r|\n/g);for(let r=0;r<s.length;r++)this.questionsArray[r]=s[r].split("|")},e.readAsText(n)},Submit(){const n=[];for(let t=0;t<this.questionsArray.length;t++){const s={};s.name=this.questionsArray[t][0],s.question=this.questionsArray[t][1],s.answer_1=this.questionsArray[t][2],s.answer_2=this.questionsArray[t][3],s.answer_3=this.questionsArray[t][4],s.answer_4=this.questionsArray[t][5],s.answer_5=this.questionsArray[t][6],s.correct_answer=this.questionsArray[t][7],s.explanation=this.questionsArray[t][8],n.push(s)}const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionArray:n})};var o="/skills/"+this.skillId+"/mc-questions/add";fetch(o,e).then(()=>{this.$router.push("/skills/"+this.skillId+"/question-bank")})}}},f={class:"container mt-3"},p=i("h1",null,"Add Multiple Choice Question",-1),y={class:"row"},_={class:"col-sm-4"},v={key:0},q=i("p",{style:{"font-size":"14px"}},[i("em",null,"Maximum file size 15mb")],-1),g={key:1};function b(n,e,o,t,s,r){return l(),u("div",f,[p,i("div",y,[i("div",_,[s.questionCSVFile?(l(),u("div",g,[i("p",null,[i("button",{class:"btn btn-warning",onClick:e[1]||(e[1]=(...a)=>n.removeImage&&n.removeImage(...a))},"Remove file")])])):(l(),u("div",v,[i("input",{class:"form-control",type:"file",accept:".csv",id:"csvFile",onChange:e[0]||(e[0]=(...a)=>r.OnFileChange&&r.OnFileChange(...a))},null,32),q])),i("button",{class:"btn btn-dark",onClick:e[2]||(e[2]=a=>r.Submit())},"Submit")])])])}const A=c(m,[["render",b]]),k={data(){return{skillId:this.$route.params.id,questionCSVFile:"",questionsArray:[]}},async created(){},mounted:function(){},methods:{OnFileChange(n){var e=n.target.files||n.dataTransfer.files;e.length&&this.ReadFile(e[0])},ReadFile(n){var e=new FileReader;e.onload=o=>{var t=o.target.result,s=t.split(/\r?\n|\r|\n/g);for(let r=0;r<s.length;r++)this.questionsArray[r]=s[r].split("|")},e.readAsText(n)},Submit(){const n=[];for(let t=0;t<this.questionsArray.length;t++){const s={};s.name=this.questionsArray[t][0],s.question=this.questionsArray[t][1],n.push(s)}const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionArray:n})};var o="/skills/"+this.skillId+"/essay-questions/add";fetch(o,e).then(()=>{this.$router.push("/skills/"+this.skillId+"/question-bank")})}}},C={class:"container mt-3"},F=i("h1",null,"Add Essay Question",-1),S={class:"row"},$={class:"col-sm-4"},w={key:0},O=i("p",{style:{"font-size":"14px"}},[i("em",null,"Maximum file size 15mb")],-1),V={key:1};function I(n,e,o,t,s,r){return l(),u("div",C,[F,i("div",S,[i("div",$,[s.questionCSVFile?(l(),u("div",V,[i("p",null,[i("button",{class:"btn btn-warning",onClick:e[1]||(e[1]=(...a)=>n.removeImage&&n.removeImage(...a))},"Remove file")])])):(l(),u("div",w,[i("input",{class:"form-control",type:"file",accept:".csv",id:"csvFile",onChange:e[0]||(e[0]=(...a)=>r.OnFileChange&&r.OnFileChange(...a))},null,32),O])),i("button",{class:"btn btn-dark",onClick:e[2]||(e[2]=a=>r.Submit())},"Submit")])])])}const x=c(k,[["render",I]]),R={class:"d-flex justify-content-between"},j={__name:"AddQuestionView",setup(n){return(e,o)=>(l(),u(h,null,[d(A),d(x),i("div",R,[i("a",{class:"btn btn-dark",onClick:o[0]||(o[0]=t=>e.$router.go(-1))},"Cancel")])],64))}};export{j as default};

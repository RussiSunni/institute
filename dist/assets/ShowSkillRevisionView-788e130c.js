import{_ as m,j as u,s as v,i as k,o as a,c,b as s,B as p,t as r,a as h,p as f,e as S}from"./main-f6fca7f2.js";import{_ as g}from"./institute-collins-2-184bdfcb.js";const y={setup(){const t=u(),d=v(),n=k();return{userDetailsStore:t,skillsStore:d,usersStore:n}},data(){return{skillId:this.$route.params.skillId,versionNumber:this.$route.params.versionNumber,skillRevision:{},isCurrentVersion:!1}},async mounted(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList(),this.usersStore.users.length==0&&await this.usersStore.getUsers(),await this.getSkillVersion()},methods:{async getSkillVersion(){let t="/skill-history/"+this.skillId+"/"+this.versionNumber;const d=await fetch(t);this.skillRevision=await d.json();for(let e=0;e<this.skillsStore.skillsList.length;e++)this.skillsStore.skillsList[e].id==this.skillRevision.parent&&(this.skillRevision.parentName=this.skillsStore.skillsList[e].name),this.skillsStore.skillsList[e].version_number==this.skillRevision.version_number&&(this.isCurrentVersion=!0);for(let e=0;e<this.usersStore.users.length;e++)this.usersStore.users[e].id==this.skillRevision.user_id&&(this.skillRevision.userName=this.usersStore.users[e].username);var n=this.skillRevision.edited_date.replace("T"," ");n=n.replace("Z"," ");let l=n.split(/[- :]/);var i=new Date(Date.UTC(l[0],l[1]-1,l[2],l[3],l[4],l[5])),_={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};this.skillRevision.date=i.toLocaleDateString("en-US",_)}}},o=t=>(f("data-v-1d1c94aa"),t=t(),S(),t),R={class:"position-relative d-flex"},w={class:"container show-skill-ctnr"},x={class:"container mt-3"},L={class:"d-flex flex-column gap-2"},b={id:"skill-image"},T=["src"],N={class:"d-flex flex-column"},D={class:"skill-name"},V={class:"alert alert-warning d-flex",role:"alert"},M=o(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"},[s("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})],-1)),C={key:0,class:"ms-2"},I={key:1,class:"ms-2"},H={key:0,class:"row pe-4 ps-4 ps-md-0 skill-description"},q={key:0},B=o(()=>s("div",{class:"row"},[s("div",{class:"col col-md-8 p-4 p-md-0"},[s("hr",{id:"hr-parent",class:"border border-2 opacity-100"})])],-1)),U={class:"mt-3 d-flex flex-column"},z=o(()=>s("div",{class:"h1-title"},"Type",-1)),j={class:"mastery-requirements"},E=["innerHTML"],P={class:"mt-3 d-flex flex-column"},Z=o(()=>s("div",{class:"h1-title"},"Parent",-1)),A={class:"mastery-requirements"},F=["innerHTML"],G={class:"mt-3 d-flex flex-column"},J=o(()=>s("div",{class:"h1-title"},"Mastery Requirements",-1)),K={class:"mastery-requirements"},O=["innerHTML"],Q=o(()=>s("p",null,"Â ",-1)),W=o(()=>s("div",{id:"banner"},[s("img",{src:g,class:"img-fluid"})],-1));function X(t,d,n,l,i,_){return a(),c("div",R,[s("div",w,[s("div",x,[s("div",{id:"skill-info-container",class:p({domain:i.skillRevision.type=="domain"})},[s("div",L,[s("div",b,[s("img",{src:i.skillRevision.icon_image?i.skillRevision.icon_image:"/images/skill-avatar/recurso.png",class:"skill-icon"},null,8,T)]),s("div",N,[s("div",D,r(i.skillRevision.name),1),s("div",V,[M,i.isCurrentVersion?(a(),c("span",I," This is the current revision of this page, as edited by "+r(i.skillRevision.userName)+", at "+r(i.skillRevision.date)+". ",1)):(a(),c("span",C," This is an old revision of this page, as edited by "+r(i.skillRevision.userName)+", at "+r(i.skillRevision.date)+". ",1))]),l.userDetailsStore.role=="admin"?(a(),c("div",H,[s("p",null,r(i.skillRevision.description),1)])):h("",!0)])]),i.skillRevision.type!="domain"?(a(),c("div",q,[B,s("div",U,[z,s("div",j,[s("div",{innerHTML:i.skillRevision.type},null,8,E)])]),s("div",P,[Z,s("div",A,[s("div",{innerHTML:i.skillRevision.parentName},null,8,F)])]),s("div",G,[J,s("div",K,[s("div",{innerHTML:i.skillRevision.mastery_requirements},null,8,O)])])])):h("",!0)],2),Q])]),W])}const ss=m(y,[["render",X],["__scopeId","data-v-1d1c94aa"]]);export{ss as default};

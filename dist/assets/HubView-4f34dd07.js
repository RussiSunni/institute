import{_ as f,u as p,o,c as i,b as e,t as c,p as g,a as w,g as k,F as v,h as b,i as h,v as m,j as N,r as _,e as S,w as I,k as C,f as U}from"./main-2321eba8.js";import{u as L}from"./AssessmentsStore-66520b8f.js";import{u as V}from"./UsersStore-628b5242.js";import{u as M}from"./InstructorStudentsStore-d6845eb9.js";import{_ as j}from"./general-banner-1c13aca4.js";const A={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},computed:{},methods:{}},P=s=>(g("data-v-15c0bd8e"),s=s(),w(),s),T={class:"table table-bordered"},B=P(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"My Messages")])],-1)),O={id:"message-table-body"},q={class:"text-break"};function F(s,t,d,l,n,a){return o(),i("table",T,[B,e("tbody",O,[e("tr",null,[e("td",q,c(l.userDetailsStore.message?l.userDetailsStore.message:"You have no messages"),1)])])])}const H=f(A,[["render",F],["__scopeId","data-v-15c0bd8e"]]);const J={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&&s.push(this.userSkills[t].name);return s.length>0&&(this.noSkills=!1),s}},methods:{}},y=s=>(g("data-v-85fb1c44"),s=s(),w(),s),R={class:"table-responsive"},E={class:"table table-bordered"},Y=y(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Available Skills")])],-1)),z={key:0},G=y(()=>e("td",{id:"no-skill-cell"},null,-1)),K=[G];function Q(s,t,d,l,n,a){return o(),i("div",R,[e("table",E,[Y,e("tbody",null,[n.noSkills?(o(),i("tr",z,K)):k("",!0),(o(!0),i(v,null,b(a.availableSkills,r=>(o(),i("tr",null,[e("td",null,c(r),1)]))),256))])])])}const W=f(J,[["render",Q],["__scopeId","data-v-85fb1c44"]]);const X={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var t="/notifications/edit";fetch(t,s)}}},Z=s=>(g("data-v-1b87a8b3"),s=s(),w(),s),ss={class:"table table-bordered"},ts=Z(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Notifications")])],-1)),es={key:0},ns={key:1},os={key:0},is={key:1};function rs(s,t,d,l,n,a){return o(),i("table",ss,[ts,e("tbody",null,[e("tr",null,[l.userDetailsStore.role!="admin"?(o(),i("td",es,c(n.notifications.notification_1),1)):(o(),i("td",ns,[h(e("textarea",{onChange:t[0]||(t[0]=r=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=r=>n.notifications.notification_1=r),class:"form-control",rows:"3"},null,544),[[m,n.notifications.notification_1]])]))]),e("tr",null,[l.userDetailsStore.role!="admin"?(o(),i("td",os,c(n.notifications.notification_2),1)):(o(),i("td",is,[h(e("textarea",{onChange:t[2]||(t[2]=r=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=r=>n.notifications.notification_2=r),class:"form-control",rows:"3"},null,544),[[m,n.notifications.notification_2]])]))])])])}const ls=f(X,[["render",rs],["__scopeId","data-v-1b87a8b3"]]);const as={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var t="/news/edit";fetch(t,s)}}},cs=s=>(g("data-v-d23c56fb"),s=s(),w(),s),ds={class:"container"},us={class:"table table-bordered"},_s=cs(()=>e("thead",null,[e("tr",null,[e("th",null,"News")])],-1)),hs={class:"row border"},ms={id:"first-cell",class:"col-lg-3 border col-md-6 news-cell"},fs={key:0},Ss={class:"col-lg-3 col-md-6 border news-cell"},ps={key:0},gs={class:"col-lg-3 col-md-6 border news-cell"},ws={key:0},vs={id:"last-cell",class:"col-lg-3 border col-md-6 news-cell"},ks={key:0};function bs(s,t,d,l,n,a){return o(),i("div",ds,[e("table",us,[_s,e("tbody",null,[e("tr",null,[e("div",hs,[e("div",ms,[l.userDetailsStore.role!="admin"?(o(),i("p",fs,c(n.news.news_1),1)):h((o(),i("textarea",{key:1,onChange:t[0]||(t[0]=r=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=r=>n.news.news_1=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_1]])]),e("div",Ss,[l.userDetailsStore.role!="admin"?(o(),i("p",ps,c(n.news.news_2),1)):h((o(),i("textarea",{key:1,onChange:t[2]||(t[2]=r=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=r=>n.news.news_2=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_2]])]),e("div",gs,[l.userDetailsStore.role!="admin"?(o(),i("p",ws,c(n.news.news_3),1)):h((o(),i("textarea",{key:1,onChange:t[4]||(t[4]=r=>a.SaveChange()),"onUpdate:modelValue":t[5]||(t[5]=r=>n.news.news_3=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_3]])]),e("div",vs,[l.userDetailsStore.role!="admin"?(o(),i("p",ks,c(n.news.news_4),1)):h((o(),i("textarea",{key:1,onChange:t[6]||(t[6]=r=>a.SaveChange()),"onUpdate:modelValue":t[7]||(t[7]=r=>n.news.news_4=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_4]])])])])])])])}const ys=f(as,[["render",bs],["__scopeId","data-v-d23c56fb"]]);const $s={setup(){const s=L(),t=V(),d=N(),l=p(),n=M();return{usersStore:t,skillsStore:d,assessmentsStore:s,userDetailsStore:l,instructorStudentsStore:n}},data(){return{assessments:[],studentIds:[]}},async created(){this.assessmentsStore.assessments.length==0&&await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},computed:{},methods:{}},Ds={class:"container-fluid"},xs=e("div",{id:"question-header"},[e("div",{id:"assessment-tile"},"Assessments")],-1),Ns={id:"list-body"},Is={class:"assessment"};function Cs(s,t,d,l,n,a){const r=_("RouterLink");return o(),i("div",Ds,[xs,e("div",Ns,[(o(!0),i(v,null,b(this.assessments,u=>(o(),i("div",Is,[S(r,{class:"assessment-link",to:"/mark-assessment/"+u.id},{default:I(()=>[C(c(u.studentUsername)+", "+c(u.skillName)+", "+c(u.date),1)]),_:2},1032,["to"])]))),256))])])}const Us=f($s,[["render",Cs]]),Ls="/images/post-login.png";const Vs={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},components:{News:ys,Notifications:ls,StudentMessages:H,StudentProgress:W,MarkAssessment:Us},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},Ms=e("div",{id:"banner"},[e("img",{src:j,class:""})],-1),js={class:"container post-login-container min-vh-100"},As={class:"row text-center text-md-start"},Ps={id:"user-name"},Ts={class:"row content-row"},Bs={id:"profile-image-column",class:"column col-lg-4 col-md-6 mx-0"},Os=["src"],qs={id:"middle-profile-column",class:"column col-lg-4 col-md-6"},Fs={key:1},Hs={id:"message-col",class:"column col-lg-4 col-md-6"},Js={id:"notif-col",class:"column col-lg-3 col-md-6"},Rs=e("div",{id:"sub-image",class:"column col-lg-9 col-md-6 d-none d-lg-block"},[e("img",{src:Ls,class:"img-fluid"})],-1),Es={id:"news-row",class:"row"};function Ys(s,t,d,l,n,a){const r=_("StudentProgress"),u=_("MarkAssessment"),$=_("StudentMessages"),D=_("Notifications"),x=_("News");return o(),i(v,null,[Ms,e("div",js,[e("div",As,[e("h1",Ps,c(a.name),1)]),e("div",Ts,[e("div",Bs,[e("img",{id:"profile-img",src:l.userDetailsStore.avatar,class:"img-fluid"},null,8,Os)]),e("div",qs,[l.userDetailsStore.role=="student"?(o(),U(r,{key:0,userId:l.userDetailsStore.userId},null,8,["userId"])):l.userDetailsStore.role=="instructor"?(o(),i("div",Fs,[S(u)])):k("",!0)]),e("div",Hs,[S($)]),e("div",Js,[S(D)]),Rs]),e("div",Es,[S(x)])])],64)}const Xs=f(Vs,[["render",Ys]]);export{Xs as default};

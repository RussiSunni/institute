import{_ as c,n as p,o as l,c as i,d as t,e as d,v as u,b as r,q as h,l as w}from"./main-1b5dad83.js";const _={setup(){},data(){return{newStudent:{id:null,username:null,firstName:null,lastName:null,email:null,password:null},validate:{firstName:!1,lastName:!1,username:!1,email:!1,emailFormat:!1,password:!1},isProduction:!0}},async created(){},mounted(){let a=document.createElement("script");a.setAttribute("src","https://accounts.google.com/gsi/client"),a.setAttribute("defer",""),document.head.appendChild(a),this.GetGoogleLoginResult()},methods:{ValidateForm(){this.newStudent.username==""||this.newStudent.username==null?this.validate.username=!0:this.newStudent.firstName==""||this.newStudent.firstName==null?this.validate.firstName=!0:this.newStudent.lastName==""||this.newStudent.lastName==null?this.validate.lastName=!0:this.newStudent.email==""||this.newStudent.email==null?this.validate.email=!0:this.newStudent.password==""||this.newStudent.password==null?this.validate.password=!0:this.Submit()},ValidateEmail(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.newStudent.email)?this.validate.emailFormat=!1:this.validate.emailFormat=!0},Submit(){const a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.newStudent.username,first_name:this.newStudent.firstName,last_name:this.newStudent.lastName,email:this.newStudent.email,password:this.newStudent.password})};var s="/users/new-student/add";fetch(s,a).then(function(o){return o.json()}).then(o=>{o.account=="authorized"?(alert("Account created."),p.push({name:"skills"})):(o.account=="username already taken"||o.account=="email already taken")&&alert(o.account)})},GetGoogleLoginResult(){fetch("/google-login-result").then(function(a){return a.json()}).then(a=>{a.account=="created"&&alert("Please access your profiel and create a password.")})}}},f={class:"signup-page"},g={class:"form-signin"},v=t("div",{class:"text-center"},[t("img",{class:"mb-4",src:h,alt:"",width:"72",height:"72"})],-1),S=t("h1",{class:"h3 mb-3 font-weight-normal"},"Student Sign up",-1),N={class:"mt-3"},y={class:"mb-3 text-start"},b={key:0,class:"form-validate"},x={class:"mb-3 text-start"},k={key:0,class:"form-validate"},V={class:"mb-3 text-start"},q={key:0,class:"form-validate"},U={class:"mb-3 text-start"},F={key:0,class:"form-validate"},E={key:1,class:"form-validate"},j={class:"mb-3 text-start"},A={key:0,class:"form-validate"},P={key:0,id:"g_id_onload","data-client_id":"13191319610-qectaoi146ce1pm4v95jtgctsbtmqb3t.apps.googleusercontent.com","data-context":"signup","data-ux_mode":"popup","data-login_uri":"https://parrhesia.io/google-signup-attempt","data-auto_prompt":"false"},B={key:1,id:"g_id_onload","data-client_id":"13191319610-qectaoi146ce1pm4v95jtgctsbtmqb3t.apps.googleusercontent.com","data-context":"signup","data-ux_mode":"popup","data-login_uri":"http://localhost:3000/google-signup-attempt","data-auto_prompt":"false"},C=t("div",{class:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signup_with","data-size":"large","data-logo_alignment":"left","data-width":"330"},null,-1),G=t("div",{class:"mt-3 signup text-center"},[w(" Have an account? "),t("a",{href:"/login",class:"links"},"Login")],-1);function L(a,s,o,T,e,m){return l(),i("div",f,[t("div",g,[v,S,t("div",N,[t("div",y,[d(t("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>e.newStudent.username=n),type:"text",placeholder:"Username",class:"form-control",required:""},null,512),[[u,e.newStudent.username]]),e.validate.username&&(e.newStudent.username==""||e.newStudent.username==null)?(l(),i("div",b," please enter a username! ")):r("",!0)]),t("div",x,[d(t("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>e.newStudent.firstName=n),type:"text",placeholder:"First name",class:"form-control",required:""},null,512),[[u,e.newStudent.firstName]]),e.validate.firstName&&(e.newStudent.firstName==""||e.newStudent.firstName==null)?(l(),i("div",k," please your first name! ")):r("",!0)]),t("div",V,[d(t("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>e.newStudent.lastName=n),type:"text",placeholder:"Last name",class:"form-control",required:""},null,512),[[u,e.newStudent.lastName]]),e.validate.lastName&&(e.newStudent.lastName==""||e.newStudent.lastName==null)?(l(),i("div",q," please enter your last name! ")):r("",!0)]),t("div",U,[d(t("input",{"onUpdate:modelValue":s[3]||(s[3]=n=>e.newStudent.email=n),type:"email",placeholder:"Email",class:"form-control",onBlur:s[4]||(s[4]=(...n)=>m.ValidateEmail&&m.ValidateEmail(...n)),required:""},null,544),[[u,e.newStudent.email]]),e.validate.email&&(e.newStudent.email==""||e.newStudent.email==null)?(l(),i("div",F," please enter an email address! ")):r("",!0),e.validate.emailFormat?(l(),i("div",E," please enter a valid email address! ")):r("",!0)]),t("div",j,[d(t("input",{"onUpdate:modelValue":s[5]||(s[5]=n=>e.newStudent.password=n),type:"password",placeholder:"Password",class:"form-control",required:""},null,512),[[u,e.newStudent.password]]),e.validate.password&&(e.newStudent.password==""||e.newStudent.password==null)?(l(),i("div",A," please enter a password! ")):r("",!0)]),t("button",{class:"btn btn-dark mb-2",onClick:s[6]||(s[6]=n=>m.ValidateForm())}," Sign up "),e.isProduction==!0?(l(),i("div",P)):(l(),i("div",B)),C,G])])])}const z=c(_,[["render",L]]);export{z as default};

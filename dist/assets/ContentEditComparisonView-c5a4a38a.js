import{_ as ee,a5 as Oe,o as q,c as H,b as i,t as U,C as K,d as ie,i as re,y as oe,a as J,T as le,w as P,s as G,p as de,e as ue,r as ce,h as ae,F as Se}from"./main-42408770.js";import{_ as Be}from"./general-banner-1c13aca4.js";function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ne=function(e){var n={};function t(l){if(n[l])return n[l].exports;var s=n[l]={i:l,l:!1,exports:{}};return e[l].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=e,t.c=n,t.d=function(l,s,r){t.o(l,s)||Object.defineProperty(l,s,{configurable:!1,enumerable:!0,get:r})},t.r=function(l){Object.defineProperty(l,"__esModule",{value:!0})},t.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return t.d(s,"a",s),s},t.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},t.p="/dist/",t(t.s=1)}([function(e,n,t){t.r(n);var l={equal:0,delete:1,insert:2,none:3,replace:4};class s{constructor(a,c,h){this.startInOld=a,this.startInNew=c,this.size=h}get endInOld(){return this.startInOld+this.size}get endInNew(){return this.startInNew+this.size}}class r{constructor(){this.blockSize=0,this.repeatingWordsAccuracy=0,this.ignoreWhitespaceDifferences=!1}}const o=/^\s*<\/?[^>]+>\s*$/,d=/<[^\s>]+/,u=/^(\s|&nbsp;)+$/,p=/[\w\#@]+/,E=["<img"];function v(b){return!E.some(a=>b!==null&&b.startsWith(a))&&o.test(b)}function C(b,a,c){return["<",a,' class="',c,'">',b,"</",a,">"].join("")}function y(b){return b==="<"}function x(b){return b==="&"}function B(b){return b===";"}function Q(b){return u.test(b)}function I(b){return v(b)?function(a){return a=d.exec(a)[0]+(a.endsWith("/>")?"/>":">")}(b):b}function k(b){return p.test(b)}function M(b,a,c){return b.push(a),b.length>c&&b.shift(),b.length!==c?null:b.join("")}class O{constructor(a,c,h,_,f,g,m){this.oldWords=a,this.newWords=c,this.startInOld=h,this.endInOld=_,this.startInNew=f,this.endInNew=g,this.options=m}indexNewWords(){this.wordIndices=new Map;let a=[];for(let c=this.startInNew;c<this.endInNew;c++){let h=M(a,this.normalizeForIndex(this.newWords[c]),this.options.blockSize);h!==null&&(this.wordIndices.has(h)?this.wordIndices.get(h).push(c):this.wordIndices.set(h,[c]))}}normalizeForIndex(a){return a=I(a),this.options.IgnoreWhiteSpaceDifferences&&Q(a)?" ":a}findMatch(){if(this.indexNewWords(),this.removeRepeatingWords(),this.wordIndices.length===0)return null;let a=this.startInOld,c=this.startInNew,h=0,_=new Map;const f=this.options.blockSize;let g=[];for(let m=this.startInOld;m<this.endInOld;m++){let L=M(g,this.normalizeForIndex(this.oldWords[m]),f);if(L===null)continue;let D=new Map;if(this.wordIndices.has(L)){for(let V of this.wordIndices.get(L)){let F=(_.has(V-1)?_.get(V-1):0)+1;D.set(V,F),F>h&&(a=m-F-f+2,c=V-F-f+2,h=F)}_=D}else _=D}return h!==0?new s(a,c,h+f-1):null}removeRepeatingWords(){let a=this.newWords.length+this.options.repeatingWordsAccuracy,c=Array.from(this.wordIndices.entries()).filter(h=>h[1].length>a).map(h=>h[0]);for(let h of c)this.wordIndices.delete(h)}}class S{constructor(a,c,h,_,f){this.action=a,this.startInOld=c,this.endInOld=h,this.startInNew=_,this.endInNew=f}}var w={character:0,tag:1,whitespace:2,entity:3};function z(b,a){let c={mode:w.character,currentWord:[],words:[]},h=function(L,D){let V=new Map;if(D===null)return V;for(let F of D){let X;for(;(X=F.exec(L))!==null;){if(V.has(X.index))throw new Error("One or more block expressions result in a text sequence that overlaps. Current expression: "+F.toString());V.set(X.index,X.index+X[0].length)}}return V}(b,a),_=!!h.size,f=!1,g=-1;for(let L=0;L<b.length;L++){var m=b[L];if(_&&(g===index&&(g=-1,f=!1),h.has(index)&&(f=!0,g=h.get(index)),f)){c.currentWord.push(m),c.mode=w.character;continue}switch(c.mode){case w.character:y(m)?N(c,"<",w.tag):x(m)?N(c,m,w.entity):Q(m)?N(c,m,w.whitespace):k(m)&&(c.currentWord.length===0||k(c.currentWord[c.currentWord.length-1]))?c.currentWord.push(m):N(c,m,w.character);break;case w.tag:m===">"?(c.currentWord.push(m),c.words.push(c.currentWord.join("")),c.currentWord=[],c.mode=Q(m)?w.whitespace:w.character):c.currentWord.push(m);break;case w.whitespace:y(m)?N(c,m,w.tag):x(m)?N(c,m,w.entity):Q(m)?c.currentWord.push(m):N(c,m,w.character);break;case w.entity:if(y(m))N(c,m,w.tag);else if(Q(m))N(c,m,w.whitespace);else if(B(m)){let D=!0;if(c.currentWord.length!==0&&(c.currentWord.push(m),c.words.push(c.currentWord.join("")),c.words.length>2&&Q(c.words[c.words.length-2])&&Q(c.words[c.words.length-1]))){let V=c.words[c.words.length-2],F=c.words[c.words.length-1];c.words.splice(c.words.length-2,2),c.currentWord=[(V+F).split()],c.mode=w.whitespace,D=!1}D&&(c.currentWord=[],c.mode=w.character)}else k(m)?c.currentWord.push(m):N(c,m,w.character)}}return c.currentWord.length!==0&&c.words.push(c.currentWord.join("")),c.words}function N(b,a,c){b.currentWord.length!==0&&b.words.push(b.currentWord.join("")),b.currentWord=[a],b.mode=c}const We=4,ge=new Map([["</strong>",0],["</em>",0],["</b>",0],["</i>",0],["</big>",0],["</small>",0],["</u>",0],["</sub>",0],["</strike>",0],["</s>",0]]),pe=/<((strong)|(b)|(i)|(em)|(big)|(small)|(u)|(sub)|(sup)|(strike)|(s))[\>\s]+/gi;class ne{constructor(a,c){this.content=[],this.newText=c,this.oldText=a,this.specialTagDiffStack=[],this.newWords=[],this.oldWords=[],this.matchGranularity=0,this.blockExpressions=[],this.repeatingWordsAccuracy=1,this.ignoreWhiteSpaceDifferences=!1,this.orphanMatchThreshold=0}build(){if(this.oldText===this.newText)return this.newText;this.splitInputsIntoWords(),this.matchGranularity=Math.min(We,this.oldWords.length,this.newWords.length);let a=this.operations();for(let c of a)this.performOperation(c);return this.content.join("")}addBlockExpression(a){this.blockExpressions.push(a)}splitInputsIntoWords(){this.oldWords=z(this.oldText,this.blockExpressions),this.oldText=null,this.newWords=z(this.newText,this.blockExpressions),this.newText=null}performOperation(a){switch(a.action){case l.equal:this.processEqualOperation(a);break;case l.delete:this.processDeleteOperation(a,"diffdel");break;case l.insert:this.processInsertOperation(a,"diffins");break;case l.none:break;case l.replace:this.processReplaceOperation(a)}}processReplaceOperation(a){this.processDeleteOperation(a,"diffmod"),this.processInsertOperation(a,"diffmod")}processInsertOperation(a,c){let h=this.newWords.filter((_,f)=>f>=a.startInNew&&f<a.endInNew);this.insertTag("ins",c,h)}processDeleteOperation(a,c){let h=this.oldWords.filter((_,f)=>f>=a.startInOld&&f<a.endInOld);this.insertTag("del",c,h)}processEqualOperation(a){let c=this.newWords.filter((h,_)=>_>=a.startInNew&&_<a.endInNew);this.content.push(c.join(""))}insertTag(a,c,h){for(;h.length;){let _=this.extractConsecutiveWords(h,m=>!v(m)),f="",g=!1;if(_.length!==0){let m=C(_.join(""),a,c);this.content.push(m)}else{if(pe.test(h[0])){if(this.specialTagDiffStack.push(h[0]),f='<ins class="mod">',a==="del")for(h.shift();h.length>0&&pe.test(h[0]);)h.shift()}else if(ge.has(h[0])){let m=this.specialTagDiffStack.length===0?null:this.specialTagDiffStack.pop();if(m!==null&&m===h[0].replace(/\//g,"")&&(f="</ins>",g=!0),a==="del")for(h.shift();h.length>0&&ge.has(h[0]);)h.shift()}if(h.length===0&&f.length===0)break;g?this.content.push(f+this.extractConsecutiveWords(h,v).join("")):this.content.push(this.extractConsecutiveWords(h,v).join("")+f)}}}extractConsecutiveWords(a,c){let h=null;for(let _=0;_<a.length;_++){let f=a[_];if(_===0&&f===" "&&(a[_]="&nbsp;"),!c(f)){h=_;break}}if(h!==null){let _=a.filter((f,g)=>g>=0&&g<h);return h>0&&a.splice(0,h),_}{let _=a.filter((f,g)=>g>=0&&g<a.length);return a.splice(0,a.length),_}}operations(){let a=0,c=0,h=[],_=this.matchingBlocks();_.push(new s(this.oldWords.length,this.newWords.length,0));let f=this.removeOrphans(_);for(let g of f){let m,L=a===g.startInOld,D=c===g.startInNew;(m=L||D?L&&!D?l.insert:L?l.none:l.delete:l.replace)!==l.none&&h.push(new S(m,a,g.startInOld,c,g.startInNew)),g.length!==0&&h.push(new S(l.equal,g.startInOld,g.endInOld,g.startInNew,g.endInNew)),a=g.endInOld,c=g.endInNew}return h}*removeOrphans(a){let c=null,h=null;for(let _ of a){if(h===null){c=new s(0,0,0),h=_;continue}if(c.endInOld===h.startInOld&&c.endInNew===h.startInNew||h.endInOld===_.startInOld&&h.endInNew===_.startInNew){yield h,c=h,h=_;continue}let f=(L,D)=>L+D.length,g=this.oldWords.slice(c.endInOld,_.startInOld).reduce(f,0),m=this.newWords.slice(c.endInNew,_.startInNew).reduce(f,0);this.newWords.slice(h.startInNew,h.endInNew).reduce(f,0)>Math.max(g,m)*this.orphanMatchThreshold&&(yield h),c=h,h=_}yield h}matchingBlocks(){let a=[];return this.findMatchingBlocks(0,this.oldWords.length,0,this.newWords.length,a),a}findMatchingBlocks(a,c,h,_,f){let g=this.findMatch(a,c,h,_);g!==null&&(a<g.startInOld&&h<g.startInNew&&this.findMatchingBlocks(a,g.startInOld,h,g.startInNew,f),f.push(g),g.endInOld<c&&g.endInNew<_&&this.findMatchingBlocks(g.endInOld,c,g.endInNew,_,f))}findMatch(a,c,h,_){for(let f=this.matchGranularity;f>0;f--){let g=new r;g.blockSize=f,g.repeatingWordsAccuracy=this.repeatingWordsAccuracy,g.ignoreWhitespaceDifferences=this.ignoreWhiteSpaceDifferences;let m=new O(this.oldWords,this.newWords,a,c,h,_,g).findMatch();if(m!==null)return m}return null}}ne.execute=function(b,a){return new ne(b,a).build()},n.default=ne},function(e,n,t){e.exports=t(0)}]);const ve=Ie(Ne);const Ae={setup(){},data(){return{skillId:this.$route.params.contentId,userId:this.$route.params.userId,skill:{},skillEdit:{},comment:"",isEditMode:!1,changeIcon:!1,changeBanner:!1,changeMasteryText:!1,diffHtml:"",showEditMastery:!1,showBannerChange:!0,showIconChange:!0,showSkillMasteryChange:!0}},async created(){await this.getSkillEdit(),await this.getSkill(),this.skill.banner_image!==this.skillEdit.banner_image&&(this.changeBanner=!0),this.skill.icon_image!==this.skillEdit.icon_image&&(this.changeIcon=!0),this.skill.mastery_requirements!==this.skillEdit.mastery_requirements&&(this.changeMasteryText=!0,this.diffHtml=ve.execute(this.skill.mastery_requirements,this.skillEdit.mastery_requirements)),$("#summernote").next().find(".note-editable").attr("contenteditable",!1)},methods:{async getSkillEdit(){await fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId).then(function(e){return e.json()}).then(e=>{this.skillEdit=e,console.log(this.skillEdit),this.comment=e.comment})},async getSkill(){await fetch("/skills/show/"+this.skillId).then(function(e){return e.json()}).then(e=>{this.skill=e})},dismissEdit(){if(confirm("Delete this edit?")){const e=fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId,{method:"DELETE"});e.error&&console.log(e.error),this.$router.back()}},dismissIcon(){confirm("Revert the icon?")&&(this.skillEdit.icon_image=this.skill.icon_image)},dismissBanner(){confirm("Revert the banner?")&&(this.skillEdit.banner_image=this.skill.banner_image)},applyMasteryChange(){this.$parent.disableBtn=!1,this.skillEdit.mastery_requirements=$("#summernote").summernote("code"),this.diffHtml=ve.execute(this.skill.mastery_requirements,this.skillEdit.mastery_requirements),this.showEditMastery=!1},cancelEditMastery(){this.$parent.disableBtn=!1,this.showEditMastery=!1},edit(){this.showEditMastery=!0,this.isEditMode=!0,this.$parent.disableBtn=!0,Oe(()=>{$("#summernote").summernote({toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]}).next().find(".note-editable").attr("contenteditable",!0)})},saveEdit(){const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mastery_requirements:this.skillEdit.mastery_requirements,icon_image:this.skillEdit.icon_image,banner_image:this.skillEdit.banner_image,comment:this.comment,edit:this.isEditMode})};var n="/skills/"+this.skillEdit.skill_id+"/edit-for-review/save";fetch(n,e).then(()=>{this.$router.back()});const t=fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId,{method:"DELETE"});t.error&&console.log(t.error)}}},W=e=>(de("data-v-5b6e872d"),e=e(),ue(),e),Te={class:"mt-4 mb-4"},ze=W(()=>i("h1",{class:"page-title"},"Skill Change Comparison",-1)),Le=W(()=>i("hr",null,null,-1)),je={class:"d-flex flex-column gap-2 mb-3"},De={class:"d-flex gap-2 align-items-center"},$e=W(()=>i("div",{class:"compare-container-tile"},"Skill:",-1)),qe={class:"minor-text"},Re={class:"d-flex gap-2 align-items-center"},Ue=W(()=>i("div",{class:"compare-container-tile"},"Level:",-1)),Ve={class:"minor-text"},He={key:0},Fe={class:"compare-container"},Pe={class:"d-flex align-items-center"},Ge=W(()=>i("h2",{class:"compare-container-tile mb-3"},"Banner",-1)),Je=["title"],Ze=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",heigh:"16",fill:"#475569"},[i("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)),Ke=[Ze],Xe={key:0},Ye={class:"d-flex flex-lg-row flex-column"},et={class:"old-container banner-container"},tt=W(()=>i("div",{class:"container-tile"},"Original",-1)),st=["src"],nt=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",fill:"#ac90e8",class:"d-none d-lg-block my-auto mx-1"},[i("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),it=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"#ac90e8",height:"50",width:"50",class:"mx-auto my-2 d-lg-none"},[i("path",{d:"M2 334.5c-3.8 8.8-2 19 4.6 26l136 144c4.5 4.8 10.8 7.5 17.4 7.5s12.9-2.7 17.4-7.5l136-144c6.6-7 8.4-17.2 4.6-26s-12.5-14.5-22-14.5l-72 0 0-288c0-17.7-14.3-32-32-32L128 0C110.3 0 96 14.3 96 32l0 288-72 0c-9.6 0-18.2 5.7-22 14.5z"})],-1)),rt={class:"new-container banner-container"},ot=W(()=>i("div",{class:"container-tile"},"Changed",-1)),lt=["src"],ct=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",fill:"white"},[i("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"})],-1)),at={key:1,class:"mt-5"},ht={class:"compare-container"},dt={class:"d-flex align-items-center"},ut=W(()=>i("h2",{class:"compare-container-tile mb-3"},"Skill Icon",-1)),mt=["title"],_t=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",heigh:"16",fill:"#475569"},[i("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)),gt=[_t],pt={key:0},vt={class:"d-flex flex-lg-row flex-column"},wt={class:"old-container icon-container"},ft=W(()=>i("div",{class:"container-tile"},"Original",-1)),bt=["src"],Et=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",fill:"#ac90e8",class:"d-none d-lg-block my-auto mx-1"},[i("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),yt=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"#ac90e8",height:"50",width:"50",class:"mx-auto my-2 d-lg-none"},[i("path",{d:"M2 334.5c-3.8 8.8-2 19 4.6 26l136 144c4.5 4.8 10.8 7.5 17.4 7.5s12.9-2.7 17.4-7.5l136-144c6.6-7 8.4-17.2 4.6-26s-12.5-14.5-22-14.5l-72 0 0-288c0-17.7-14.3-32-32-32L128 0C110.3 0 96 14.3 96 32l0 288-72 0c-9.6 0-18.2 5.7-22 14.5z"})],-1)),It={class:"new-container icon-container"},kt=W(()=>i("div",{class:"container-tile"},"Changed",-1)),Mt=["src"],Qt=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",fill:"white"},[i("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"})],-1)),Ct={key:2,class:"compare-container mt-5"},xt={class:"d-flex align-items-center"},Wt=W(()=>i("h2",{class:"compare-container-tile"},"Mastery Requirements",-1)),Ot=["title"],St=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",heigh:"16",fill:"#475569"},[i("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)),Bt=[St],Nt={key:0},At=W(()=>i("div",{class:"ms-auto me-3 mt-3 explain-div"},[i("div",{class:"d-flex align-items-center w-fit justify-content-between gap-2"},[i("div",{class:"label-name"},"Added:"),i("div",{class:"added-block"})]),i("div",{class:"d-flex align-items-center gap-2 justify-content-between"},[i("div",{class:"label-name"},"Remove:"),i("div",{class:"remove-block"})]),i("div",{class:"d-flex align-items-center gap-2 justify-content-between"},[i("div",{class:"label-name"},"Unchange:"),i("div",{class:"unchange-block"})])],-1)),Tt={class:"d-flex flex-lg-row flex-column mt-4"},zt={class:"old-container skill-mastery-container d-none d-lg-block"},Lt=W(()=>i("div",{class:"container-tile"},"Original",-1)),jt=["innerHTML"],Dt=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",fill:"#ac90e8",class:"d-none d-lg-block my-auto mx-1"},[i("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),$t={class:"new-container skill-mastery-container"},qt=W(()=>i("div",{class:"container-tile"},"Changed",-1)),Rt=["innerHTML"],Ut={key:3,class:"mt-5 compare-container"},Vt=W(()=>i("h2",{class:"compare-container-tile my-3"}," Edit Mastery Requirement ",-1)),Ht={class:"d-flex flex-row-reverse gap-3"},Ft=W(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"20",heigh:"20",fill:"white",class:"ms-2"},[i("path",{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 125.7-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"})],-1)),Pt={class:"mt-5 w-lg-50 w-md-75 w-100 compare-container"},Gt={class:"d-flex flex-md-row flex-column gap-2"},Jt=W(()=>i("h2",{class:"compare-container-tile mb-3"},"Comment:",-1)),Zt={class:"comment-text"};function Kt(e,n,t,l,s,r){return q(),H("div",Te,[ze,Le,i("div",je,[i("div",De,[$e,i("div",qe,U(s.skill.name),1)]),i("div",Re,[Ue,i("div",Ve,U(s.skill.level),1)])]),s.changeBanner?(q(),H("div",He,[i("div",Fe,[i("div",Pe,[Ge,i("div",{onClick:n[0]||(n[0]=o=>s.showBannerChange=!s.showBannerChange),class:K([s.showBannerChange?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showBannerChange?"minimize":"expand"},Ke,10,Je)]),ie(le,{name:"dropdown"},{default:re(()=>[s.showBannerChange?(q(),H("div",Xe,[i("div",Ye,[i("div",et,[tt,i("img",{src:s.skill.banner_image,class:"banner-image"},null,8,st)]),nt,it,i("div",rt,[ot,i("img",{src:s.skillEdit.banner_image,class:"banner-image"},null,8,lt)])]),i("div",null,[i("button",{class:"btn red-btn ms-auto me-0 mt-3",onClick:n[1]||(n[1]=o=>r.dismissBanner())},[oe(" Revert    "),ct])])])):J("",!0)]),_:1})])])):J("",!0),s.changeIcon?(q(),H("div",at,[i("div",ht,[i("div",dt,[ut,i("div",{onClick:n[2]||(n[2]=o=>s.showIconChange=!s.showIconChange),class:K([s.showIconChange?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showIconChange?"minimize":"expand"},gt,10,mt)]),ie(le,{name:"dropdown"},{default:re(()=>[s.showIconChange?(q(),H("div",pt,[i("div",vt,[i("div",wt,[ft,i("img",{src:s.skill.icon_image,class:"icon-image"},null,8,bt)]),Et,yt,i("div",It,[kt,i("img",{src:s.skillEdit.icon_image,class:"icon-image"},null,8,Mt)])]),i("div",null,[i("button",{class:"btn red-btn ms-auto me-0 mt-3",onClick:n[3]||(n[3]=o=>r.dismissIcon())},[oe(" Revert    "),Qt])])])):J("",!0)]),_:1})])])):J("",!0),s.changeMasteryText&&!s.showEditMastery?(q(),H("div",Ct,[i("div",xt,[Wt,i("div",{onClick:n[4]||(n[4]=o=>s.showSkillMasteryChange=!s.showSkillMasteryChange),class:K(["mt-2",s.showSkillMasteryChange?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showSkillMasteryChange?"minimize":"expand"},Bt,10,Ot)]),ie(le,{name:"dropdown"},{default:re(()=>[s.showSkillMasteryChange?(q(),H("div",Nt,[At,i("div",Tt,[i("div",zt,[Lt,i("div",{class:"innerHTMLmastery",innerHTML:s.skill.mastery_requirements},null,8,jt)]),Dt,i("div",$t,[qt,i("div",{class:"innerHTMLmastery",innerHTML:s.diffHtml},null,8,Rt)])])])):J("",!0)]),_:1})])):(q(),H("div",Ut,[Vt,P(i("textarea",{class:"form-control",id:"summernote",rows:"33","onUpdate:modelValue":n[5]||(n[5]=o=>s.skillEdit.mastery_requirements=o)},null,512),[[G,s.skillEdit.mastery_requirements]]),i("div",Ht,[i("div",{class:"btn green-btn d-flex align-items-center my-3",onClick:n[6]||(n[6]=(...o)=>r.applyMasteryChange&&r.applyMasteryChange(...o))},[oe(" Apply Change "),Ft]),i("div",{class:"btn red-btn d-flex align-items-center my-3",onClick:n[7]||(n[7]=(...o)=>r.cancelEditMastery&&r.cancelEditMastery(...o))}," Cancel Change ")])])),i("div",Pt,[i("div",Gt,[Jt,i("div",Zt,U(s.skillEdit.comment),1)])])])}const Xt=ee(Ae,[["render",Kt],["__scopeId","data-v-5b6e872d"]]);var R=-1,j=1,T=0;function Y(e,n,t,l,s){if(e===n)return e?[[T,e]]:[];if(t!=null){var r=ls(e,n,t);if(r)return r}var o=me(e,n),d=e.substring(0,o);e=e.substring(o),n=n.substring(o),o=te(e,n);var u=e.substring(e.length-o);e=e.substring(0,e.length-o),n=n.substring(0,n.length-o);var p=Yt(e,n);return d&&p.unshift([T,d]),u&&p.push([T,u]),_e(p,s),l&&ss(p),p}function Yt(e,n){var t;if(!e)return[[j,n]];if(!n)return[[R,e]];var l=e.length>n.length?e:n,s=e.length>n.length?n:e,r=l.indexOf(s);if(r!==-1)return t=[[j,l.substring(0,r)],[T,s],[j,l.substring(r+s.length)]],e.length>n.length&&(t[0][0]=t[2][0]=R),t;if(s.length===1)return[[R,e],[j,n]];var o=ts(e,n);if(o){var d=o[0],u=o[1],p=o[2],E=o[3],v=o[4],C=Y(d,p),y=Y(u,E);return C.concat([[T,v]],y)}return es(e,n)}function es(e,n){for(var t=e.length,l=n.length,s=Math.ceil((t+l)/2),r=s,o=2*s,d=new Array(o),u=new Array(o),p=0;p<o;p++)d[p]=-1,u[p]=-1;d[r+1]=0,u[r+1]=0;for(var E=t-l,v=E%2!==0,C=0,y=0,x=0,B=0,Q=0;Q<s;Q++){for(var I=-Q+C;I<=Q-y;I+=2){var k=r+I,M;I===-Q||I!==Q&&d[k-1]<d[k+1]?M=d[k+1]:M=d[k-1]+1;for(var O=M-I;M<t&&O<l&&e.charAt(M)===n.charAt(O);)M++,O++;if(d[k]=M,M>t)y+=2;else if(O>l)C+=2;else if(v){var S=r+E-I;if(S>=0&&S<o&&u[S]!==-1){var w=t-u[S];if(M>=w)return we(e,n,M,O)}}}for(var z=-Q+x;z<=Q-B;z+=2){var S=r+z,w;z===-Q||z!==Q&&u[S-1]<u[S+1]?w=u[S+1]:w=u[S-1]+1;for(var N=w-z;w<t&&N<l&&e.charAt(t-w-1)===n.charAt(l-N-1);)w++,N++;if(u[S]=w,w>t)B+=2;else if(N>l)x+=2;else if(!v){var k=r+E-z;if(k>=0&&k<o&&d[k]!==-1){var M=d[k],O=r+M-k;if(w=t-w,M>=w)return we(e,n,M,O)}}}}return[[R,e],[j,n]]}function we(e,n,t,l){var s=e.substring(0,t),r=n.substring(0,l),o=e.substring(t),d=n.substring(l),u=Y(s,r),p=Y(o,d);return u.concat(p)}function me(e,n){if(!e||!n||e.charAt(0)!==n.charAt(0))return 0;for(var t=0,l=Math.min(e.length,n.length),s=l,r=0;t<s;)e.substring(r,s)==n.substring(r,s)?(t=s,r=t):l=s,s=Math.floor((l-t)/2+t);return ke(e.charCodeAt(s-1))&&s--,s}function fe(e,n){var t=e.length,l=n.length;if(t==0||l==0)return 0;t>l?e=e.substring(t-l):t<l&&(n=n.substring(0,t));var s=Math.min(t,l);if(e==n)return s;for(var r=0,o=1;;){var d=e.substring(s-o),u=n.indexOf(d);if(u==-1)return r;o+=u,(u==0||e.substring(s-o)==n.substring(0,o))&&(r=o,o++)}}function te(e,n){if(!e||!n||e.slice(-1)!==n.slice(-1))return 0;for(var t=0,l=Math.min(e.length,n.length),s=l,r=0;t<s;)e.substring(e.length-s,e.length-r)==n.substring(n.length-s,n.length-r)?(t=s,r=t):l=s,s=Math.floor((l-t)/2+t);return Me(e.charCodeAt(e.length-s))&&s--,s}function ts(e,n){var t=e.length>n.length?e:n,l=e.length>n.length?n:e;if(t.length<4||l.length*2<t.length)return null;function s(y,x,B){for(var Q=y.substring(B,B+Math.floor(y.length/4)),I=-1,k="",M,O,S,w;(I=x.indexOf(Q,I+1))!==-1;){var z=me(y.substring(B),x.substring(I)),N=te(y.substring(0,B),x.substring(0,I));k.length<N+z&&(k=x.substring(I-N,I)+x.substring(I,I+z),M=y.substring(0,B-N),O=y.substring(B+z),S=x.substring(0,I-N),w=x.substring(I+z))}return k.length*2>=y.length?[M,O,S,w,k]:null}var r=s(t,l,Math.ceil(t.length/4)),o=s(t,l,Math.ceil(t.length/2)),d;if(!r&&!o)return null;o?r?d=r[4].length>o[4].length?r:o:d=o:d=r;var u,p,E,v;e.length>n.length?(u=d[0],p=d[1],E=d[2],v=d[3]):(E=d[0],v=d[1],u=d[2],p=d[3]);var C=d[4];return[u,p,E,v,C]}function ss(e){for(var n=!1,t=[],l=0,s=null,r=0,o=0,d=0,u=0,p=0;r<e.length;)e[r][0]==T?(t[l++]=r,o=u,d=p,u=0,p=0,s=e[r][1]):(e[r][0]==j?u+=e[r][1].length:p+=e[r][1].length,s&&s.length<=Math.max(o,d)&&s.length<=Math.max(u,p)&&(e.splice(t[l-1],0,[R,s]),e[t[l-1]+1][0]=j,l--,l--,r=l>0?t[l-1]:-1,o=0,d=0,u=0,p=0,s=null,n=!0)),r++;for(n&&_e(e),rs(e),r=1;r<e.length;){if(e[r-1][0]==R&&e[r][0]==j){var E=e[r-1][1],v=e[r][1],C=fe(E,v),y=fe(v,E);C>=y?(C>=E.length/2||C>=v.length/2)&&(e.splice(r,0,[T,v.substring(0,C)]),e[r-1][1]=E.substring(0,E.length-C),e[r+1][1]=v.substring(C),r++):(y>=E.length/2||y>=v.length/2)&&(e.splice(r,0,[T,E.substring(0,y)]),e[r-1][0]=j,e[r-1][1]=v.substring(0,v.length-y),e[r+1][0]=R,e[r+1][1]=E.substring(y),r++),r++}r++}}var be=/[^a-zA-Z0-9]/,Ee=/\s/,ye=/[\r\n]/,ns=/\n\r?\n$/,is=/^\r?\n\r?\n/;function rs(e){function n(y,x){if(!y||!x)return 6;var B=y.charAt(y.length-1),Q=x.charAt(0),I=B.match(be),k=Q.match(be),M=I&&B.match(Ee),O=k&&Q.match(Ee),S=M&&B.match(ye),w=O&&Q.match(ye),z=S&&y.match(ns),N=w&&x.match(is);return z||N?5:S||w?4:I&&!M&&O?3:M||O?2:I||k?1:0}for(var t=1;t<e.length-1;){if(e[t-1][0]==T&&e[t+1][0]==T){var l=e[t-1][1],s=e[t][1],r=e[t+1][1],o=te(l,s);if(o){var d=s.substring(s.length-o);l=l.substring(0,l.length-o),s=d+s.substring(0,s.length-o),r=d+r}for(var u=l,p=s,E=r,v=n(l,s)+n(s,r);s.charAt(0)===r.charAt(0);){l+=s.charAt(0),s=s.substring(1)+r.charAt(0),r=r.substring(1);var C=n(l,s)+n(s,r);C>=v&&(v=C,u=l,p=s,E=r)}e[t-1][1]!=u&&(u?e[t-1][1]=u:(e.splice(t-1,1),t--),e[t][1]=p,E?e[t+1][1]=E:(e.splice(t+1,1),t--))}t++}}function _e(e,n){e.push([T,""]);for(var t=0,l=0,s=0,r="",o="",d;t<e.length;){if(t<e.length-1&&!e[t][1]){e.splice(t,1);continue}switch(e[t][0]){case j:s++,o+=e[t][1],t++;break;case R:l++,r+=e[t][1],t++;break;case T:var u=t-s-l-1;if(n){if(u>=0&&Ce(e[u][1])){var p=e[u][1].slice(-1);if(e[u][1]=e[u][1].slice(0,-1),r=p+r,o=p+o,!e[u][1]){e.splice(u,1),t--;var E=u-1;e[E]&&e[E][0]===j&&(s++,o=e[E][1]+o,E--),e[E]&&e[E][0]===R&&(l++,r=e[E][1]+r,E--),u=E}}if(Qe(e[t][1])){var p=e[t][1].charAt(0);e[t][1]=e[t][1].slice(1),r+=p,o+=p}}if(t<e.length-1&&!e[t][1]){e.splice(t,1);break}if(r.length>0||o.length>0){r.length>0&&o.length>0&&(d=me(o,r),d!==0&&(u>=0?e[u][1]+=o.substring(0,d):(e.splice(0,0,[T,o.substring(0,d)]),t++),o=o.substring(d),r=r.substring(d)),d=te(o,r),d!==0&&(e[t][1]=o.substring(o.length-d)+e[t][1],o=o.substring(0,o.length-d),r=r.substring(0,r.length-d)));var v=s+l;r.length===0&&o.length===0?(e.splice(t-v,v),t=t-v):r.length===0?(e.splice(t-v,v,[j,o]),t=t-v+1):o.length===0?(e.splice(t-v,v,[R,r]),t=t-v+1):(e.splice(t-v,v,[R,r],[j,o]),t=t-v+2)}t!==0&&e[t-1][0]===T?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,s=0,l=0,r="",o="";break}}e[e.length-1][1]===""&&e.pop();var C=!1;for(t=1;t<e.length-1;)e[t-1][0]===T&&e[t+1][0]===T&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),C=!0):e[t][1].substring(0,e[t+1][1].length)==e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),C=!0)),t++;C&&_e(e,n)}function ke(e){return e>=55296&&e<=56319}function Me(e){return e>=56320&&e<=57343}function Qe(e){return Me(e.charCodeAt(0))}function Ce(e){return ke(e.charCodeAt(e.length-1))}function os(e){for(var n=[],t=0;t<e.length;t++)e[t][1].length>0&&n.push(e[t]);return n}function he(e,n,t,l){return Ce(e)||Qe(l)?null:os([[T,e],[R,n],[j,t],[T,l]])}function ls(e,n,t){var l=typeof t=="number"?{index:t,length:0}:t.oldRange,s=typeof t=="number"?null:t.newRange,r=e.length,o=n.length;if(l.length===0&&(s===null||s.length===0)){var d=l.index,u=e.slice(0,d),p=e.slice(d),E=s?s.index:null;e:{var v=d+o-r;if(E!==null&&E!==v||v<0||v>o)break e;var C=n.slice(0,v),y=n.slice(v);if(y!==p)break e;var x=Math.min(d,v),B=u.slice(0,x),Q=C.slice(0,x);if(B!==Q)break e;var I=u.slice(x),k=C.slice(x);return he(B,I,k,p)}e:{if(E!==null&&E!==d)break e;var M=d,C=n.slice(0,M),y=n.slice(M);if(C!==u)break e;var O=Math.min(r-M,o-M),S=p.slice(p.length-O),w=y.slice(y.length-O);if(S!==w)break e;var I=p.slice(0,p.length-O),k=y.slice(0,y.length-O);return he(u,I,k,S)}}if(l.length>0&&s&&s.length===0)e:{var B=e.slice(0,l.index),S=e.slice(l.index+l.length),x=B.length,O=S.length;if(o<x+O)break e;var Q=n.slice(0,x),w=n.slice(o-O);if(B!==Q||S!==w)break e;var I=e.slice(x,r-O),k=n.slice(x,o-O);return he(B,I,k,S)}return null}function se(e,n,t,l){return Y(e,n,t,l,!0)}se.INSERT=j;se.DELETE=R;se.EQUAL=T;var cs=se;const Z=Ie(cs);const as={setup(){},data(){return{mcQuestionId:this.$route.params.contentId,userId:this.$route.params.userId,mcQuestion:{},mcQuestionEdit:{},comment:"",isEditMode:!1,changed:{question:!1,correct_answer:!1,incorrect_answer_1:!1,incorrect_answer_2:!1,incorrect_answer_3:!1,incorrect_answer_4:!1,explanation:!1}}},async created(){await this.getMCQuestionEdit(),await this.getMCQuestion(),this.mcQuestion.question!==this.mcQuestionEdit.question&&(this.changed.question=Z(this.mcQuestion.question,this.mcQuestion.question)),this.mcQuestion.correct_answer!==this.mcQuestionEdit.correct_answer&&(this.changed.correct_answer=Z(this.mcQuestion.correct_answer,this.mcQuestionEdit.correct_answer)),this.mcQuestion.incorrect_answer_1!==this.mcQuestionEdit.incorrect_answer_1&&(this.changed.incorrect_answer_1=Z(this.mcQuestion.incorrect_answer_1,this.mcQuestionEdit.incorrect_answer_1)),this.mcQuestion.incorrect_answer_2!==this.mcQuestionEdit.incorrect_answer_2&&(this.changed.correct_answer=Z(this.mcQuestion.incorrect_answer_2,this.mcQuestionEdit.incorrect_answer_2)),this.mcQuestion.incorrect_answer_3!==this.mcQuestionEdit.incorrect_answer_3&&(this.changed.incorrect_answer_3=Z(this.mcQuestion.incorrect_answer_3,this.mcQuestionEdit.incorrect_answer_3)),this.mcQuestion.incorrect_answer_4!==this.mcQuestionEdit.incorrect_answer_4&&(this.changed.incorrect_answer_4=Z(this.mcQuestion.incorrect_answer_4,this.mcQuestionEdit.incorrect_answer_4)),this.mcQuestion.explanation!==this.mcQuestionEdit.explanation&&(this.changed.explanation=Z(this.mcQuestion.explanation,this.mcQuestionEdit.explanation)),console.log("Changed object: "),console.log(this.changed);const e=document.getElementsByTagName("textarea");for(let t=0;t<e.length;t++)e[t].setAttribute("style","height:"+e[t].scrollHeight+"px;overflow-y:hidden;"),e[t].addEventListener("input",n,!1);function n(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}},methods:{async getMCQuestionEdit(){await fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId).then(function(e){return e.json()}).then(e=>{console.log(e),this.comment=e.comment,this.mcQuestionEdit=e})},async getMCQuestion(){await fetch("/questions/mc/show/"+this.mcQuestionId).then(function(e){return e.json()}).then(e=>{console.log(e),this.mcQuestion=e})},dismissEdit(){if(confirm("Delete this edit?")){const e=fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId,{method:"DELETE"});e.error&&console.log(e.error),this.$router.back()}},edit(){this.isEditMode=!0},saveEdit(){const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.mcQuestionEdit.name,question:this.mcQuestionEdit.question,correct_answer:this.mcQuestionEdit.correct_answer,incorrect_answer_1:this.mcQuestionEdit.incorrect_answer_1,incorrect_answer_2:this.mcQuestionEdit.incorrect_answer_2,incorrect_answer_3:this.mcQuestionEdit.incorrect_answer_3,incorrect_answer_4:this.mcQuestionEdit.incorrect_answer_4,correct_answer:this.mcQuestionEdit.correct_answer,explanation:this.mcQuestionEdit.explanation,edit:this.isEditMode})};var n="/questions/mc/"+this.mcQuestionEdit.mc_question_id+"/approve-edits";fetch(n,e).then(()=>{this.$router.back()});const t=fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId,{method:"DELETE"});t.error&&console.log(t.error)}}},A=e=>(de("data-v-d93fa095"),e=e(),ue(),e),hs={class:"container mt-4 mb-4"},ds=A(()=>i("h1",{class:"page-title"},"MC Question Change Comparison",-1)),us=A(()=>i("hr",null,null,-1)),ms=A(()=>i("div",{class:""},null,-1)),_s={class:"row"},gs={class:"col"},ps=A(()=>i("h2",null,"Change",-1)),vs=A(()=>i("h5",null,"Question",-1)),ws=["readonly"],fs=A(()=>i("h5",null,"Correct Answer",-1)),bs=["readonly"],Es=A(()=>i("h5",null,"Correct Incorrect Answer 1",-1)),ys=["readonly"],Is=A(()=>i("h5",null,"Correct Incorrect Answer 2",-1)),ks=["readonly"],Ms=A(()=>i("h5",null,"Correct Incorrect Answer 3",-1)),Qs=["readonly"],Cs=A(()=>i("h5",null,"Correct Incorrect Answer 4",-1)),xs=["readonly"],Ws=A(()=>i("h5",null,"Explanation",-1)),Os=["readonly"],Ss=A(()=>i("h3",null,"Comment",-1)),Bs=["readonly"],Ns={class:"col"},As=A(()=>i("h2",null,"Original",-1)),Ts=A(()=>i("h5",null,"Question",-1)),zs=A(()=>i("h5",null,"Correct Answer",-1)),Ls=A(()=>i("h5",null,"Correct Incorrect Answer 1",-1)),js=A(()=>i("h5",null,"Correct Incorrect Answer 2",-1)),Ds=A(()=>i("h5",null,"Correct Incorrect Answer 3",-1)),$s=A(()=>i("h5",null,"Correct Incorrect Answer 4",-1)),qs=A(()=>i("h5",null,"Explanation",-1));function Rs(e,n,t,l,s,r){return q(),H("div",hs,[ds,us,ms,i("div",_s,[i("div",gs,[ps,vs,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[0]||(n[0]=o=>s.mcQuestionEdit.question=o),readonly:!s.isEditMode},null,8,ws),[[G,s.mcQuestionEdit.question]]),fs,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[1]||(n[1]=o=>s.mcQuestionEdit.correct_answer=o),readonly:!s.isEditMode},null,8,bs),[[G,s.mcQuestionEdit.correct_answer]]),Es,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[2]||(n[2]=o=>s.mcQuestionEdit.incorrect_answer_1=o),readonly:!s.isEditMode},null,8,ys),[[G,s.mcQuestionEdit.incorrect_answer_1]]),Is,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[3]||(n[3]=o=>s.mcQuestionEdit.incorrect_answer_2=o),readonly:!s.isEditMode},null,8,ks),[[G,s.mcQuestionEdit.incorrect_answer_2]]),Ms,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[4]||(n[4]=o=>s.mcQuestionEdit.incorrect_answer_3=o),readonly:!s.isEditMode},null,8,Qs),[[G,s.mcQuestionEdit.incorrect_answer_3]]),Cs,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[5]||(n[5]=o=>s.mcQuestionEdit.incorrect_answer_4=o),readonly:!s.isEditMode},null,8,xs),[[G,s.mcQuestionEdit.incorrect_answer_4]]),Ws,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[6]||(n[6]=o=>s.mcQuestionEdit.explanation=o),readonly:!s.isEditMode},null,8,Os),[[G,s.mcQuestionEdit.explanation]]),Ss,P(i("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":n[7]||(n[7]=o=>s.mcQuestionEdit.comment=o),readonly:!s.isEditMode},null,8,Bs),[[G,s.mcQuestionEdit.comment]])]),i("div",Ns,[As,Ts,i("p",null,U(s.mcQuestion.question),1),zs,i("p",null,U(s.mcQuestion.correct_answer),1),Ls,i("p",null,U(s.mcQuestion.incorrect_answer_1),1),js,i("p",null,U(s.mcQuestion.incorrect_answer_2),1),Ds,i("p",null,U(s.mcQuestion.incorrect_answer_3),1),$s,i("p",null,U(s.mcQuestion.incorrect_answer_4),1),qs,i("p",null,U(s.mcQuestion.explanation),1)])])])}const Us=ee(as,[["render",Rs],["__scopeId","data-v-d93fa095"]]);const Vs={setup(){},data(){return{essayQuestionId:this.$route.params.contentId,userId:this.$route.params.userId,essayQuestion:{},essayQuestionEdit:{},comment:"",isEditMode:!1}},async created(){await this.getEssayQuestionEdit(),await this.getEssayQuestion();const e=document.getElementsByTagName("textarea");for(let t=0;t<e.length;t++)e[t].setAttribute("style","height:"+e[t].scrollHeight+"px;overflow-y:hidden;"),e[t].addEventListener("input",n,!1);function n(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}},methods:{async getEssayQuestionEdit(){await fetch("/questions/essay/submitted-for-review/"+this.essayQuestionId+"/"+this.userId).then(function(e){return e.json()}).then(e=>{console.log(e),this.essayQuestionEdit=e,this.comment=e.comment})},async getEssayQuestion(){await fetch("/questions/essay/show/"+this.essayQuestionId).then(function(e){return e.json()}).then(e=>{console.log(e),this.essayQuestion=e})},dismissEdit(){if(confirm("Delete this edit?")){const e=fetch("/questions/essay/submitted-for-review/"+this.essayQuestionId+"/"+this.userId,{method:"DELETE"});e.error&&console.log(e.error),this.$router.back()}},editMode(){this.isEditMode=!0},saveEdit(){const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.essayQuestionEdit.name,question:this.essayQuestionEdit.question,edit:this.isEditMode})};var n="/questions/essay/"+this.essayQuestionEdit.essay_question_id+"/approve-edits";fetch(n,e).then(()=>{this.$router.back()});const t=fetch("/questions/essay/submitted-for-review/"+this.essayQuestionEdit.essay_question_id+"/"+this.userId,{method:"DELETE"});t.error&&console.log(t.error)}}},Hs={class:"container mt-4 mb-4"},Fs=i("h1",{class:"page-title"},"Comparison",-1),Ps={class:"row"},Gs={class:"col"},Js=i("h2",null,"Change",-1),Zs=i("h5",null,"Question",-1),Ks=["readonly"],Xs=i("h3",null,"Comment",-1),Ys={class:"col"},en=i("h2",null,"Original",-1),tn=i("h5",null,"Question",-1);function sn(e,n,t,l,s,r){return q(),H("div",Hs,[Fs,i("div",Ps,[i("div",Gs,[Js,Zs,P(i("textarea",{readonly:!s.isEditMode,id:"content",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=o=>s.essayQuestionEdit.question=o)},`\r
                `,8,Ks),[[G,s.essayQuestionEdit.question]]),Xs,i("p",null,U(s.comment),1)]),i("div",Ys,[en,tn,i("p",null,U(s.essayQuestion.question),1)])])])}const nn=ee(Vs,[["render",sn]]);const rn={setup(){},data(){return{type:null,disableBtn:!1}},components:{SkillEditComparison:Xt,MCQuestionEditComparison:Us,EssayQuestionEditComparison:nn},async created(){this.type=this.$route.query.type},methods:{}},xe=e=>(de("data-v-e02bbfd0"),e=e(),ue(),e),on=xe(()=>i("div",{id:"banner"},[i("img",{src:Be,class:"img-fluid"})],-1)),ln={class:"container-fluid"},cn={class:"d-flex justify-content-end gap-3"},an=["disabled"],hn=["disabled"],dn=["disabled"],un=xe(()=>i("p",null," ",-1));function mn(e,n,t,l,s,r){const o=ce("SkillEditComparison"),d=ce("MCQuestionEditComparison"),u=ce("EssayQuestionEditComparison");return q(),H(Se,null,[on,i("div",ln,[s.type=="skill"?(q(),ae(o,{key:0,ref:"child"},null,512)):J("",!0),s.type=="mcquestion"?(q(),ae(d,{key:1,ref:"child"},null,512)):J("",!0),s.type=="essayquestion"?(q(),ae(u,{key:2,ref:"child"},null,512)):J("",!0),i("div",cn,[i("button",{disabled:s.disableBtn,class:K(["btn",s.disableBtn?"disable-btn":"red-btn"]),onClick:n[0]||(n[0]=p=>e.$refs.child.dismissEdit())}," Dismiss Edit ",10,an),i("button",{disabled:s.disableBtn,class:K(["btn",s.disableBtn?"disable-btn":"purple-btn"]),onClick:n[1]||(n[1]=p=>e.$refs.child.edit())}," Edit ",10,hn),i("button",{disabled:s.disableBtn,class:K(["btn",s.disableBtn?"disable-btn":"green-btn"]),onClick:n[2]||(n[2]=p=>e.$refs.child.saveEdit())}," Save Edit ",10,dn)]),un])],64)}const pn=ee(rn,[["render",mn],["__scopeId","data-v-e02bbfd0"]]);export{pn as default};

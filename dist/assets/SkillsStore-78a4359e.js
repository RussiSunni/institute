import{d as o}from"./main-b6eeeb3b.js";const k=o("skills",{state:()=>({nestedSkillsList:[],skillsList:[]}),actions:{async getNestedSkillsList(){const i=await(await fetch("/skills/nested-list")).json();this.nestedSkillsList=i},async getSkillsList(){const i=await(await fetch("/skills/list")).json();this.skillsList=i},async deleteSkill(t){var i=window.confirm("Delete skill?");if(i){for(let s=0;s<this.skillsList.length;s++)if(this.skillsList[s].parent==t){let e=this.skillsList[s].id;this.nestedSkillsList=this.nestedSkillsList.filter(n=>n.id!==e);const r=fetch("/skills/"+e,{method:"DELETE"});r.error&&console.log(r.error)}this.nestedSkillsList=this.nestedSkillsList.filter(s=>s.id!==t);const l=fetch("/skills/"+t,{method:"DELETE"});l.error&&console.log(l.error),this.getNestedSkillsList()}}}});export{k as u};

import{_ as m,j as v,s as u,i as p,o as c,c as d,b as s,B as k,t as a,a as h,p as S,e as f}from"./main-fb16489c.js";import{_ as g}from"./institute-collins-2-184bdfcb.js";const w={setup(){const t=v(),r=u(),n=p();return{userDetailsStore:t,skillsStore:r,usersStore:n}},data(){return{skillId:this.$route.params.skillId,versionNumber:this.$route.params.versionNumber,skillRevision:{}}},async created(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList(),this.usersStore.users.length==0&&await this.usersStore.getUsers(),await this.getSkillVersion()},methods:{async getSkillVersion(){let t="/skill-history/"+this.skillId+"/"+this.versionNumber;const r=await fetch(t);this.skillRevision=await r.json();for(let i=0;i<this.skillsStore.skillsList.length;i++)this.skillsStore.skillsList[i].id==this.skillRevision.parent&&(this.skillRevision.parentName=this.skillsStore.skillsList[i].name);for(let i=0;i<this.usersStore.users.length;i++)this.usersStore.users[i].id==this.skillRevision.user_id&&(this.skillRevision.userName=this.usersStore.users[i].username);var n=this.skillRevision.edited_date.replace("T"," ");n=n.replace("Z"," ");let l=n.split(/[- :]/);var e=new Date(Date.UTC(l[0],l[1]-1,l[2],l[3],l[4],l[5])),_={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};this.skillRevision.date=e.toLocaleDateString("en-US",_)}}},o=t=>(S("data-v-675b6e53"),t=t(),f(),t),y={class:"position-relative d-flex"},R={class:"container show-skill-ctnr"},x={class:"container mt-3"},L={class:"d-flex flex-column gap-2"},b={id:"skill-image"},T=["src"],D={class:"d-flex flex-column"},N={class:"skill-name"},M={class:"alert alert-warning d-flex",role:"alert"},I=o(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"},[s("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})],-1)),H={class:"ms-2"},V={key:0,class:"row pe-4 ps-4 ps-md-0 skill-description"},q={key:0},B=o(()=>s("div",{class:"row"},[s("div",{class:"col col-md-8 p-4 p-md-0"},[s("hr",{id:"hr-parent",class:"border border-2 opacity-100"})])],-1)),U={class:"mt-3 d-flex flex-column"},z=o(()=>s("div",{class:"h1-title"},"Type",-1)),C={class:"mastery-requirements"},j=["innerHTML"],E={class:"mt-3 d-flex flex-column"},P=o(()=>s("div",{class:"h1-title"},"Parent",-1)),Z={class:"mastery-requirements"},A=["innerHTML"],F={class:"mt-3 d-flex flex-column"},G=o(()=>s("div",{class:"h1-title"},"Mastery Requirements",-1)),J={class:"mastery-requirements"},K=["innerHTML"],O=o(()=>s("p",null,"Â ",-1)),Q=o(()=>s("div",{id:"banner"},[s("img",{src:g,class:"img-fluid"})],-1));function W(t,r,n,l,e,_){return c(),d("div",y,[s("div",R,[s("div",x,[s("div",{id:"skill-info-container",class:k({domain:e.skillRevision.type=="domain"})},[s("div",L,[s("div",b,[s("img",{src:e.skillRevision.icon_image?e.skillRevision.icon_image:"/images/skill-avatar/recurso.png",class:"skill-icon"},null,8,T)]),s("div",D,[s("div",N,a(e.skillRevision.name),1),s("div",M,[I,s("span",H," This is an old revision of this page, as edited by "+a(e.skillRevision.userName)+", at "+a(e.skillRevision.date)+". ",1)]),l.userDetailsStore.role=="admin"?(c(),d("div",V,[s("p",null,a(e.skillRevision.description),1)])):h("",!0)])]),e.skillRevision.type!="domain"?(c(),d("div",q,[B,s("div",U,[z,s("div",C,[s("div",{innerHTML:e.skillRevision.type},null,8,j)])]),s("div",E,[P,s("div",Z,[s("div",{innerHTML:e.skillRevision.parentName},null,8,A)])]),s("div",F,[G,s("div",J,[s("div",{innerHTML:e.skillRevision.mastery_requirements},null,8,K)])])])):h("",!0)],2),O])]),Q])}const $=m(w,[["render",W],["__scopeId","data-v-675b6e53"]]);export{$ as default};

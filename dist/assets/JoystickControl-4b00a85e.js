import{_ as X,r as ne,o as v,k as N,l as E,c as _,b as f,t as U,a as b,x as se,T as G,p as Z,e as K,y as oe,z as re,d as ae,w as le,i as pe}from"./main-693d91c7.js";const de={setup(){},props:["skill","showSkillPanel"],data(){return{}},mounted(){},computed:{},methods:{hideInfoPanel(){this.$parent.showSkillPanel=!1}}},z=e=>(Z("data-v-62b30510"),e=e(),K(),e),ce={key:0,class:"skill-panel-container"},he={class:"skill-info-panel-top"},fe={class:"closeButtonContainer"},ue=z(()=>f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"#888",width:"20",height:"20"},[f("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})],-1)),me=[ue],ve={class:"skill-name"},ye=["innerHTML"],ge={class:"skill-info-panel-bottom"},_e={key:0},$e=z(()=>f("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{d:"M6.34811 20.0423L6.34811 13.6494L-0.0358702 13.6583C-0.320945 13.6579 -0.594203 13.5444 -0.795782 13.3428C-0.997361 13.1412 -1.11082 12.868 -1.11132 12.5829L-1.11729 7.41477C-1.1168 7.1297 -1.00334 6.85644 -0.801757 6.65486C-0.600179 6.45328 -0.326921 6.33982 -0.0418461 6.33933L6.3481 6.34231L6.3481 -0.0506238C6.34659 -0.193451 6.3736 -0.335145 6.42756 -0.467396C6.48152 -0.599646 6.56134 -0.719794 6.66234 -0.820794C6.76334 -0.921794 6.88349 -1.00161 7.01574 -1.05557C7.14799 -1.10953 7.28969 -1.13655 7.43251 -1.13503L12.5827 -1.12308C12.8678 -1.12259 13.141 -1.00913 13.3426 -0.807549C13.5442 -0.60597 13.6577 -0.332713 13.6582 -0.047637L13.6552 6.34231L20.0481 6.34231C20.3325 6.34248 20.6052 6.45552 20.8063 6.65661C21.0074 6.8577 21.1204 7.13039 21.1206 7.41477L21.1325 12.565C21.1324 12.8494 21.0193 13.122 20.8182 13.3231C20.6171 13.5242 20.3444 13.6373 20.0601 13.6374L13.6552 13.6494L13.6641 20.0334C13.6636 20.3184 13.5502 20.5917 13.3486 20.7933C13.147 20.9948 12.8738 21.1083 12.5887 21.1088L7.43252 21.1267C7.28969 21.1282 7.148 21.1012 7.01575 21.0473C6.88349 20.9933 6.76335 20.9135 6.66235 20.8125C6.56135 20.7115 6.48153 20.5913 6.42757 20.4591C6.37361 20.3268 6.34659 20.1851 6.34811 20.0423Z",fill:"white"})],-1)),xe={key:2,class:"mt-4"},be=z(()=>f("p",null," This is a larger subject holding a series of more specific skills; click through to the skills within it to master each one! ",-1)),we=[be];function ke(e,t,i,s,n,o){const a=ne("router-link");return v(),N(G,{name:"skillPanel"},{default:E(()=>{var r,l;return[i.showSkillPanel?(v(),_("div",ce,[f("div",he,[f("div",fe,[f("button",{class:"closebtn",onClick:t[0]||(t[0]=(...p)=>o.hideInfoPanel&&o.hideInfoPanel(...p)),"b-on-hover":"",title:"Close Panel "},me)]),f("h1",ve,U((r=i.skill)==null?void 0:r.name),1),f("div",{class:"skill-mastery-requirement",innerHTML:i.skill.masteryRequirements},null,8,ye)]),f("div",ge,[i.skill.type!="domain"?(v(),_("hr",_e)):b("",!0),i.skill.type!="domain"?(v(),N(a,{key:1,class:"btn green-btn ms-auto me-2",target:"_blank",id:"skillLink",to:"/skills/"+i.skill.id,"b-on-hover":"",title:"To Skill Details Page"},{default:E(()=>[se("See MoreÂ  "),$e]),_:1},8,["to"])):b("",!0),((l=i.skill)==null?void 0:l.type)=="domain"?(v(),_("div",xe,we)):b("",!0)])])):b("",!0)]}),_:1})}const Ge=X(de,[["render",ke],["__scopeId","data-v-62b30510"]]);const M={setup(){},data(){return{oldScale:0,scalePercent:"0%",showLabel:oe(!1)}},computed:{},async mounted(){let e=document.getElementById("zoomRange");e.step="0.1",this.oldScale=this.$parent.scale;const t=this.$parent.scale/2*100;this.scalePercent=t+"%",e.addEventListener("mouseup",()=>{const i=this.oldScale/this.$parent.scale;let s=e.value>=1?this.$parent.panX:this.$parent.panX*e.value,n=e.value>=1?this.$parent.panY:this.$parent.panY*e.value;s=s*i,n=n*i,this.$parent.scale=e.value,this.oldScale=e.value,this.$parent.zoomInD3(e.value,s,n)}),e.addEventListener("touchend",()=>{const i=e.value/this.$parent.scale;let s=e.value>=1?this.$parent.panX:this.$parent.panX*e.value,n=e.value>=1?this.$parent.panY:this.$parent.panY*e.value;s=s*i,n=n*i,this.$parent.scale=e.value,this.$parent.zoomInD3(e.value,s,n)})},methods:{changeGradientBG(){const e=this.$parent.scale/2*100;this.scalePercent=e+"%"},showScaleLabel(){this.showLabel=!0,setTimeout(()=>{this.showLabel=!1},1500)}}},A=()=>{re(e=>({"3d22ce0a":e.scalePercent}))},B=M.setup;M.setup=B?(e,t)=>(A(),B(e,t)):A;const Ie={id:"sliderWrapper"},Te={key:0,id:"scaleLabel"},Oe={class:"slideContainer"};function Pe(e,t,i,s,n,o){return v(),_("div",Ie,[ae(G,null,{default:E(()=>[n.showLabel?(v(),_("div",Te,U(Number.parseFloat(this.$parent.scale).toFixed(2))+"x ",1)):b("",!0)]),_:1}),f("div",Oe,[le(f("input",{type:"range",min:"0.05",max:"2","onUpdate:modelValue":t[0]||(t[0]=a=>this.$parent.scale=a),id:"zoomRange",step:"0.01",orient:"vertical",onInput:t[1]||(t[1]=a=>o.changeGradientBG())},null,544),[[pe,this.$parent.scale]])])])}const Ze=X(M,[["render",Pe],["__scopeId","data-v-3893a161"]]),I=(e,t)=>{const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)},Ce=(e,t)=>{const i=t.x-e.x,s=t.y-e.y;return Ee(Math.atan2(s,i))},Se=(e,t,i)=>{const s={x:0,y:0};return i=D(i),s.x=e.x-t*Math.cos(i),s.y=e.y-t*Math.sin(i),s},D=e=>e*(Math.PI/180),Ee=e=>e*(180/Math.PI),De=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,C=new Map,F=e=>{C.has(e)&&clearTimeout(C.get(e)),C.set(e,setTimeout(e,100))},T=(e,t,i)=>{const s=t.split(/[ ,]+/g);let n;for(let o=0;o<s.length;o+=1)n=s[o],e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&e.attachEvent(n,i)},H=(e,t,i)=>{const s=t.split(/[ ,]+/g);let n;for(let o=0;o<s.length;o+=1)n=s[o],e.removeEventListener?e.removeEventListener(n,i):e.detachEvent&&e.detachEvent(n,i)},q=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),J=()=>{const e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},R=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},L=(e,t,i)=>{const s=W(e);for(let n in s)if(s.hasOwnProperty(n))if(typeof t=="string")s[n]=t+" "+i;else{let o="";for(let a=0,r=t.length;a<r;a+=1)o+=t[a]+" "+i+", ";s[n]=o.slice(0,-2)}return s},Ye=(e,t)=>{const i=W(e);for(let s in i)i.hasOwnProperty(s)&&(i[s]=t);return i},W=e=>{const t={};return t[e]="",["webkit","Moz","o"].forEach(function(s){t[s+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},S=(e,t)=>{for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},Xe=(e,t)=>{const i={};for(let s in e)e.hasOwnProperty(s)&&t.hasOwnProperty(s)?i[s]=t[s]:e.hasOwnProperty(s)&&(i[s]=e[s]);return i},Y=(e,t)=>{if(e.length)for(let i=0,s=e.length;i<s;i+=1)t(e[i]);else t(e)},ze=(e,t,i)=>({x:Math.min(Math.max(e.x,t.x-i),t.x+i),y:Math.min(Math.max(e.y,t.y-i),t.y+i)});var Me="ontouchstart"in window,Le=!!window.PointerEvent,Ne=!!window.MSPointerEvent,x={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},g,w={};Le?g=x.pointer:Ne?g=x.MSPointer:Me?(g=x.touch,w=x.mouse):g=x.mouse;function m(){}m.prototype.on=function(e,t){var i=this,s=e.split(/[ ,]+/g),n;i._handlers_=i._handlers_||{};for(var o=0;o<s.length;o+=1)n=s[o],i._handlers_[n]=i._handlers_[n]||[],i._handlers_[n].push(t);return i};m.prototype.off=function(e,t){var i=this;return i._handlers_=i._handlers_||{},e===void 0?i._handlers_={}:t===void 0?i._handlers_[e]=null:i._handlers_[e]&&i._handlers_[e].indexOf(t)>=0&&i._handlers_[e].splice(i._handlers_[e].indexOf(t),1),i};m.prototype.trigger=function(e,t){var i=this,s=e.split(/[ ,]+/g),n;i._handlers_=i._handlers_||{};for(var o=0;o<s.length;o+=1)n=s[o],i._handlers_[n]&&i._handlers_[n].length&&i._handlers_[n].forEach(function(a){a.call(i,{type:n,target:i},t)})};m.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=Xe(t.options,e))};m.prototype.bindEvt=function(e,t){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[t]=function(){typeof i["on"+t]=="function"?i["on"+t].apply(i,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},T(e,g[t],i._domHandlers_[t]),w[t]&&T(e,w[t],i._domHandlers_[t]),i};m.prototype.unbindEvt=function(e,t){var i=this;return i._domHandlers_=i._domHandlers_||{},H(e,g[t],i._domHandlers_[t]),w[t]&&H(e,w[t],i._domHandlers_[t]),delete i._domHandlers_[t],this};function c(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=c.id,c.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}c.prototype=new m;c.constructor=c;c.id=0;c.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};c.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=Ye("borderRadius","50%"),i=L("transition","opacity",e),s={};return s.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},s.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},s.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5",transform:"translate(0px, 0px)"},S(s.el,i),this.options.shape==="circle"&&S(s.back,t),S(s.front,t),this.applyStyles(s),this};c.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var i in e[t])this.ui[t].style[i]=e[t][i];return this};c.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};c.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};c.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};c.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t};c.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var i=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=i,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){const i=t.options.restJoystick,s={};s.x=i===!0||i.x!==!1?0:t.instance.frontPosition.x,s.y=i===!0||i.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,s)}return t};c.prototype.setPosition=function(e,t){var i=this;i.frontPosition={x:t.x,y:t.y};var s=i.options.fadeTime+"ms",n={};n.front=L("transition",["transform"],s);var o={front:{}};o.front={transform:"translate("+i.frontPosition.x+"px,"+i.frontPosition.y+"px)"},i.applyStyles(n),i.applyStyles(o),i.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(i),i.restCallback()},i.options.fadeTime)};c.prototype.restCallback=function(){var e=this,t={};t.front=L("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)};c.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};c.prototype.computeDirection=function(e){var t=e.angle.radian,i=Math.PI/4,s=Math.PI/2,n,o,a;if(t>i&&t<i*3&&!e.lockX?n="up":t>-i&&t<=i&&!e.lockY?n="left":t>-i*3&&t<=-i&&!e.lockX?n="down":e.lockY||(n="right"),e.lockY||(t>-s&&t<s?o="left":o="right"),e.lockX||(t>0?a="up":a="down"),e.force>this.options.threshold){var r={},l;for(l in this.direction)this.direction.hasOwnProperty(l)&&(r[l]=this.direction[l]);var p={};this.direction={x:o,y:a,angle:n},e.direction=this.direction;for(l in r)r[l]===this.direction[l]&&(p[l]=!0);if(p.x&&p.y&&p.angle)return e;(!p.x||!p.y)&&this.trigger("plain",e),p.x||this.trigger("plain:"+o,e),p.y||this.trigger("plain:"+a,e),p.angle||this.trigger("dir dir:"+n,e)}else this.resetDirection();return e};function d(e,t){var i=this;i.nipples=[],i.idles=[],i.actives=[],i.ids=[],i.pressureIntervals={},i.manager=e,i.id=d.id,d.id+=1,i.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},i.config(t),(i.options.mode==="static"||i.options.mode==="semi")&&(i.options.multitouch=!1),i.options.multitouch||(i.options.maxNumberOfNipples=1);const s=getComputedStyle(i.options.zone.parentElement);return s&&s.display==="flex"&&(i.parentIsFlex=!0),i.updateBox(),i.prepareNipples(),i.bindings(),i.begin(),i.nipples}d.prototype=new m;d.constructor=d;d.id=0;d.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(i){if(i===void 0)return t[0];for(var s=0,n=t.length;s<n;s+=1)if(t[s].identifier===i)return t[s];return!1}};d.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"};d.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var i=e.createNipple(t.position,e.manager.getIdentifier());i.add(),e.idles.push(i)}};d.prototype.createNipple=function(e,t){var i=this,s=i.manager.scroll,n={},o=i.options,a={x:i.parentIsFlex?s.x:s.x+i.box.left,y:i.parentIsFlex?s.y:s.y+i.box.top};if(e.x&&e.y)n={x:e.x-a.x,y:e.y-a.y};else if(e.top||e.right||e.bottom||e.left){var r=document.createElement("DIV");r.style.display="hidden",r.style.top=e.top,r.style.right=e.right,r.style.bottom=e.bottom,r.style.left=e.left,r.style.position="absolute",o.zone.appendChild(r);var l=r.getBoundingClientRect();o.zone.removeChild(r),n=e,e={x:l.left+s.x,y:l.top+s.y}}var p=new c(i,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:t,position:e,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(R(p.ui.el,n),R(p.ui.front,p.frontPosition)),i.nipples.push(p),i.trigger("added "+p.identifier+":added",p),i.manager.trigger("added "+p.identifier+":added",p),i.bindNipple(p),p};d.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()};d.prototype.bindNipple=function(e){var t=this,i,s=function(n,o){i=n.type+" "+o.id+":"+n.type,t.trigger(i,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",s),e.on("dir:up dir:right dir:down dir:left",s),e.on("plain:up plain:right plain:down plain:left",s)};d.prototype.pressureFn=function(e,t,i){var s=this,n=0;clearInterval(s.pressureIntervals[i]),s.pressureIntervals[i]=setInterval(function(){var o=e.force||e.pressure||e.webkitForce||0;o!==n&&(t.trigger("pressure",o),s.trigger("pressure "+t.identifier+":pressure",o),n=o)}.bind(s),100)};d.prototype.onstart=function(e){var t=this,i=t.options,s=e;e=q(e),t.updateBox();var n=function(o){t.actives.length<i.maxNumberOfNipples?t.processOnStart(o):s.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(a){if(Object.values(s.touches).findIndex(function(l){return l.identifier===a})<0){var r=[e[0]];r.identifier=a,t.processOnEnd(r)}}),t.actives.length<i.maxNumberOfNipples&&t.processOnStart(o))};return Y(e,n),t.manager.bindDocument(),!1};d.prototype.processOnStart=function(e){var t=this,i=t.options,s,n=t.manager.getIdentifier(e),o=e.force||e.pressure||e.webkitForce||0,a={x:e.pageX,y:e.pageY},r=t.getOrCreate(n,a);r.identifier!==n&&t.manager.removeIdentifier(r.identifier),r.identifier=n;var l=function(u){u.trigger("start",u),t.trigger("start "+u.id+":start",u),u.show(),o>0&&t.pressureFn(e,u,u.identifier),t.processOnMove(e)};if((s=t.idles.indexOf(r))>=0&&t.idles.splice(s,1),t.actives.push(r),t.ids.push(r.identifier),i.mode!=="semi")l(r);else{var p=I(a,r.position);if(p<=i.catchDistance)l(r);else{r.destroy(),t.processOnStart(e);return}}return r};d.prototype.getOrCreate=function(e,t){var i=this,s=i.options,n;return/(semi|static)/.test(s.mode)?(n=i.idles[0],n?(i.idles.splice(0,1),n):s.mode==="semi"?i.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(n=i.createNipple(t,e),n)};d.prototype.processOnMove=function(e){var t=this,i=t.options,s=t.manager.getIdentifier(e),n=t.nipples.get(s),o=t.manager.scroll;if(!De(e)){this.processOnEnd(e);return}if(!n){console.error("Found zombie joystick with ID "+s),t.manager.removeIdentifier(s);return}if(i.dynamicPage){var a=n.el.getBoundingClientRect();n.position={x:o.x+a.left,y:o.y+a.top}}n.identifier=s;var r=n.options.size/2,l={x:e.pageX,y:e.pageY};i.lockX&&(l.y=n.position.y),i.lockY&&(l.x=n.position.x);var p=I(l,n.position),u=Ce(l,n.position),Q=D(u),j=p/r,ee={distance:p,position:l},k,y;if(n.options.shape==="circle"?(k=Math.min(p,r),y=Se(n.position,k,u)):(y=ze(l,n.position,r),k=I(y,n.position)),i.follow){if(p>r){let te=l.x-y.x,ie=l.y-y.y;n.position.x+=te,n.position.y+=ie,n.el.style.top=n.position.y-(t.box.top+o.y)+"px",n.el.style.left=n.position.x-(t.box.left+o.x)+"px",p=I(l,n.position)}}else l=y,p=k;var O=l.x-n.position.x,P=l.y-n.position.y;n.frontPosition={x:O,y:P},i.dataOnly||(n.ui.front.style.transform="translate("+O+"px,"+P+"px)");var $={identifier:n.identifier,position:l,force:j,pressure:e.force||e.pressure||e.webkitForce||0,distance:p,angle:{radian:Q,degree:u},vector:{x:O/r,y:-P/r},raw:ee,instance:n,lockX:i.lockX,lockY:i.lockY};$=n.computeDirection($),$.angle={radian:D(180-u),degree:180-u},n.trigger("move",$),t.trigger("move "+n.id+":move",$)};d.prototype.processOnEnd=function(e){var t=this,i=t.options,s=t.manager.getIdentifier(e),n=t.nipples.get(s),o=t.manager.removeIdentifier(n.identifier);n&&(i.dataOnly||n.hide(function(){i.mode==="dynamic"&&(n.trigger("removed",n),t.trigger("removed "+n.id+":removed",n),t.manager.trigger("removed "+n.id+":removed",n),n.destroy())}),clearInterval(t.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger("end",n),t.trigger("end "+n.id+":end",n),t.ids.indexOf(n.identifier)>=0&&t.ids.splice(t.ids.indexOf(n.identifier),1),t.actives.indexOf(n)>=0&&t.actives.splice(t.actives.indexOf(n),1),/(semi|static)/.test(i.mode)?t.idles.push(n):t.nipples.indexOf(n)>=0&&t.nipples.splice(t.nipples.indexOf(n),1),t.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(t.manager.ids[o.id]=o.identifier))};d.prototype.onDestroyed=function(e,t){var i=this;i.nipples.indexOf(t)>=0&&i.nipples.splice(i.nipples.indexOf(t),1),i.actives.indexOf(t)>=0&&i.actives.splice(i.actives.indexOf(t),1),i.idles.indexOf(t)>=0&&i.idles.splice(i.idles.indexOf(t),1),i.ids.indexOf(t.identifier)>=0&&i.ids.splice(i.ids.indexOf(t.identifier),1),i.manager.removeIdentifier(t.identifier),i.manager.unbindDocument()};d.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(i){i.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};function h(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=J(),t.config(e),t.prepareCollections();var i=function(){var n;t.collections.forEach(function(o){o.forEach(function(a){n=a.el.getBoundingClientRect(),a.position={x:t.scroll.x+n.left,y:t.scroll.y+n.top}})})};T(window,"resize",function(){F(i)});var s=function(){t.scroll=J()};return T(window,"scroll",function(){F(s)}),t.collections}h.prototype=new m;h.constructor=h;h.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var i;return e.collections.every(function(s){return i=s.get(t),!i}),i}};h.prototype.create=function(e){return this.createCollection(e)};h.prototype.createCollection=function(e){var t=this,i=new d(t,e);return t.bindCollection(i),t.collections.push(i),i};h.prototype.bindCollection=function(e){var t=this,i,s=function(n,o){i=n.type+" "+o.id+":"+n.type,t.trigger(i,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",s),e.on("dir:up dir:right dir:down dir:left",s),e.on("plain:up plain:right plain:down plain:left",s)};h.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)};h.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)};h.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]};h.prototype.removeIdentifier=function(e){var t={};for(var i in this.ids)if(this.ids[i]===e){t.id=i,t.identifier=this.ids[i],delete this.ids[i];break}return t};h.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1};h.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1};h.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1};h.prototype.onAny=function(e,t){var i=this,s,n="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=q(t);var o=function(r,l,p){p.ids.indexOf(l)>=0&&(p[n](r),r._found_=!0)},a=function(r){s=i.getIdentifier(r),Y(i.collections,o.bind(null,r,s)),r._found_||i.removeIdentifier(s)};return Y(t,a),!1};h.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()};h.prototype.onDestroyed=function(e,t){var i=this;if(i.collections.indexOf(t)<0)return!1;i.collections.splice(i.collections.indexOf(t),1)};const V=new h,Ae={create:function(e){return V.create(e)},factory:V};const Be={setup(){},data(){return{holdTime:0,interval:null,fps:10,holdTimeInterval:null,fnZoomKey:!1,lefClick:!1,oldMY:0,oldScale:0}},computed:{},async mounted(){this.oldScale=this.$parent.scale;var e=Ae.create({zone:document.getElementById("panJoystick"),mode:"static",dynamicPage:!0,position:{right:"70%",bottom:"33%"},color:"#184e80"});const t=Math.floor(1e3/this.fps)+1;e.on("dir:up plain:up dir:left plain:left dir:down plain:down dir:right plain:right",(i,s)=>{clearInterval(this.interval),this.interval=null,this.holdTime=0;const n=this.$parent.scale>=1?this.$parent.scale*10:20/this.$parent.scale,o=this.$parent.scale>1?this.$parent.scale*15:20/this.$parent.scale;if(this.interval==null)switch(s.direction.angle){case"right":this.interval=setInterval(()=>{this.$parent.panX=this.$parent.panX-20-(this.holdTime*o+n),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break;case"left":this.interval=setInterval(()=>{this.$parent.panX=this.$parent.panX+20+(this.holdTime*o+n),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break;case"up":this.interval=setInterval(()=>{this.$parent.panY=this.$parent.panY+20+(this.holdTime*o+n),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break;case"down":this.interval=setInterval(()=>{this.$parent.panY=this.$parent.panY-20-(this.holdTime*o+n),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break}}).on("end",(i,s)=>{clearInterval(this.interval)}),e.on("start",(i,s)=>{this.holdTimeInterval=setInterval(()=>{this.holdTime+=1},300)}).on("end",(i,s)=>{clearInterval(this.holdTimeInterval),this.holdTime=0,this.interval=null}),this.$parent.$refs.canvas.addEventListener("keydown",i=>{if(this.interval==null){this.holdTimeInterval=setInterval(()=>{this.holdTime+=1},300);const s=this.$parent.scale>=1?this.$parent.scale/10:50/this.$parent.scale,n=this.$parent.scale>1?this.$parent.scale*15:10/this.$parent.scale;switch(i.code){case"ArrowRight":this.interval=setInterval(()=>{this.$parent.panX=this.$parent.panX-20-(this.holdTime*n+s),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break;case"ArrowLeft":this.interval=setInterval(()=>{this.$parent.panX=this.$parent.panX+20+(this.holdTime*n+s),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break;case"ArrowUp":this.interval=setInterval(()=>{this.$parent.panY=this.$parent.panY+20+(this.holdTime*n+s),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break;case"ArrowDown":this.interval=setInterval(()=>{this.$parent.panY=this.$parent.panY-20-(this.holdTime*n+s),this.$parent.panInD3(this.$parent.panX,this.$parent.panY)},t);break;case"PageUp":this.interval=setInterval(()=>{this.$parent.scale=this.$parent.scale+.03;const o=this.oldScale/this.$parent.scale;let a=this.$parent.scale>=1?this.$parent.panX:this.$parent.panX*this.$parent.scale,r=this.$parent.scale>=1?this.$parent.panY:this.$parent.panY*this.$parent.scale;a=a*o,r=r*o,this.oldScale=this.$parent.scale,this.$parent.zoomInD3(this.$parent.scale,a,r),i.preventDefault()},50);break;case"PageDown":this.interval=setInterval(()=>{this.$parent.scale=this.$parent.scale-.03;const o=this.oldScale/this.$parent.scale;let a=this.$parent.scale>=1?this.$parent.panX:this.$parent.panX*this.$parent.scale,r=this.$parent.scale>=1?this.$parent.panY:this.$parent.panY*this.$parent.scale;a=a*o,r=r*o,this.oldScale=this.$parent.scale,this.$parent.zoomInD3(this.$parent.scale,a,r)},50);break}}(i.code.includes("Shift")||i.code.includes("Control"))&&(this.fnZoomKey=!0,i.preventDefault()),(i.code.includes("Arrow")||i.code.includes("Page"))&&i.preventDefault()},!1),this.$parent.$refs.canvas.addEventListener("keyup",i=>{clearInterval(this.interval),clearInterval(this.holdTimeInterval),this.interval=null,this.holdTime=0,(i.code.includes("Shift")||i.code.includes("Control"))&&(this.fnZoomKey=!1)},!1),this.$parent.$refs.canvas.addEventListener("mousemove",i=>{if(this.fnZoomKey)if(i.pageY<this.oldMY){this.$parent.scale+=.01;const s=this.oldScale/this.$parent.scale;let n=this.$parent.scale>=1?this.$parent.panX:this.$parent.panX*this.$parent.scale,o=this.$parent.scale>=1?this.$parent.panY:this.$parent.panY*this.$parent.scale;n=n*s,o=o*s,this.oldScale=this.$parent.scale,this.$parent.zoomInD3(this.$parent.scale,n,o)}else{this.$parent.scale-=.01;const s=this.oldScale/this.$parent.scale;let n=this.$parent.scale>=1?this.$parent.panX:this.$parent.panX*this.$parent.scale,o=this.$parent.scale>=1?this.$parent.panY:this.$parent.panY*this.$parent.scale;n=n*s,o=o*s,this.oldScale=this.$parent.scale,this.$parent.zoomInD3(this.$parent.scale,n,o)}this.oldMY=i.pageY})},watch:{},methods:{}},Fe=e=>(Z("data-v-8d7b9986"),e=e(),K(),e),He={id:"controlsWrapper"},Je=Fe(()=>f("div",{id:"panJoystick"},null,-1)),Re=[Je];function Ve(e,t,i,s,n,o){return v(),_("div",He,Re)}const Ke=X(Be,[["render",Ve],["__scopeId","data-v-8d7b9986"]]);export{Ke as J,Ge as N,Ze as S};

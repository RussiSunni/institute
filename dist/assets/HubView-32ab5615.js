import{_ as f,o,c as r,d as e,b as k,F as w,k as b,t as d,p as g,f as v,g as p,e as _,v as h,l as x,i as m,a as S,w as N,j as I}from"./main-988510fb.js";import{u as C}from"./AssessmentsStore-e91e23ac.js";import{u as U}from"./UsersStore-0508f482.js";import{u as L}from"./InstructorStudentsStore-f293d7d2.js";import{_ as V}from"./general-banner-1c13aca4.js";const j={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&&s.push(this.userSkills[t].name);return s.length>0&&(this.noSkills=!1),s}},methods:{}},y=s=>(g("data-v-85fb1c44"),s=s(),v(),s),A={class:"table-responsive"},P={class:"table table-bordered"},M=y(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Available Skills")])],-1)),T={key:0},B=y(()=>e("td",{id:"no-skill-cell"},null,-1)),O=[B];function q(s,t,c,l,n,a){return o(),r("div",A,[e("table",P,[M,e("tbody",null,[n.noSkills?(o(),r("tr",T,O)):k("",!0),(o(!0),r(w,null,b(a.availableSkills,i=>(o(),r("tr",null,[e("td",null,d(i),1)]))),256))])])])}const F=f(j,[["render",q],["__scopeId","data-v-85fb1c44"]]);const H={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var t="/notifications/edit";fetch(t,s)}}},J=s=>(g("data-v-1b87a8b3"),s=s(),v(),s),R={class:"table table-bordered"},E=J(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Notifications")])],-1)),z={key:0},G={key:1},K={key:0},Q={key:1};function W(s,t,c,l,n,a){return o(),r("table",R,[E,e("tbody",null,[e("tr",null,[l.userDetailsStore.role!="admin"?(o(),r("td",z,d(n.notifications.notification_1),1)):(o(),r("td",G,[_(e("textarea",{onChange:t[0]||(t[0]=i=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=i=>n.notifications.notification_1=i),class:"form-control",rows:"3"},null,544),[[h,n.notifications.notification_1]])]))]),e("tr",null,[l.userDetailsStore.role!="admin"?(o(),r("td",K,d(n.notifications.notification_2),1)):(o(),r("td",Q,[_(e("textarea",{onChange:t[2]||(t[2]=i=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=i=>n.notifications.notification_2=i),class:"form-control",rows:"3"},null,544),[[h,n.notifications.notification_2]])]))])])])}const X=f(H,[["render",W],["__scopeId","data-v-1b87a8b3"]]);const Y={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var t="/news/edit";fetch(t,s)}}},Z=s=>(g("data-v-d23c56fb"),s=s(),v(),s),ss={class:"container"},ts={class:"table table-bordered"},es=Z(()=>e("thead",null,[e("tr",null,[e("th",null,"News")])],-1)),ns={class:"row border"},os={id:"first-cell",class:"col-lg-3 border col-md-6 news-cell"},is={key:0},rs={class:"col-lg-3 col-md-6 border news-cell"},ls={key:0},as={class:"col-lg-3 col-md-6 border news-cell"},ds={key:0},cs={id:"last-cell",class:"col-lg-3 border col-md-6 news-cell"},us={key:0};function _s(s,t,c,l,n,a){return o(),r("div",ss,[e("table",ts,[es,e("tbody",null,[e("tr",null,[e("div",ns,[e("div",os,[l.userDetailsStore.role!="admin"?(o(),r("p",is,d(n.news.news_1),1)):_((o(),r("textarea",{key:1,onChange:t[0]||(t[0]=i=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=i=>n.news.news_1=i),class:"form-control",rows:"3"},null,544)),[[h,n.news.news_1]])]),e("div",rs,[l.userDetailsStore.role!="admin"?(o(),r("p",ls,d(n.news.news_2),1)):_((o(),r("textarea",{key:1,onChange:t[2]||(t[2]=i=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=i=>n.news.news_2=i),class:"form-control",rows:"3"},null,544)),[[h,n.news.news_2]])]),e("div",as,[l.userDetailsStore.role!="admin"?(o(),r("p",ds,d(n.news.news_3),1)):_((o(),r("textarea",{key:1,onChange:t[4]||(t[4]=i=>a.SaveChange()),"onUpdate:modelValue":t[5]||(t[5]=i=>n.news.news_3=i),class:"form-control",rows:"3"},null,544)),[[h,n.news.news_3]])]),e("div",cs,[l.userDetailsStore.role!="admin"?(o(),r("p",us,d(n.news.news_4),1)):_((o(),r("textarea",{key:1,onChange:t[6]||(t[6]=i=>a.SaveChange()),"onUpdate:modelValue":t[7]||(t[7]=i=>n.news.news_4=i),class:"form-control",rows:"3"},null,544)),[[h,n.news.news_4]])])])])])])])}const hs=f(Y,[["render",_s],["__scopeId","data-v-d23c56fb"]]);const ms={setup(){const s=C(),t=U(),c=x(),l=p(),n=L();return{usersStore:t,skillsStore:c,assessmentsStore:s,userDetailsStore:l,instructorStudentsStore:n}},data(){return{assessments:[],studentIds:[]}},async created(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},computed:{},methods:{}},fs={class:"container-fluid"},Ss=e("div",{id:"question-header"},[e("div",{id:"assessment-tile"},"Assessments")],-1),ps={id:"list-body"},ws={class:"assessment"},gs={id:"student-name"},vs={id:"skill-name"},ks={id:"date"};function bs(s,t,c,l,n,a){const i=m("RouterLink");return o(),r("div",fs,[Ss,e("div",ps,[(o(!0),r(w,null,b(this.assessments,u=>(o(),r("div",ws,[S(i,{class:"assessment-link",to:"/mark-assessment/"+u.id},{default:N(()=>[e("span",gs,d(u.studentUsername)+", ",1),e("span",vs,d(u.skillName)+", ",1),e("span",ks,d(u.date),1)]),_:2},1032,["to"])]))),256))])])}const ys=f(ms,[["render",bs]]),$s="/images/post-login.png";const Ds={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},components:{News:hs,Notifications:X,StudentProgress:F,MarkAssessment:ys},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},xs=e("div",{id:"banner"},[e("img",{src:V,class:""})],-1),Ns={class:"container post-login-container min-vh-100"},Is={class:"row text-center text-md-start"},Cs={id:"user-name"},Us={class:"row content-row"},Ls={id:"profile-image-column",class:"column col-lg-4 col-md-6 mx-0"},Vs=["src"],js={id:"middle-profile-column",class:"column col-lg-4 col-md-6"},As={key:1},Ps=e("div",{class:"column col-lg-4 col-md-6"},null,-1),Ms={id:"notif-col",class:"column col-lg-3 col-md-6"},Ts=e("div",{id:"sub-image",class:"column col-lg-9 col-md-6 d-none d-lg-block"},[e("img",{src:$s,class:"img-fluid"})],-1),Bs={id:"news-row",class:"row"};function Os(s,t,c,l,n,a){const i=m("StudentProgress"),u=m("MarkAssessment"),$=m("Notifications"),D=m("News");return o(),r(w,null,[xs,e("div",Ns,[e("div",Is,[e("h1",Cs,d(a.name),1)]),e("div",Us,[e("div",Ls,[e("img",{id:"profile-img",src:l.userDetailsStore.avatar,class:"img-fluid"},null,8,Vs)]),e("div",js,[l.userDetailsStore.role=="student"?(o(),I(i,{key:0,userId:l.userDetailsStore.userId},null,8,["userId"])):l.userDetailsStore.role=="instructor"?(o(),r("div",As,[S(u)])):k("",!0)]),Ps,e("div",Ms,[S($)]),Ts]),e("div",Bs,[S(D)])])],64)}const Es=f(Ds,[["render",Os]]);export{Es as default};

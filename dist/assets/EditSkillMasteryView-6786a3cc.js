import{u as _}from"./UsersStore-0632595b.js";import{u as k}from"./SkillsStore-4fc4e9da.js";import{u as p}from"./UserSkillsStore-f21407c0.js";import{_ as S,o as r,c,b as s,w as d,s as u,F as m,i as g,k as v,K as h,t as f,p as x,d as b}from"./main-87f37ff6.js";import{_ as y}from"./edit-mastery-skill-banner-9e7c0291.js";import{_ as w}from"./recurso-69-12793b41.js";import"./SkillTreeStore-b03ddc0c.js";const M={setup(){const l=_(),e=k(),a=p();return{usersStore:l,skillsStore:e,userSkillsStore:a}},data(){return{user:{id:null,username:null,avatar:null},inputText:"",suggestSkills:[],selectedSkillId:null,checkUnlock:!1,checkMastered:!1}},async created(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList(),this.usersStore.users.length<1&&await this.usersStore.getUsers();const l=this.$route.params.id;this.usersStore.users.forEach(e=>{e.id==l&&(this.user.id=e.id,this.user.username=e.username,this.user.avatar=e.avatar)})},methods:{getReferenceSkill(){this.inputText.length<2?this.suggestSkills=[]:this.suggestSkills=this.skillsStore.skillsList.filter(l=>l.name.toLowerCase().includes(this.inputText.toLowerCase()))},handleChooseSuggestSkill(l){this.inputText=l.name,this.selectedSkillId=l.id,this.suggestSkills=[]},handleSubmitForm(){this.checkUnlock&&this.userSkillsStore.MakeAccessible(this.user.id,this.selectedSkillId),this.checkMastered&&this.userSkillsStore.MakeMastered(this.user.id,this.selectedSkillId),alert("your action is submitted")}}},i=l=>(x("data-v-01435aef"),l=l(),b(),l),U=i(()=>s("div",{id:"banner"},[s("img",{src:y,class:"image-fluid"})],-1)),I={id:"main-container",class:"container"},C=i(()=>s("div",{class:"row"},[s("div",{class:"col-10 d-flex align-items-end"},[s("h2",{id:"header-tile"},"Edit Skill Mastery"),s("img",{src:w,id:"header-icon"})])],-1)),T={id:"edit-skill-mastery",class:"container-fluid mt-5 p-3 p-xl-5 pt-5"},V={class:"row"},L={class:"col-12 col-md-4 col-xl-2 d-flex align-content-center"},E=["src"],F={class:"col-12 col-md-6 col-xl-3 mt-5 mt-xl-0"},R={class:"mb-3",id:"student-form-name"},B=i(()=>s("label",{class:"form-label"},"Student Name:",-1)),N={class:"row mt-3 mt-md-4 mt-xl-5"},D={class:"col col-md-10 col-xl-5 mb-3 mt-md-3 mt-xl-5 position-relative"},A={key:0,id:"suggest-skills",class:"flex flex-column position-absolute"},K=["onClick"],j={class:"row mt-2"},q={class:"col col-md-10 col-xl-5 row pe-0"},z={class:"col"},G={class:"control control-checkbox"},H=i(()=>s("span",{class:"my-auto mx-2 me-4"},"Unlock",-1)),J=i(()=>s("div",{class:"control_indicator"},null,-1)),O={class:"col"},P={class:"control control-checkbox"},Q=i(()=>s("span",{class:"my-auto mx-2"},"Mastered",-1)),W=i(()=>s("div",{class:"control_indicator"},null,-1)),X={class:"col pe-0"},Y=i(()=>s("p",null,"Â ",-1)),Z=i(()=>s("hr",{class:"mt-3 mb-5 d-none d-md-block"},null,-1));function $(l,e,a,ss,o,n){return r(),c(m,null,[U,s("div",I,[C,s("div",T,[s("div",V,[s("div",L,[s("img",{class:"avatar",src:this.user.avatar},null,8,E)]),s("div",F,[s("div",R,[B,d(s("input",{class:"form-control",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>this.user.username=t),disabled:""},null,512),[[u,this.user.username]])])])]),s("div",N,[s("div",D,[d(s("input",{id:"skill-input","onUpdate:modelValue":e[1]||(e[1]=t=>o.inputText=t),onInput:e[2]||(e[2]=(...t)=>n.getReferenceSkill&&n.getReferenceSkill(...t)),placeholder:"type skill name"},null,544),[[u,o.inputText]]),o.suggestSkills.length>0?(r(),c("div",A,[(r(!0),c(m,null,g(o.suggestSkills,t=>(r(),c("div",{class:"suggest-option",onClick:es=>n.handleChooseSuggestSkill(t)},f(t.name),9,K))),256))])):v("",!0)])]),s("div",j,[s("div",q,[s("div",z,[s("label",G,[H,d(s("input",{type:"checkbox",name:"nodeType",id:"regularSkillRadio",value:"regular","onUpdate:modelValue":e[3]||(e[3]=t=>o.checkUnlock=t)},null,512),[[h,o.checkUnlock]]),J])]),s("div",O,[s("label",P,[Q,d(s("input",{type:"checkbox",name:"nodeType",id:"superSkillRadio",value:"super","onUpdate:modelValue":e[4]||(e[4]=t=>o.checkMastered=t)},null,512),[[h,o.checkMastered]]),W])]),s("div",X,[s("button",{id:"submit-btn",class:"btn purple-btn",onClick:e[5]||(e[5]=(...t)=>n.handleSubmitForm&&n.handleSubmitForm(...t))}," Submit ")])])]),Y]),Z])],64)}const ds=S(M,[["render",$],["__scopeId","data-v-01435aef"]]);export{ds as default};

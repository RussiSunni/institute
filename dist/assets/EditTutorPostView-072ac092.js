import{_ as c,o as d,c as u,d as t}from"./main-674e8d78.js";const l={data(){return{tutorPostId:this.$route.params.tutorPostId,tutorPost:{}}},created(){this.getTutorPost()},methods:{async getTutorPost(){await fetch("/tutor-posts/show/"+this.tutorPostId).then(function(e){return e.json()}).then(e=>this.tutorPost=e),$("#summernote-description").summernote({disableDragAndDrop:!0,placeholder:"Describe your tutoring style and experience with the subject.",tabsize:2,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["para",["ul"]],["view",["codeview"]]]}).summernote("code",this.tutorPost.description),$("#summernote-contact-preference").summernote({disableDragAndDrop:!0,placeholder:"How would you like to be contacted (eg: an email address, mobile number or calendar booking link)?",tabsize:2,toolbar:[["font",["bold","underline","clear"]],["para",["ul"]],["insert",["link"]],["view",["codeview"]]]}).summernote("code",this.tutorPost.contact_preference)},Submit(){let e=$("#summernote-description").summernote("code"),o=$("#summernote-contact-preference").summernote("code");const r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:e,contact_preference:o})};var n="/tutor-posts/edit/"+this.tutorPostId;fetch(n,r).then(()=>{let s=this.$route.query.dismissFlagId;s?fetch("/content-flags/"+s,{method:"DELETE"}).finally(()=>{this.$router.back()}):this.$router.back()})}}},m={class:"container mt-3"},p=t("h2",null,"Edit Tutor Post",-1),h={class:"row"},b=t("div",{class:"mb-3"},[t("textarea",{id:"summernote-description",name:"editordata"})],-1),_=t("div",{class:"mb-3"},[t("textarea",{id:"summernote-contact-preference",name:"editordata2"})],-1),f={class:"mb-3 d-flex justify-content-end gap-4"};function g(e,o,r,n,s,i){return d(),u("div",m,[p,t("div",h,[b,_,t("div",f,[t("a",{class:"btn red-btn",onClick:o[0]||(o[0]=a=>e.$router.go(-1))}," Cancel "),t("button",{onClick:o[1]||(o[1]=a=>i.Submit()),class:"btn purple-btn"},"Submit")])])])}const y=c(l,[["render",g]]);export{y as default};

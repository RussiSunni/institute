import{_ as u,j as m,s as v,i as k,o as a,c,b as s,B as p,t as r,a as _,p as f,e as S}from"./main-b5a06480.js";import{_ as g}from"./institute-collins-2-184bdfcb.js";const w={setup(){const e=m(),d=v(),n=k();return{userDetailsStore:e,skillsStore:d,usersStore:n}},data(){return{skillId:this.$route.params.skillId,versionNumber:this.$route.params.versionNumber,skillRevision:{},currentVersionNumber:null,isCurrentVersion:!1}},async mounted(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList(),this.usersStore.users.length==0&&await this.usersStore.getUsers(),await this.getSkill()},methods:{async getSkill(){const e=await fetch("/skills/show/"+this.skillId);this.skill=await e.json(),this.currentVersionNumber=this.skill.version_number,await this.getSkillVersion()},async getSkillVersion(){let e="/skill-history/"+this.skillId+"/"+this.versionNumber;const d=await fetch(e);this.skillRevision=await d.json(),this.skillRevision.version_number==this.currentVersionNumber&&(this.isCurrentVersion=!0);for(let t=0;t<this.skillsStore.skillsList.length;t++)this.skillsStore.skillsList[t].id==this.skillRevision.parent&&(this.skillRevision.parentName=this.skillsStore.skillsList[t].name);for(let t=0;t<this.usersStore.users.length;t++)this.usersStore.users[t].id==this.skillRevision.user_id&&(this.skillRevision.userName=this.usersStore.users[t].username);var n=this.skillRevision.edited_date.replace("T"," ");n=n.replace("Z"," ");let l=n.split(/[- :]/);var i=new Date(Date.UTC(l[0],l[1]-1,l[2],l[3],l[4],l[5])),h={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};this.skillRevision.date=i.toLocaleDateString("en-US",h)}}},o=e=>(f("data-v-ba42c523"),e=e(),S(),e),y={class:"position-relative d-flex"},R={class:"container show-skill-ctnr"},x={class:"container mt-3"},b={class:"d-flex flex-column gap-2"},L={id:"skill-image"},N=["src"],V={class:"d-flex flex-column"},T={class:"skill-name"},D={class:"alert alert-warning d-flex",role:"alert"},I=o(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"},[s("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})],-1)),M={key:0,class:"ms-2"},C={key:1,class:"ms-2"},H={key:0,class:"row pe-4 ps-4 ps-md-0 skill-description"},q={key:0},B=o(()=>s("div",{class:"row"},[s("div",{class:"col col-md-8 p-4 p-md-0"},[s("hr",{id:"hr-parent",class:"border border-2 opacity-100"})])],-1)),U={class:"mt-3 d-flex flex-column"},z=o(()=>s("div",{class:"h1-title"},"Type",-1)),j={class:"mastery-requirements"},E=["innerHTML"],P={class:"mt-3 d-flex flex-column"},Z=o(()=>s("div",{class:"h1-title"},"Parent",-1)),A={class:"mastery-requirements"},F=["innerHTML"],G={class:"mt-3 d-flex flex-column"},J=o(()=>s("div",{class:"h1-title"},"Mastery Requirements",-1)),K={class:"mastery-requirements"},O=["innerHTML"],Q=o(()=>s("p",null,"Â ",-1)),W=o(()=>s("div",{id:"banner"},[s("img",{src:g,class:"img-fluid"})],-1));function X(e,d,n,l,i,h){return a(),c("div",y,[s("div",R,[s("div",x,[s("div",{id:"skill-info-container",class:p({domain:i.skillRevision.type=="domain"})},[s("div",b,[s("div",L,[s("img",{src:i.skillRevision.icon_image?i.skillRevision.icon_image:"/images/skill-avatar/recurso.png",class:"skill-icon"},null,8,N)]),s("div",V,[s("div",T,r(i.skillRevision.name),1),s("div",D,[I,i.isCurrentVersion?(a(),c("span",C," This is the current revision of this page, as edited by "+r(i.skillRevision.userName)+", at "+r(i.skillRevision.date)+". ",1)):(a(),c("span",M," This is an old revision of this page, as edited by "+r(i.skillRevision.userName)+", at "+r(i.skillRevision.date)+". ",1))]),l.userDetailsStore.role=="admin"?(a(),c("div",H,[s("p",null,r(i.skillRevision.description),1)])):_("",!0)])]),i.skillRevision.type!="domain"?(a(),c("div",q,[B,s("div",U,[z,s("div",j,[s("div",{innerHTML:i.skillRevision.type},null,8,E)])]),s("div",P,[Z,s("div",A,[s("div",{innerHTML:i.skillRevision.parentName},null,8,F)])]),s("div",G,[J,s("div",K,[s("div",{innerHTML:i.skillRevision.mastery_requirements},null,8,O)])])])):_("",!0)],2),Q])]),W])}const ss=u(w,[["render",X],["__scopeId","data-v-ba42c523"]]);export{ss as default};

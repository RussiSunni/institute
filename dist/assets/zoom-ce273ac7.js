import{_ as cn,r as hn,o as ot,c as xt,b as I,t as fn,a as vt,f as pn,g as dn,q as _n,p as gn,e as mn}from"./main-d5fbe984.js";const yn={setup(){},data(){return{}},props:["skill"],computed:{removeStyles(){var n;let t=(n=this.skill.masteryRequirements)==null?void 0:n.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"");return t==null?void 0:t.replace(/ style=["'][^"']*["']/gi,"")}},methods:{hideInfoPanel(){this.$parent.isSkillInfoPanelShown&&(screen.width>800?document.getElementById("skillInfoPanel").style.width="0px":document.getElementById("skillInfoPanel").style.height="0px",document.getElementById("sidepanel-backdrop").style.display="none",this.$parent.isSkillInfoPanelShown=!1)},adjustClamping(){this.$nextTick(()=>{const t=this.$refs.skillInfoPanel,e=this.$refs.skillInfoPanelTop,n=this.$refs.skillInfoPanelBottom,i=this.$refs.truncateContainer,r=this.$refs.truncateContent;screen.width>800?i.style.height=t.clientHeight-n.clientHeight-e.clientHeight-40+"px":i.style.height=434-n.clientHeight-e.clientHeight-110+"px";const o=i.clientHeight,s=parseInt(window.getComputedStyle(i).lineHeight),u=Math.trunc(o/s)-(screen.width>800?2:0);r.style.clampedLines=u,r.style.webkitLineClamp=u})}},mounted(){document.addEventListener("click",()=>{this.adjustClamping()})}},re=t=>(gn("data-v-e52a7211"),t=t(),mn(),t),wn={id:"skillInfoPanel",class:"skillInfoPanel"},xn={class:"closeButtonContainer"},vn={id:"skillInfoPanelContainer",ref:"skillInfoPanel"},bn={class:"skill-info-panel-top",ref:"skillInfoPanelTop"},kn=re(()=>I("div",{class:"form-check"},[I("input",{id:"mastery-checkbox",class:"form-check-input",type:"checkbox",value:"skill?.isMastered",style:{"pointer-events":"none"}}),I("label",{class:"form-check-label",style:{color:"#9c7eec","pointer-events":"none"}}," Attained ")],-1)),$n={key:0,ref:"truncateContainer",class:"mt-2 preview"},Mn=["innerHTML"],An={class:"skill-info-panel-bottom",ref:"skillInfoPanelBottom"},Cn={key:0},Nn=re(()=>I("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[I("path",{d:"M6.34811 20.0423L6.34811 13.6494L-0.0358702 13.6583C-0.320945 13.6579 -0.594203 13.5444 -0.795782 13.3428C-0.997361 13.1412 -1.11082 12.868 -1.11132 12.5829L-1.11729 7.41477C-1.1168 7.1297 -1.00334 6.85644 -0.801757 6.65486C-0.600179 6.45328 -0.326921 6.33982 -0.0418461 6.33933L6.3481 6.34231L6.3481 -0.0506238C6.34659 -0.193451 6.3736 -0.335145 6.42756 -0.467396C6.48152 -0.599646 6.56134 -0.719794 6.66234 -0.820794C6.76334 -0.921794 6.88349 -1.00161 7.01574 -1.05557C7.14799 -1.10953 7.28969 -1.13655 7.43251 -1.13503L12.5827 -1.12308C12.8678 -1.12259 13.141 -1.00913 13.3426 -0.807549C13.5442 -0.60597 13.6577 -0.332713 13.6582 -0.047637L13.6552 6.34231L20.0481 6.34231C20.3325 6.34248 20.6052 6.45552 20.8063 6.65661C21.0074 6.8577 21.1204 7.13039 21.1206 7.41477L21.1325 12.565C21.1324 12.8494 21.0193 13.122 20.8182 13.3231C20.6171 13.5242 20.3444 13.6373 20.0601 13.6374L13.6552 13.6494L13.6641 20.0334C13.6636 20.3184 13.5502 20.5917 13.3486 20.7933C13.147 20.9948 12.8738 21.1083 12.5887 21.1088L7.43252 21.1267C7.28969 21.1282 7.148 21.1012 7.01575 21.0473C6.88349 20.9933 6.76335 20.9135 6.66235 20.8125C6.56135 20.7115 6.48153 20.5913 6.42757 20.4591C6.37361 20.3268 6.34659 20.1851 6.34811 20.0423Z",fill:"white"})],-1)),Sn={key:2,class:"mt-4"},zn=re(()=>I("p",null," This is a larger subject holding a series of more specific skills; click through to the skills within it to master each one! ",-1)),En=[zn];function Tn(t,e,n,i,r,o){var u,l,a;const s=hn("router-link");return ot(),xt("div",wn,[I("div",xn,[I("a",{href:"javascript:void(0)",class:"closebtn",onClick:e[0]||(e[0]=c=>this.hideInfoPanel())},"×")]),I("div",vn,[I("div",bn,[I("h1",null,fn((u=n.skill)==null?void 0:u.name),1),kn],512),((l=n.skill)==null?void 0:l.type)!="domain"?(ot(),xt("div",$n,[I("div",{class:"truncate-overflow",ref:"truncateContent",innerHTML:o.removeStyles},null,8,Mn)],512)):vt("",!0),I("div",An,[n.skill.type!="domain"?(ot(),xt("hr",Cn)):vt("",!0),n.skill.type!="domain"?(ot(),pn(s,{key:1,class:"btn green-btn",target:"_blank",id:"skillLink",to:"/skills/"+n.skill.id},{default:dn(()=>[_n("See More  "),Nn]),_:1},8,["to"])):vt("",!0),((a=n.skill)==null?void 0:a.type)=="domain"?(ot(),xt("div",Sn,En)):vt("",!0)],512)],512)])}const Us=cn(yn,[["render",Tn],["__scopeId","data-v-e52a7211"]]);function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var In={value:()=>{}};function oe(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ct(n)}function Ct(t){this._=t}function Rn(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ct.prototype=oe.prototype={constructor:Ct,on:function(t,e){var n=this._,i=Rn(t+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=Pn(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=pe(n[r],t.name,e);else if(e==null)for(r in n)n[r]=pe(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ct(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};function Pn(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function pe(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=In,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Gt="http://www.w3.org/1999/xhtml";const de={svg:"http://www.w3.org/2000/svg",xhtml:Gt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ht(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),de.hasOwnProperty(e)?{space:de[e],local:t}:t}function Ln(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Gt&&e.documentElement.namespaceURI===Gt?e.createElement(t):e.createElementNS(n,t)}}function Bn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function se(t){var e=Ht(t);return(e.local?Bn:Ln)(e)}function Hn(){}function ae(t){return t==null?Hn:function(){return this.querySelector(t)}}function Dn(t){typeof t!="function"&&(t=ae(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,u=i[r]=new Array(s),l,a,c=0;c<s;++c)(l=o[c])&&(a=t.call(l,l.__data__,c,o))&&("__data__"in l&&(a.__data__=l.__data__),u[c]=a);return new R(i,this._parents)}function qn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Xn(){return[]}function Te(t){return t==null?Xn:function(){return this.querySelectorAll(t)}}function Fn(t){return function(){return qn(t.apply(this,arguments))}}function Vn(t){typeof t=="function"?t=Fn(t):t=Te(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s=e[o],u=s.length,l,a=0;a<u;++a)(l=s[a])&&(i.push(t.call(l,l.__data__,a,s)),r.push(l));return new R(i,r)}function Ie(t){return function(){return this.matches(t)}}function Re(t){return function(e){return e.matches(t)}}var Yn=Array.prototype.find;function On(t){return function(){return Yn.call(this.children,t)}}function Un(){return this.firstElementChild}function Gn(t){return this.select(t==null?Un:On(typeof t=="function"?t:Re(t)))}var Kn=Array.prototype.filter;function Wn(){return Array.from(this.children)}function Zn(t){return function(){return Kn.call(this.children,t)}}function Qn(t){return this.selectAll(t==null?Wn:Zn(typeof t=="function"?t:Re(t)))}function Jn(t){typeof t!="function"&&(t=Ie(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,u=i[r]=[],l,a=0;a<s;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&u.push(l);return new R(i,this._parents)}function Pe(t){return new Array(t.length)}function jn(){return new R(this._enter||this._groups.map(Pe),this._parents)}function Tt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ti(t){return function(){return t}}function ei(t,e,n,i,r,o){for(var s=0,u,l=e.length,a=o.length;s<a;++s)(u=e[s])?(u.__data__=o[s],i[s]=u):n[s]=new Tt(t,o[s]);for(;s<l;++s)(u=e[s])&&(r[s]=u)}function ni(t,e,n,i,r,o,s){var u,l,a=new Map,c=e.length,p=o.length,f=new Array(c),_;for(u=0;u<c;++u)(l=e[u])&&(f[u]=_=s.call(l,l.__data__,u,e)+"",a.has(_)?r[u]=l:a.set(_,l));for(u=0;u<p;++u)_=s.call(t,o[u],u,o)+"",(l=a.get(_))?(i[u]=l,l.__data__=o[u],a.delete(_)):n[u]=new Tt(t,o[u]);for(u=0;u<c;++u)(l=e[u])&&a.get(f[u])===l&&(r[u]=l)}function ii(t){return t.__data__}function ri(t,e){if(!arguments.length)return Array.from(this,ii);var n=e?ni:ei,i=this._parents,r=this._groups;typeof t!="function"&&(t=ti(t));for(var o=r.length,s=new Array(o),u=new Array(o),l=new Array(o),a=0;a<o;++a){var c=i[a],p=r[a],f=p.length,_=oi(t.call(c,c&&c.__data__,a,i)),w=_.length,v=u[a]=new Array(w),A=s[a]=new Array(w),m=l[a]=new Array(f);n(c,p,v,A,m,_,e);for(var $=0,N=0,S,E;$<w;++$)if(S=v[$]){for($>=N&&(N=$+1);!(E=A[N])&&++N<w;);S._next=E||null}}return s=new R(s,i),s._enter=u,s._exit=l,s}function oi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function si(){return new R(this._exit||this._groups.map(Pe),this._parents)}function ai(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function ui(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),u=new Array(r),l=0;l<s;++l)for(var a=n[l],c=i[l],p=a.length,f=u[l]=new Array(p),_,w=0;w<p;++w)(_=a[w]||c[w])&&(f[w]=_);for(;l<r;++l)u[l]=n[l];return new R(u,this._parents)}function li(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ci(t){t||(t=hi);function e(p,f){return p&&f?t(p.__data__,f.__data__):!p-!f}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],u=s.length,l=r[o]=new Array(u),a,c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new R(r,this._parents).order()}function hi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function pi(){return Array.from(this)}function di(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function _i(){let t=0;for(const e of this)++t;return t}function gi(){return!this.node()}function mi(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,s=r.length,u;o<s;++o)(u=r[o])&&t.call(u,u.__data__,o,r);return this}function yi(t){return function(){this.removeAttribute(t)}}function wi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xi(t,e){return function(){this.setAttribute(t,e)}}function vi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function bi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ki(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $i(t,e){var n=Ht(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?wi:yi:typeof e=="function"?n.local?ki:bi:n.local?vi:xi)(n,e))}function Le(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Mi(t){return function(){this.style.removeProperty(t)}}function Ai(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ci(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ni(t,e,n){return arguments.length>1?this.each((e==null?Mi:typeof e=="function"?Ci:Ai)(t,e,n??"")):it(this.node(),t)}function it(t,e){return t.style.getPropertyValue(e)||Le(t).getComputedStyle(t,null).getPropertyValue(e)}function Si(t){return function(){delete this[t]}}function zi(t,e){return function(){this[t]=e}}function Ei(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ti(t,e){return arguments.length>1?this.each((e==null?Si:typeof e=="function"?Ei:zi)(t,e)):this.node()[t]}function Be(t){return t.trim().split(/^|\s+/)}function ue(t){return t.classList||new He(t)}function He(t){this._node=t,this._names=Be(t.getAttribute("class")||"")}He.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function De(t,e){for(var n=ue(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function qe(t,e){for(var n=ue(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Ii(t){return function(){De(this,t)}}function Ri(t){return function(){qe(this,t)}}function Pi(t,e){return function(){(e.apply(this,arguments)?De:qe)(this,t)}}function Li(t,e){var n=Be(t+"");if(arguments.length<2){for(var i=ue(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Pi:e?Ii:Ri)(n,e))}function Bi(){this.textContent=""}function Hi(t){return function(){this.textContent=t}}function Di(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qi(t){return arguments.length?this.each(t==null?Bi:(typeof t=="function"?Di:Hi)(t)):this.node().textContent}function Xi(){this.innerHTML=""}function Fi(t){return function(){this.innerHTML=t}}function Vi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Yi(t){return arguments.length?this.each(t==null?Xi:(typeof t=="function"?Vi:Fi)(t)):this.node().innerHTML}function Oi(){this.nextSibling&&this.parentNode.appendChild(this)}function Ui(){return this.each(Oi)}function Gi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ki(){return this.each(Gi)}function Wi(t){var e=typeof t=="function"?t:se(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Zi(){return null}function Qi(t,e){var n=typeof t=="function"?t:se(t),i=e==null?Zi:typeof e=="function"?e:ae(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ji(){var t=this.parentNode;t&&t.removeChild(this)}function ji(){return this.each(Ji)}function tr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function er(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nr(t){return this.select(t?er:tr)}function ir(t){return arguments.length?this.property("__data__",t):this.node().__data__}function rr(t){return function(e){t.call(this,e,this.__data__)}}function or(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function sr(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function ar(t,e,n){return function(){var i=this.__on,r,o=rr(e);if(i){for(var s=0,u=i.length;s<u;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function ur(t,e,n){var i=or(t+""),r,o=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,a=u.length,c;l<a;++l)for(r=0,c=u[l];r<o;++r)if((s=i[r]).type===c.type&&s.name===c.name)return c.value}return}for(u=e?ar:sr,r=0;r<o;++r)this.each(u(i[r],e,n));return this}function Xe(t,e,n){var i=Le(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function lr(t,e){return function(){return Xe(this,t,e)}}function cr(t,e){return function(){return Xe(this,t,e.apply(this,arguments))}}function hr(t,e){return this.each((typeof e=="function"?cr:lr)(t,e))}function*fr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var Fe=[null];function R(t,e){this._groups=t,this._parents=e}function _t(){return new R([[document.documentElement]],Fe)}function pr(){return this}R.prototype=_t.prototype={constructor:R,select:Dn,selectAll:Vn,selectChild:Gn,selectChildren:Qn,filter:Jn,data:ri,enter:jn,exit:si,join:ai,merge:ui,selection:pr,order:li,sort:ci,call:fi,nodes:pi,node:di,size:_i,empty:gi,each:mi,attr:$i,style:Ni,property:Ti,classed:Li,text:qi,html:Yi,raise:Ui,lower:Ki,append:Wi,insert:Qi,remove:ji,clone:nr,datum:ir,on:ur,dispatch:hr,[Symbol.iterator]:fr};function Z(t){return typeof t=="string"?new R([[document.querySelector(t)]],[document.documentElement]):new R([[t]],Fe)}function Ks(t){return Z(se(t).call(document.documentElement))}function dr(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Q(t,e){if(t=dr(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}const Kt={capture:!0,passive:!1};function Wt(t){t.preventDefault(),t.stopImmediatePropagation()}function _r(t){var e=t.document.documentElement,n=Z(t).on("dragstart.drag",Wt,Kt);"onselectstart"in e?n.on("selectstart.drag",Wt,Kt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function gr(t,e){var n=t.document.documentElement,i=Z(t).on("dragstart.drag",null);e&&(i.on("click.drag",Wt,Kt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function le(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ve(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function gt(){}var ct=.7,It=1/ct,nt="\\s*([+-]?\\d+)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",X="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mr=/^#([0-9a-f]{3,8})$/,yr=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),wr=new RegExp(`^rgb\\(${X},${X},${X}\\)$`),xr=new RegExp(`^rgba\\(${nt},${nt},${nt},${ht}\\)$`),vr=new RegExp(`^rgba\\(${X},${X},${X},${ht}\\)$`),br=new RegExp(`^hsl\\(${ht},${X},${X}\\)$`),kr=new RegExp(`^hsla\\(${ht},${X},${X},${ht}\\)$`),_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};le(gt,ft,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ge,formatHex:ge,formatHex8:$r,formatHsl:Mr,formatRgb:me,toString:me});function ge(){return this.rgb().formatHex()}function $r(){return this.rgb().formatHex8()}function Mr(){return Ye(this).formatHsl()}function me(){return this.rgb().formatRgb()}function ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ye(e):n===3?new T(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yr.exec(t))?new T(e[1],e[2],e[3],1):(e=wr.exec(t))?new T(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xr.exec(t))?bt(e[1],e[2],e[3],e[4]):(e=vr.exec(t))?bt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=br.exec(t))?ve(e[1],e[2]/100,e[3]/100,1):(e=kr.exec(t))?ve(e[1],e[2]/100,e[3]/100,e[4]):_e.hasOwnProperty(t)?ye(_e[t]):t==="transparent"?new T(NaN,NaN,NaN,0):null}function ye(t){return new T(t>>16&255,t>>8&255,t&255,1)}function bt(t,e,n,i){return i<=0&&(t=e=n=NaN),new T(t,e,n,i)}function Ar(t){return t instanceof gt||(t=ft(t)),t?(t=t.rgb(),new T(t.r,t.g,t.b,t.opacity)):new T}function Zt(t,e,n,i){return arguments.length===1?Ar(t):new T(t,e,n,i??1)}function T(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}le(T,Zt,Ve(gt,{brighter(t){return t=t==null?It:Math.pow(It,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ct:Math.pow(ct,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new T(tt(this.r),tt(this.g),tt(this.b),Rt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:we,formatHex:we,formatHex8:Cr,formatRgb:xe,toString:xe}));function we(){return`#${j(this.r)}${j(this.g)}${j(this.b)}`}function Cr(){return`#${j(this.r)}${j(this.g)}${j(this.b)}${j((isNaN(this.opacity)?1:this.opacity)*255)}`}function xe(){const t=Rt(this.opacity);return`${t===1?"rgb(":"rgba("}${tt(this.r)}, ${tt(this.g)}, ${tt(this.b)}${t===1?")":`, ${t})`}`}function Rt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function j(t){return t=tt(t),(t<16?"0":"")+t.toString(16)}function ve(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new H(t,e,n,i)}function Ye(t){if(t instanceof H)return new H(t.h,t.s,t.l,t.opacity);if(t instanceof gt||(t=ft(t)),!t)return new H;if(t instanceof H)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,u=o-r,l=(o+r)/2;return u?(e===o?s=(n-i)/u+(n<i)*6:n===o?s=(i-e)/u+2:s=(e-n)/u+4,u/=l<.5?o+r:2-o-r,s*=60):u=l>0&&l<1?0:s,new H(s,u,l,t.opacity)}function Nr(t,e,n,i){return arguments.length===1?Ye(t):new H(t,e,n,i??1)}function H(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}le(H,Nr,Ve(gt,{brighter(t){return t=t==null?It:Math.pow(It,t),new H(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ct:Math.pow(ct,t),new H(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new T(Ft(t>=240?t-240:t+120,r,i),Ft(t,r,i),Ft(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new H(be(this.h),kt(this.s),kt(this.l),Rt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rt(this.opacity);return`${t===1?"hsl(":"hsla("}${be(this.h)}, ${kt(this.s)*100}%, ${kt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function be(t){return t=(t||0)%360,t<0?t+360:t}function kt(t){return Math.max(0,Math.min(1,t||0))}function Ft(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Oe=t=>()=>t;function Sr(t,e){return function(n){return t+n*e}}function zr(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Er(t){return(t=+t)==1?Ue:function(e,n){return n-e?zr(e,n,t):Oe(isNaN(e)?n:e)}}function Ue(t,e){var n=e-t;return n?Sr(t,n):Oe(isNaN(t)?e:t)}const ke=function t(e){var n=Er(e);function i(r,o){var s=n((r=Zt(r)).r,(o=Zt(o)).r),u=n(r.g,o.g),l=n(r.b,o.b),a=Ue(r.opacity,o.opacity);return function(c){return r.r=s(c),r.g=u(c),r.b=l(c),r.opacity=a(c),r+""}}return i.gamma=t,i}(1);function W(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vt=new RegExp(Qt.source,"g");function Tr(t){return function(){return t}}function Ir(t){return function(e){return t(e)+""}}function Rr(t,e){var n=Qt.lastIndex=Vt.lastIndex=0,i,r,o,s=-1,u=[],l=[];for(t=t+"",e=e+"";(i=Qt.exec(t))&&(r=Vt.exec(e));)(o=r.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(i=i[0])===(r=r[0])?u[s]?u[s]+=r:u[++s]=r:(u[++s]=null,l.push({i:s,x:W(i,r)})),n=Vt.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?l[0]?Ir(l[0].x):Tr(e):(e=l.length,function(a){for(var c=0,p;c<e;++c)u[(p=l[c]).i]=p.x(a);return u.join("")})}var $e=180/Math.PI,Jt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ge(t,e,n,i,r,o){var s,u,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*$e,skewX:Math.atan(l)*$e,scaleX:s,scaleY:u}}var $t;function Pr(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Jt:Ge(e.a,e.b,e.c,e.d,e.e,e.f)}function Lr(t){return t==null||($t||($t=document.createElementNS("http://www.w3.org/2000/svg","g")),$t.setAttribute("transform",t),!(t=$t.transform.baseVal.consolidate()))?Jt:(t=t.matrix,Ge(t.a,t.b,t.c,t.d,t.e,t.f))}function Ke(t,e,n,i){function r(a){return a.length?a.pop()+" ":""}function o(a,c,p,f,_,w){if(a!==p||c!==f){var v=_.push("translate(",null,e,null,n);w.push({i:v-4,x:W(a,p)},{i:v-2,x:W(c,f)})}else(p||f)&&_.push("translate("+p+e+f+n)}function s(a,c,p,f){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:p.push(r(p)+"rotate(",null,i)-2,x:W(a,c)})):c&&p.push(r(p)+"rotate("+c+i)}function u(a,c,p,f){a!==c?f.push({i:p.push(r(p)+"skewX(",null,i)-2,x:W(a,c)}):c&&p.push(r(p)+"skewX("+c+i)}function l(a,c,p,f,_,w){if(a!==p||c!==f){var v=_.push(r(_)+"scale(",null,",",null,")");w.push({i:v-4,x:W(a,p)},{i:v-2,x:W(c,f)})}else(p!==1||f!==1)&&_.push(r(_)+"scale("+p+","+f+")")}return function(a,c){var p=[],f=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,p,f),s(a.rotate,c.rotate,p,f),u(a.skewX,c.skewX,p,f),l(a.scaleX,a.scaleY,c.scaleX,c.scaleY,p,f),a=c=null,function(_){for(var w=-1,v=f.length,A;++w<v;)p[(A=f[w]).i]=A.x(_);return p.join("")}}}var Br=Ke(Pr,"px, ","px)","deg)"),Hr=Ke(Lr,", ",")",")"),Dr=1e-12;function Me(t){return((t=Math.exp(t))+1/t)/2}function qr(t){return((t=Math.exp(t))-1/t)/2}function Xr(t){return((t=Math.exp(2*t))-1)/(t+1)}const Fr=function t(e,n,i){function r(o,s){var u=o[0],l=o[1],a=o[2],c=s[0],p=s[1],f=s[2],_=c-u,w=p-l,v=_*_+w*w,A,m;if(v<Dr)m=Math.log(f/a)/e,A=function(K){return[u+K*_,l+K*w,a*Math.exp(e*K*m)]};else{var $=Math.sqrt(v),N=(f*f-a*a+i*v)/(2*a*n*$),S=(f*f-a*a-i*v)/(2*f*n*$),E=Math.log(Math.sqrt(N*N+1)-N),P=Math.log(Math.sqrt(S*S+1)-S);m=(P-E)/e,A=function(K){var mt=K*m,yt=Me(E),wt=a/(n*$)*(yt*Xr(e*mt+E)-qr(E));return[u+wt*_,l+wt*w,a*yt/Me(e*mt+E)]}}return A.duration=m*1e3*e/Math.SQRT2,A}return r.rho=function(o){var s=Math.max(.001,+o),u=s*s,l=u*u;return t(s,u,l)},r}(Math.SQRT2,2,4);var rt=0,ut=0,st=0,We=1e3,Pt,lt,Lt=0,et=0,Dt=0,pt=typeof performance=="object"&&performance.now?performance:Date,Ze=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ce(){return et||(Ze(Vr),et=pt.now()+Dt)}function Vr(){et=0}function Bt(){this._call=this._time=this._next=null}Bt.prototype=Qe.prototype={constructor:Bt,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ce():+n)+(e==null?0:+e),!this._next&&lt!==this&&(lt?lt._next=this:Pt=this,lt=this),this._call=t,this._time=n,jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,jt())}};function Qe(t,e,n){var i=new Bt;return i.restart(t,e,n),i}function Yr(){ce(),++rt;for(var t=Pt,e;t;)(e=et-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rt}function Ae(){et=(Lt=pt.now())+Dt,rt=ut=0;try{Yr()}finally{rt=0,Ur(),et=0}}function Or(){var t=pt.now(),e=t-Lt;e>We&&(Dt-=e,Lt=t)}function Ur(){for(var t,e=Pt,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Pt=n);lt=t,jt(i)}function jt(t){if(!rt){ut&&(ut=clearTimeout(ut));var e=t-et;e>24?(t<1/0&&(ut=setTimeout(Ae,t-pt.now()-Dt)),st&&(st=clearInterval(st))):(st||(Lt=pt.now(),st=setInterval(Or,We)),rt=1,Ze(Ae))}}function Ce(t,e,n){var i=new Bt;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Gr=oe("start","end","cancel","interrupt"),Kr=[],Je=0,Ne=1,te=2,Nt=3,Se=4,ee=5,St=6;function qt(t,e,n,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Wr(t,n,{name:e,index:i,group:r,on:Gr,tween:Kr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Je})}function he(t,e){var n=D(t,e);if(n.state>Je)throw new Error("too late; already scheduled");return n}function F(t,e){var n=D(t,e);if(n.state>Nt)throw new Error("too late; already running");return n}function D(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Wr(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=Qe(o,0,n.time);function o(a){n.state=Ne,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,p,f,_;if(n.state!==Ne)return l();for(c in i)if(_=i[c],_.name===n.name){if(_.state===Nt)return Ce(s);_.state===Se?(_.state=St,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[c]):+c<e&&(_.state=St,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[c])}if(Ce(function(){n.state===Nt&&(n.state=Se,n.timer.restart(u,n.delay,n.time),u(a))}),n.state=te,n.on.call("start",t,t.__data__,n.index,n.group),n.state===te){for(n.state=Nt,r=new Array(f=n.tween.length),c=0,p=-1;c<f;++c)(_=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++p]=_);r.length=p+1}}function u(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(l),n.state=ee,1),p=-1,f=r.length;++p<f;)r[p].call(t,c);n.state===ee&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=St,n.timer.stop(),delete i[e];for(var a in i)return;delete t.__transition}}function zt(t,e){var n=t.__transition,i,r,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){o=!1;continue}r=i.state>te&&i.state<ee,i.state=St,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}o&&delete t.__transition}}function Zr(t){return this.each(function(){zt(this,t)})}function Qr(t,e){var n,i;return function(){var r=F(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,u=i.length;s<u;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function Jr(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=F(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var u={name:e,value:n},l=0,a=r.length;l<a;++l)if(r[l].name===e){r[l]=u;break}l===a&&r.push(u)}o.tween=r}}function jr(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=D(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((e==null?Qr:Jr)(n,t,e))}function fe(t,e,n){var i=t._id;return t.each(function(){var r=F(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return D(r,i).value[e]}}function je(t,e){var n;return(typeof e=="number"?W:e instanceof ft?ke:(n=ft(e))?(e=n,ke):Rr)(t,e)}function to(t){return function(){this.removeAttribute(t)}}function eo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function no(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function io(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function ro(t,e,n){var i,r,o;return function(){var s,u=n(this),l;return u==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=u+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,u)))}}function oo(t,e,n){var i,r,o;return function(){var s,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=u+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,u)))}}function so(t,e){var n=Ht(t),i=n==="transform"?Hr:je;return this.attrTween(t,typeof e=="function"?(n.local?oo:ro)(n,i,fe(this,"attr."+t,e)):e==null?(n.local?eo:to)(n):(n.local?io:no)(n,i,e))}function ao(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function uo(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function lo(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&uo(t,o)),n}return r._value=e,r}function co(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&ao(t,o)),n}return r._value=e,r}function ho(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ht(t);return this.tween(n,(i.local?lo:co)(i,e))}function fo(t,e){return function(){he(this,t).delay=+e.apply(this,arguments)}}function po(t,e){return e=+e,function(){he(this,t).delay=e}}function _o(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fo:po)(e,t)):D(this.node(),e).delay}function go(t,e){return function(){F(this,t).duration=+e.apply(this,arguments)}}function mo(t,e){return e=+e,function(){F(this,t).duration=e}}function yo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?go:mo)(e,t)):D(this.node(),e).duration}function wo(t,e){if(typeof e!="function")throw new Error;return function(){F(this,t).ease=e}}function xo(t){var e=this._id;return arguments.length?this.each(wo(e,t)):D(this.node(),e).ease}function vo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;F(this,t).ease=n}}function bo(t){if(typeof t!="function")throw new Error;return this.each(vo(this._id,t))}function ko(t){typeof t!="function"&&(t=Ie(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,u=i[r]=[],l,a=0;a<s;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&u.push(l);return new G(i,this._parents,this._name,this._id)}function $o(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),u=0;u<o;++u)for(var l=e[u],a=n[u],c=l.length,p=s[u]=new Array(c),f,_=0;_<c;++_)(f=l[_]||a[_])&&(p[_]=f);for(;u<i;++u)s[u]=e[u];return new G(s,this._parents,this._name,this._id)}function Mo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ao(t,e,n){var i,r,o=Mo(e)?he:F;return function(){var s=o(this,t),u=s.on;u!==i&&(r=(i=u).copy()).on(e,n),s.on=r}}function Co(t,e){var n=this._id;return arguments.length<2?D(this.node(),n).on.on(t):this.each(Ao(n,t,e))}function No(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function So(){return this.on("end.remove",No(this._id))}function zo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ae(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,a=o[s]=new Array(l),c,p,f=0;f<l;++f)(c=u[f])&&(p=t.call(c,c.__data__,f,u))&&("__data__"in c&&(p.__data__=c.__data__),a[f]=p,qt(a[f],e,n,f,a,D(c,n)));return new G(o,this._parents,e,n)}function Eo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Te(t));for(var i=this._groups,r=i.length,o=[],s=[],u=0;u<r;++u)for(var l=i[u],a=l.length,c,p=0;p<a;++p)if(c=l[p]){for(var f=t.call(c,c.__data__,p,l),_,w=D(c,n),v=0,A=f.length;v<A;++v)(_=f[v])&&qt(_,e,n,v,f,w);o.push(f),s.push(c)}return new G(o,s,e,n)}var To=_t.prototype.constructor;function Io(){return new To(this._groups,this._parents)}function Ro(t,e){var n,i,r;return function(){var o=it(this,t),s=(this.style.removeProperty(t),it(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function tn(t){return function(){this.style.removeProperty(t)}}function Po(t,e,n){var i,r=n+"",o;return function(){var s=it(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}function Lo(t,e,n){var i,r,o;return function(){var s=it(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),it(this,t))),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,u))}}function Bo(t,e){var n,i,r,o="style."+e,s="end."+o,u;return function(){var l=F(this,t),a=l.on,c=l.value[o]==null?u||(u=tn(e)):void 0;(a!==n||r!==c)&&(i=(n=a).copy()).on(s,r=c),l.on=i}}function Ho(t,e,n){var i=(t+="")=="transform"?Br:je;return e==null?this.styleTween(t,Ro(t,i)).on("end.style."+t,tn(t)):typeof e=="function"?this.styleTween(t,Lo(t,i,fe(this,"style."+t,e))).each(Bo(this._id,t)):this.styleTween(t,Po(t,i,e),n).on("end.style."+t,null)}function Do(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function qo(t,e,n){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&Do(t,s,n)),i}return o._value=e,o}function Xo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,qo(t,e,n??""))}function Fo(t){return function(){this.textContent=t}}function Vo(t){return function(){var e=t(this);this.textContent=e??""}}function Yo(t){return this.tween("text",typeof t=="function"?Vo(fe(this,"text",t)):Fo(t==null?"":t+""))}function Oo(t){return function(e){this.textContent=t.call(this,e)}}function Uo(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Oo(r)),e}return i._value=t,i}function Go(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Uo(t))}function Ko(){for(var t=this._name,e=this._id,n=en(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],u=s.length,l,a=0;a<u;++a)if(l=s[a]){var c=D(l,e);qt(l,t,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new G(i,this._parents,t,n)}function Wo(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var u={value:s},l={value:function(){--r===0&&o()}};n.each(function(){var a=F(this,i),c=a.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),a.on=e}),r===0&&o()})}var Zo=0;function G(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function en(){return++Zo}var O=_t.prototype;G.prototype={constructor:G,select:zo,selectAll:Eo,selectChild:O.selectChild,selectChildren:O.selectChildren,filter:ko,merge:$o,selection:Io,transition:Ko,call:O.call,nodes:O.nodes,node:O.node,size:O.size,empty:O.empty,each:O.each,on:Co,attr:so,attrTween:ho,style:Ho,styleTween:Xo,text:Yo,textTween:Go,remove:So,tween:jr,delay:_o,duration:yo,ease:xo,easeVarying:bo,end:Wo,[Symbol.iterator]:O[Symbol.iterator]};function Qo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Jo={time:null,delay:0,duration:250,ease:Qo};function jo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ts(t){var e,n;t instanceof G?(e=t._id,t=t._name):(e=en(),(n=Jo).time=ce(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],u=s.length,l,a=0;a<u;++a)(l=s[a])&&qt(l,t,e,a,s,n||jo(l,e));return new G(i,this._parents,t,e)}_t.prototype.interrupt=Zr;_t.prototype.transition=ts;const ne=Math.PI,ie=2*ne,J=1e-6,es=ie-J;function nn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ns(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nn;const n=10**e;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class is{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nn:ns(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,o,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,i,r,o){if(e=+e,n=+n,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,l=i-e,a=r-n,c=s-e,p=u-n,f=c*c+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>J)if(!(Math.abs(p*l-a*c)>J)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=i-s,w=r-u,v=l*l+a*a,A=_*_+w*w,m=Math.sqrt(v),$=Math.sqrt(f),N=o*Math.tan((ne-Math.acos((v+f-A)/(2*m*$)))/2),S=N/$,E=N/m;Math.abs(S-1)>J&&this._append`L${e+S*c},${n+S*p}`,this._append`A${o},${o},0,0,${+(p*_>c*w)},${this._x1=e+E*l},${this._y1=n+E*a}`}}arc(e,n,i,r,o,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(r),l=i*Math.sin(r),a=e+u,c=n+l,p=1^s,f=s?r-o:o-r;this._x1===null?this._append`M${a},${c}`:(Math.abs(this._x1-a)>J||Math.abs(this._y1-c)>J)&&this._append`L${a},${c}`,i&&(f<0&&(f=f%ie+ie),f>es?this._append`A${i},${i},0,1,${p},${e-u},${n-l}A${i},${i},0,1,${p},${this._x1=a},${this._y1=c}`:f>J&&this._append`A${i},${i},0,${+(f>=ne)},${p},${this._x1=e+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function rs(t){var e=0,n=t.children,i=n&&n.length;if(!i)e=1;else for(;--i>=0;)e+=n[i].value;t.value=e}function os(){return this.eachAfter(rs)}function ss(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this}function as(t,e){for(var n=this,i=[n],r,o,s=-1;n=i.pop();)if(t.call(e,n,++s,this),r=n.children)for(o=r.length-1;o>=0;--o)i.push(r[o]);return this}function us(t,e){for(var n=this,i=[n],r=[],o,s,u,l=-1;n=i.pop();)if(r.push(n),o=n.children)for(s=0,u=o.length;s<u;++s)i.push(o[s]);for(;n=r.pop();)t.call(e,n,++l,this);return this}function ls(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i}function cs(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}function hs(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function fs(t){for(var e=this,n=ps(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function ps(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function ds(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function _s(){return Array.from(this)}function gs(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ms(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*ys(){var t=this,e,n=[t],i,r,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,i=t.children)for(r=0,o=i.length;r<o;++r)n.push(i[r]);while(n.length)}function rn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=vs)):e===void 0&&(e=xs);for(var n=new dt(t),i,r=[n],o,s,u,l;i=r.pop();)if((s=e(i.data))&&(l=(s=Array.from(s)).length))for(i.children=s,u=l-1;u>=0;--u)r.push(o=s[u]=new dt(s[u])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(ks)}function ws(){return rn(this).eachBefore(bs)}function xs(t){return t.children}function vs(t){return Array.isArray(t)?t[1]:null}function bs(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function ks(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function dt(t){this.data=t,this.depth=this.height=0,this.parent=null}dt.prototype=rn.prototype={constructor:dt,count:os,each:ss,eachAfter:us,eachBefore:as,find:ls,sum:cs,sort:hs,path:fs,ancestors:ds,descendants:_s,leaves:gs,links:ms,copy:ws,[Symbol.iterator]:ys};function $s(t,e){return t.parent===e.parent?1:2}function Yt(t){var e=t.children;return e?e[0]:t.t}function Ot(t){var e=t.children;return e?e[e.length-1]:t.t}function Ms(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function As(t){for(var e=0,n=0,i=t.children,r=i.length,o;--r>=0;)o=i[r],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function Cs(t,e,n){return t.a.parent===e.parent?t.a:n}function Et(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Et.prototype=Object.create(dt.prototype);function Ns(t){for(var e=new Et(t,0),n,i=[e],r,o,s,u;n=i.pop();)if(o=n._.children)for(n.children=new Array(u=o.length),s=u-1;s>=0;--s)i.push(r=n.children[s]=new Et(o[s],s)),r.parent=n;return(e.parent=new Et(null,0)).children=[e],e}function Ws(){var t=$s,e=1,n=1,i=null;function r(a){var c=Ns(a);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),i)a.eachBefore(l);else{var p=a,f=a,_=a;a.eachBefore(function($){$.x<p.x&&(p=$),$.x>f.x&&(f=$),$.depth>_.depth&&(_=$)});var w=p===f?1:t(p,f)/2,v=w-p.x,A=e/(f.x+w+v),m=n/(_.depth||1);a.eachBefore(function($){$.x=($.x+v)*A,$.y=$.depth*m})}return a}function o(a){var c=a.children,p=a.parent.children,f=a.i?p[a.i-1]:null;if(c){As(a);var _=(c[0].z+c[c.length-1].z)/2;f?(a.z=f.z+t(a._,f._),a.m=a.z-_):a.z=_}else f&&(a.z=f.z+t(a._,f._));a.parent.A=u(a,f,a.parent.A||p[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function u(a,c,p){if(c){for(var f=a,_=a,w=c,v=f.parent.children[0],A=f.m,m=_.m,$=w.m,N=v.m,S;w=Ot(w),f=Yt(f),w&&f;)v=Yt(v),_=Ot(_),_.a=a,S=w.z+$-f.z-A+t(w._,f._),S>0&&(Ms(Cs(w,a,p),a,S),A+=S,m+=S),$+=w.m,A+=f.m,N+=v.m,m+=_.m;w&&!Ot(_)&&(_.t=w,_.m+=$-m),f&&!Yt(v)&&(v.t=f,v.m+=A-N,p=a)}return p}function l(a){a.x*=e,a.y=a.depth*n}return r.separation=function(a){return arguments.length?(t=a,r):t},r.size=function(a){return arguments.length?(i=!1,e=+a[0],n=+a[1],r):i?null:[e,n]},r.nodeSize=function(a){return arguments.length?(i=!0,e=+a[0],n=+a[1],r):i?[e,n]:null},r}function ze(t){return function(){return t}}function Ss(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new is(e)}var zs=Array.prototype.slice;function Es(t){return t[0]}function Ts(t){return t[1]}function Mt(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Is{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class Rs{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const i=Mt(this._x0,this._y0),r=Mt(this._x0,this._y0=(this._y0+n)/2),o=Mt(e,this._y0),s=Mt(e,n);this._context.moveTo(...i),this._context.bezierCurveTo(...r,...o,...s)}this._x0=e,this._y0=n}}function Ps(t){return new Is(t,!0)}function Ls(t){return new Rs(t)}function Bs(t){return t.source}function Hs(t){return t.target}function on(t){let e=Bs,n=Hs,i=Es,r=Ts,o=null,s=null,u=Ss(l);function l(){let a;const c=zs.call(arguments),p=e.apply(this,c),f=n.apply(this,c);if(o==null&&(s=t(a=u())),s.lineStart(),c[0]=p,s.point(+i.apply(this,c),+r.apply(this,c)),c[0]=f,s.point(+i.apply(this,c),+r.apply(this,c)),s.lineEnd(),a)return s=null,a+""||null}return l.source=function(a){return arguments.length?(e=a,l):e},l.target=function(a){return arguments.length?(n=a,l):n},l.x=function(a){return arguments.length?(i=typeof a=="function"?a:ze(+a),l):i},l.y=function(a){return arguments.length?(r=typeof a=="function"?a:ze(+a),l):r},l.context=function(a){return arguments.length?(a==null?o=s=null:s=t(o=a),l):o},l}function Zs(){return on(Ps)}function Qs(){const t=on(Ls);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const At=t=>()=>t;function Ds(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function U(t,e,n){this.k=t,this.x=e,this.y=n}U.prototype={constructor:U,scale:function(t){return t===1?this:new U(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new U(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sn=new U(1,0,0);U.prototype;function Ut(t){t.stopImmediatePropagation()}function at(t){t.preventDefault(),t.stopImmediatePropagation()}function qs(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Xs(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ee(){return this.__zoom||sn}function Fs(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Vs(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ys(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Js(){var t=qs,e=Xs,n=Ys,i=Fs,r=Vs,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,l=Fr,a=oe("start","zoom","end"),c,p,f,_=500,w=150,v=0,A=10;function m(h){h.property("__zoom",Ee).on("wheel.zoom",mt,{passive:!1}).on("mousedown.zoom",yt).on("dblclick.zoom",wt).filter(r).on("touchstart.zoom",an).on("touchmove.zoom",un).on("touchend.zoom touchcancel.zoom",ln).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(h,g,d,y){var x=h.selection?h.selection():h;x.property("__zoom",Ee),h!==x?E(h,g,d,y):x.interrupt().each(function(){P(this,arguments).event(y).start().zoom(null,typeof g=="function"?g.apply(this,arguments):g).end()})},m.scaleBy=function(h,g,d,y){m.scaleTo(h,function(){var x=this.__zoom.k,b=typeof g=="function"?g.apply(this,arguments):g;return x*b},d,y)},m.scaleTo=function(h,g,d,y){m.transform(h,function(){var x=e.apply(this,arguments),b=this.__zoom,k=d==null?S(x):typeof d=="function"?d.apply(this,arguments):d,M=b.invert(k),C=typeof g=="function"?g.apply(this,arguments):g;return n(N($(b,C),k,M),x,s)},d,y)},m.translateBy=function(h,g,d,y){m.transform(h,function(){return n(this.__zoom.translate(typeof g=="function"?g.apply(this,arguments):g,typeof d=="function"?d.apply(this,arguments):d),e.apply(this,arguments),s)},null,y)},m.translateTo=function(h,g,d,y,x){m.transform(h,function(){var b=e.apply(this,arguments),k=this.__zoom,M=y==null?S(b):typeof y=="function"?y.apply(this,arguments):y;return n(sn.translate(M[0],M[1]).scale(k.k).translate(typeof g=="function"?-g.apply(this,arguments):-g,typeof d=="function"?-d.apply(this,arguments):-d),b,s)},y,x)};function $(h,g){return g=Math.max(o[0],Math.min(o[1],g)),g===h.k?h:new U(g,h.x,h.y)}function N(h,g,d){var y=g[0]-d[0]*h.k,x=g[1]-d[1]*h.k;return y===h.x&&x===h.y?h:new U(h.k,y,x)}function S(h){return[(+h[0][0]+ +h[1][0])/2,(+h[0][1]+ +h[1][1])/2]}function E(h,g,d,y){h.on("start.zoom",function(){P(this,arguments).event(y).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(y).end()}).tween("zoom",function(){var x=this,b=arguments,k=P(x,b).event(y),M=e.apply(x,b),C=d==null?S(M):typeof d=="function"?d.apply(x,b):d,q=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),z=x.__zoom,L=typeof g=="function"?g.apply(x,b):g,V=l(z.invert(C).concat(q/z.k),L.invert(C).concat(q/L.k));return function(B){if(B===1)B=L;else{var Y=V(B),Xt=q/Y[2];B=new U(Xt,C[0]-Y[0]*Xt,C[1]-Y[1]*Xt)}k.zoom(null,B)}})}function P(h,g,d){return!d&&h.__zooming||new K(h,g)}function K(h,g){this.that=h,this.args=g,this.active=0,this.sourceEvent=null,this.extent=e.apply(h,g),this.taps=0}K.prototype={event:function(h){return h&&(this.sourceEvent=h),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(h,g){return this.mouse&&h!=="mouse"&&(this.mouse[1]=g.invert(this.mouse[0])),this.touch0&&h!=="touch"&&(this.touch0[1]=g.invert(this.touch0[0])),this.touch1&&h!=="touch"&&(this.touch1[1]=g.invert(this.touch1[0])),this.that.__zoom=g,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(h){var g=Z(this.that).datum();a.call(h,this.that,new Ds(h,{sourceEvent:this.sourceEvent,target:m,type:h,transform:this.that.__zoom,dispatch:a}),g)}};function mt(h,...g){if(!t.apply(this,arguments))return;var d=P(this,g).event(h),y=this.__zoom,x=Math.max(o[0],Math.min(o[1],y.k*Math.pow(2,i.apply(this,arguments)))),b=Q(h);if(d.wheel)(d.mouse[0][0]!==b[0]||d.mouse[0][1]!==b[1])&&(d.mouse[1]=y.invert(d.mouse[0]=b)),clearTimeout(d.wheel);else{if(y.k===x)return;d.mouse=[b,y.invert(b)],zt(this),d.start()}at(h),d.wheel=setTimeout(k,w),d.zoom("mouse",n(N($(y,x),d.mouse[0],d.mouse[1]),d.extent,s));function k(){d.wheel=null,d.end()}}function yt(h,...g){if(f||!t.apply(this,arguments))return;var d=h.currentTarget,y=P(this,g,!0).event(h),x=Z(h.view).on("mousemove.zoom",C,!0).on("mouseup.zoom",q,!0),b=Q(h,d),k=h.clientX,M=h.clientY;_r(h.view),Ut(h),y.mouse=[b,this.__zoom.invert(b)],zt(this),y.start();function C(z){if(at(z),!y.moved){var L=z.clientX-k,V=z.clientY-M;y.moved=L*L+V*V>v}y.event(z).zoom("mouse",n(N(y.that.__zoom,y.mouse[0]=Q(z,d),y.mouse[1]),y.extent,s))}function q(z){x.on("mousemove.zoom mouseup.zoom",null),gr(z.view,y.moved),at(z),y.event(z).end()}}function wt(h,...g){if(t.apply(this,arguments)){var d=this.__zoom,y=Q(h.changedTouches?h.changedTouches[0]:h,this),x=d.invert(y),b=d.k*(h.shiftKey?.5:2),k=n(N($(d,b),y,x),e.apply(this,g),s);at(h),u>0?Z(this).transition().duration(u).call(E,k,y,h):Z(this).call(m.transform,k,y,h)}}function an(h,...g){if(t.apply(this,arguments)){var d=h.touches,y=d.length,x=P(this,g,h.changedTouches.length===y).event(h),b,k,M,C;for(Ut(h),k=0;k<y;++k)M=d[k],C=Q(M,this),C=[C,this.__zoom.invert(C),M.identifier],x.touch0?!x.touch1&&x.touch0[2]!==C[2]&&(x.touch1=C,x.taps=0):(x.touch0=C,b=!0,x.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(x.taps<2&&(p=C[0],c=setTimeout(function(){c=null},_)),zt(this),x.start())}}function un(h,...g){if(this.__zooming){var d=P(this,g).event(h),y=h.changedTouches,x=y.length,b,k,M,C;for(at(h),b=0;b<x;++b)k=y[b],M=Q(k,this),d.touch0&&d.touch0[2]===k.identifier?d.touch0[0]=M:d.touch1&&d.touch1[2]===k.identifier&&(d.touch1[0]=M);if(k=d.that.__zoom,d.touch1){var q=d.touch0[0],z=d.touch0[1],L=d.touch1[0],V=d.touch1[1],B=(B=L[0]-q[0])*B+(B=L[1]-q[1])*B,Y=(Y=V[0]-z[0])*Y+(Y=V[1]-z[1])*Y;k=$(k,Math.sqrt(B/Y)),M=[(q[0]+L[0])/2,(q[1]+L[1])/2],C=[(z[0]+V[0])/2,(z[1]+V[1])/2]}else if(d.touch0)M=d.touch0[0],C=d.touch0[1];else return;d.zoom("touch",n(N(k,M,C),d.extent,s))}}function ln(h,...g){if(this.__zooming){var d=P(this,g).event(h),y=h.changedTouches,x=y.length,b,k;for(Ut(h),f&&clearTimeout(f),f=setTimeout(function(){f=null},_),b=0;b<x;++b)k=y[b],d.touch0&&d.touch0[2]===k.identifier?delete d.touch0:d.touch1&&d.touch1[2]===k.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(k=Q(k,this),Math.hypot(p[0]-k[0],p[1]-k[1])<A)){var M=Z(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return m.wheelDelta=function(h){return arguments.length?(i=typeof h=="function"?h:At(+h),m):i},m.filter=function(h){return arguments.length?(t=typeof h=="function"?h:At(!!h),m):t},m.touchable=function(h){return arguments.length?(r=typeof h=="function"?h:At(!!h),m):r},m.extent=function(h){return arguments.length?(e=typeof h=="function"?h:At([[+h[0][0],+h[0][1]],[+h[1][0],+h[1][1]]]),m):e},m.scaleExtent=function(h){return arguments.length?(o[0]=+h[0],o[1]=+h[1],m):[o[0],o[1]]},m.translateExtent=function(h){return arguments.length?(s[0][0]=+h[0][0],s[1][0]=+h[1][0],s[0][1]=+h[0][1],s[1][1]=+h[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(h){return arguments.length?(n=h,m):n},m.duration=function(h){return arguments.length?(u=+h,m):u},m.interpolate=function(h){return arguments.length?(l=h,m):l},m.on=function(){var h=a.on.apply(a,arguments);return h===a?m:h},m.clickDistance=function(h){return arguments.length?(v=(h=+h)*h,m):Math.sqrt(v)},m.tapDistance=function(h){return arguments.length?(A=+h,m):A},m}export{Us as S,Gs as a,Qs as b,Ks as c,rn as h,sn as i,Zs as l,Z as s,Ws as t,Js as z};

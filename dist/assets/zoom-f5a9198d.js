import{_ as pe,i as de,o as Q,c as it,d as I,t as dn,b as vt,F as _e,k as ge,a as me,w as _n,l as gn,j as ye,p as we,f as xe}from"./main-f7dae96d.js";const ve={setup(){},data(){return{}},props:["skill"],computed:{},methods:{hideInfoPanel(){this.$parent.isSkillInfoPanelShown&&(screen.width>800?document.getElementById("skillInfoPanel").style.width="0px":document.getElementById("skillInfoPanel").style.height="0px",document.getElementById("sidepanel-backdrop").style.display="none",this.$parent.isSkillInfoPanelShown=!1)}}},Dt=t=>(we("data-v-75267ddf"),t=t(),xe(),t),be={id:"skillInfoPanel",class:"skillInfoPanel"},ke={class:"closeButtonContainer"},$e={id:"skillInfoPanelContainer"},Me=Dt(()=>I("div",{class:"form-check"},[I("input",{id:"mastery-checkbox",class:"form-check-input",type:"checkbox",value:"skill?.isMastered",style:{"pointer-events":"none"}}),I("label",{class:"form-check-label",style:{color:"#9c7eec","pointer-events":"none"}}," Attained ")],-1)),Ae={key:0,class:"mt-4"},Ne=Dt(()=>I("h2",null,"Mastery Requirements",-1)),Se=["innerHTML"],ze={key:1,class:"mt-2"},Ce=Dt(()=>I("h2",null,"Outer cluster nodes",-1)),Ee={key:2},Te=Dt(()=>I("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[I("path",{d:"M6.34811 20.0423L6.34811 13.6494L-0.0358702 13.6583C-0.320945 13.6579 -0.594203 13.5444 -0.795782 13.3428C-0.997361 13.1412 -1.11082 12.868 -1.11132 12.5829L-1.11729 7.41477C-1.1168 7.1297 -1.00334 6.85644 -0.801757 6.65486C-0.600179 6.45328 -0.326921 6.33982 -0.0418461 6.33933L6.3481 6.34231L6.3481 -0.0506238C6.34659 -0.193451 6.3736 -0.335145 6.42756 -0.467396C6.48152 -0.599646 6.56134 -0.719794 6.66234 -0.820794C6.76334 -0.921794 6.88349 -1.00161 7.01574 -1.05557C7.14799 -1.10953 7.28969 -1.13655 7.43251 -1.13503L12.5827 -1.12308C12.8678 -1.12259 13.141 -1.00913 13.3426 -0.807549C13.5442 -0.60597 13.6577 -0.332713 13.6582 -0.047637L13.6552 6.34231L20.0481 6.34231C20.3325 6.34248 20.6052 6.45552 20.8063 6.65661C21.0074 6.8577 21.1204 7.13039 21.1206 7.41477L21.1325 12.565C21.1324 12.8494 21.0193 13.122 20.8182 13.3231C20.6171 13.5242 20.3444 13.6373 20.0601 13.6374L13.6552 13.6494L13.6641 20.0334C13.6636 20.3184 13.5502 20.5917 13.3486 20.7933C13.147 20.9948 12.8738 21.1083 12.5887 21.1088L7.43252 21.1267C7.28969 21.1282 7.148 21.1012 7.01575 21.0473C6.88349 20.9933 6.76335 20.9135 6.66235 20.8125C6.56135 20.7115 6.48153 20.5913 6.42757 20.4591C6.37361 20.3268 6.34659 20.1851 6.34811 20.0423Z",fill:"white"})],-1));function Ie(t,n,e,i,r,o){var u,l,a;const s=de("router-link");return Q(),it("div",be,[I("div",ke,[I("a",{href:"javascript:void(0)",class:"closebtn",onClick:n[0]||(n[0]=c=>this.hideInfoPanel())},"×")]),I("div",$e,[I("h1",null,dn((u=e.skill)==null?void 0:u.name),1),Me,((l=e.skill)==null?void 0:l.type)!="domain"?(Q(),it("div",Ae,[Ne,I("div",{class:"truncate-overflow",innerHTML:(a=e.skill)==null?void 0:a.masteryRequirements},null,8,Se)])):vt("",!0),e.skill.type=="super"?(Q(),it("div",ze,[Ce,I("ul",null,[(Q(!0),it(_e,null,ge(e.skill.subskills,c=>(Q(),it("li",null,[me(s,{target:"_blank",id:"skillLink",to:"/skills/"+c.id},{default:_n(()=>[gn(dn(c.skill_name),1)]),_:2},1032,["to"])]))),256))])])):vt("",!0),e.skill.type!="domain"?(Q(),it("hr",Ee)):vt("",!0),e.skill.type!="domain"?(Q(),ye(s,{key:3,class:"btn green-btn",target:"_blank",id:"skillLink",to:"/skills/"+e.skill.id},{default:_n(()=>[gn("See More  "),Te]),_:1},8,["to"])):vt("",!0)])])}const Gs=pe(ve,[["render",Ie],["__scopeId","data-v-75267ddf"]]);function Ks(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}var Re={value:()=>{}};function sn(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Nt(e)}function Nt(t){this._=t}function Pe(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}Nt.prototype=sn.prototype={constructor:Nt,on:function(t,n){var e=this._,i=Pe(t+"",e),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=Le(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(r=(t=i[o]).type)e[r]=mn(e[r],t.name,n);else if(n==null)for(r in e)e[r]=mn(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Nt(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function Le(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function mn(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=Re,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var Kt="http://www.w3.org/1999/xhtml";const yn={svg:"http://www.w3.org/2000/svg",xhtml:Kt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),yn.hasOwnProperty(n)?{space:yn[n],local:t}:t}function Be(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Kt&&n.documentElement.namespaceURI===Kt?n.createElement(t):n.createElementNS(e,t)}}function De(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function an(t){var n=qt(t);return(n.local?De:Be)(n)}function qe(){}function un(t){return t==null?qe:function(){return this.querySelector(t)}}function Xe(t){typeof t!="function"&&(t=un(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],s=o.length,u=i[r]=new Array(s),l,a,c=0;c<s;++c)(l=o[c])&&(a=t.call(l,l.__data__,c,o))&&("__data__"in l&&(a.__data__=l.__data__),u[c]=a);return new R(i,this._parents)}function Fe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function He(){return[]}function Ln(t){return t==null?He:function(){return this.querySelectorAll(t)}}function Ve(t){return function(){return Fe(t.apply(this,arguments))}}function Oe(t){typeof t=="function"?t=Ve(t):t=Ln(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var s=n[o],u=s.length,l,a=0;a<u;++a)(l=s[a])&&(i.push(t.call(l,l.__data__,a,s)),r.push(l));return new R(i,r)}function Bn(t){return function(){return this.matches(t)}}function Dn(t){return function(n){return n.matches(t)}}var Ye=Array.prototype.find;function Ue(t){return function(){return Ye.call(this.children,t)}}function Ge(){return this.firstElementChild}function Ke(t){return this.select(t==null?Ge:Ue(typeof t=="function"?t:Dn(t)))}var We=Array.prototype.filter;function Ze(){return Array.from(this.children)}function Qe(t){return function(){return We.call(this.children,t)}}function Je(t){return this.selectAll(t==null?Ze:Qe(typeof t=="function"?t:Dn(t)))}function je(t){typeof t!="function"&&(t=Bn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],s=o.length,u=i[r]=[],l,a=0;a<s;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&u.push(l);return new R(i,this._parents)}function qn(t){return new Array(t.length)}function ti(){return new R(this._enter||this._groups.map(qn),this._parents)}function Tt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ni(t){return function(){return t}}function ei(t,n,e,i,r,o){for(var s=0,u,l=n.length,a=o.length;s<a;++s)(u=n[s])?(u.__data__=o[s],i[s]=u):e[s]=new Tt(t,o[s]);for(;s<l;++s)(u=n[s])&&(r[s]=u)}function ii(t,n,e,i,r,o,s){var u,l,a=new Map,c=n.length,p=o.length,h=new Array(c),_;for(u=0;u<c;++u)(l=n[u])&&(h[u]=_=s.call(l,l.__data__,u,n)+"",a.has(_)?r[u]=l:a.set(_,l));for(u=0;u<p;++u)_=s.call(t,o[u],u,o)+"",(l=a.get(_))?(i[u]=l,l.__data__=o[u],a.delete(_)):e[u]=new Tt(t,o[u]);for(u=0;u<c;++u)(l=n[u])&&a.get(h[u])===l&&(r[u]=l)}function ri(t){return t.__data__}function oi(t,n){if(!arguments.length)return Array.from(this,ri);var e=n?ii:ei,i=this._parents,r=this._groups;typeof t!="function"&&(t=ni(t));for(var o=r.length,s=new Array(o),u=new Array(o),l=new Array(o),a=0;a<o;++a){var c=i[a],p=r[a],h=p.length,_=si(t.call(c,c&&c.__data__,a,i)),w=_.length,v=u[a]=new Array(w),A=s[a]=new Array(w),m=l[a]=new Array(h);e(c,p,v,A,m,_,n);for(var $=0,S=0,z,E;$<w;++$)if(z=v[$]){for($>=S&&(S=$+1);!(E=A[S])&&++S<w;);z._next=E||null}}return s=new R(s,i),s._enter=u,s._exit=l,s}function si(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ai(){return new R(this._exit||this._groups.map(qn),this._parents)}function ui(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function li(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,s=Math.min(r,o),u=new Array(r),l=0;l<s;++l)for(var a=e[l],c=i[l],p=a.length,h=u[l]=new Array(p),_,w=0;w<p;++w)(_=a[w]||c[w])&&(h[w]=_);for(;l<r;++l)u[l]=e[l];return new R(u,this._parents)}function ci(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function fi(t){t||(t=hi);function n(p,h){return p&&h?t(p.__data__,h.__data__):!p-!h}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var s=e[o],u=s.length,l=r[o]=new Array(u),a,c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(n)}return new R(r,this._parents).order()}function hi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function pi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function di(){return Array.from(this)}function _i(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function gi(){let t=0;for(const n of this)++t;return t}function mi(){return!this.node()}function yi(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,s=r.length,u;o<s;++o)(u=r[o])&&t.call(u,u.__data__,o,r);return this}function wi(t){return function(){this.removeAttribute(t)}}function xi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vi(t,n){return function(){this.setAttribute(t,n)}}function bi(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ki(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function $i(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Mi(t,n){var e=qt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?xi:wi:typeof n=="function"?e.local?$i:ki:e.local?bi:vi)(e,n))}function Xn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ai(t){return function(){this.style.removeProperty(t)}}function Ni(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Si(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function zi(t,n,e){return arguments.length>1?this.each((n==null?Ai:typeof n=="function"?Si:Ni)(t,n,e??"")):ot(this.node(),t)}function ot(t,n){return t.style.getPropertyValue(n)||Xn(t).getComputedStyle(t,null).getPropertyValue(n)}function Ci(t){return function(){delete this[t]}}function Ei(t,n){return function(){this[t]=n}}function Ti(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ii(t,n){return arguments.length>1?this.each((n==null?Ci:typeof n=="function"?Ti:Ei)(t,n)):this.node()[t]}function Fn(t){return t.trim().split(/^|\s+/)}function ln(t){return t.classList||new Hn(t)}function Hn(t){this._node=t,this._names=Fn(t.getAttribute("class")||"")}Hn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Vn(t,n){for(var e=ln(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function On(t,n){for(var e=ln(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Ri(t){return function(){Vn(this,t)}}function Pi(t){return function(){On(this,t)}}function Li(t,n){return function(){(n.apply(this,arguments)?Vn:On)(this,t)}}function Bi(t,n){var e=Fn(t+"");if(arguments.length<2){for(var i=ln(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?Li:n?Ri:Pi)(e,n))}function Di(){this.textContent=""}function qi(t){return function(){this.textContent=t}}function Xi(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Fi(t){return arguments.length?this.each(t==null?Di:(typeof t=="function"?Xi:qi)(t)):this.node().textContent}function Hi(){this.innerHTML=""}function Vi(t){return function(){this.innerHTML=t}}function Oi(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Yi(t){return arguments.length?this.each(t==null?Hi:(typeof t=="function"?Oi:Vi)(t)):this.node().innerHTML}function Ui(){this.nextSibling&&this.parentNode.appendChild(this)}function Gi(){return this.each(Ui)}function Ki(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wi(){return this.each(Ki)}function Zi(t){var n=typeof t=="function"?t:an(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Qi(){return null}function Ji(t,n){var e=typeof t=="function"?t:an(t),i=n==null?Qi:typeof n=="function"?n:un(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function ji(){var t=this.parentNode;t&&t.removeChild(this)}function tr(){return this.each(ji)}function nr(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function er(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ir(t){return this.select(t?er:nr)}function rr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function or(t){return function(n){t.call(this,n,this.__data__)}}function sr(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function ar(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function ur(t,n,e){return function(){var i=this.__on,r,o=or(n);if(i){for(var s=0,u=i.length;s<u;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function lr(t,n,e){var i=sr(t+""),r,o=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,a=u.length,c;l<a;++l)for(r=0,c=u[l];r<o;++r)if((s=i[r]).type===c.type&&s.name===c.name)return c.value}return}for(u=n?ur:ar,r=0;r<o;++r)this.each(u(i[r],n,e));return this}function Yn(t,n,e){var i=Xn(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function cr(t,n){return function(){return Yn(this,t,n)}}function fr(t,n){return function(){return Yn(this,t,n.apply(this,arguments))}}function hr(t,n){return this.each((typeof n=="function"?fr:cr)(t,n))}function*pr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var Un=[null];function R(t,n){this._groups=t,this._parents=n}function gt(){return new R([[document.documentElement]],Un)}function dr(){return this}R.prototype=gt.prototype={constructor:R,select:Xe,selectAll:Oe,selectChild:Ke,selectChildren:Je,filter:je,data:oi,enter:ti,exit:ai,join:ui,merge:li,selection:dr,order:ci,sort:fi,call:pi,nodes:di,node:_i,size:gi,empty:mi,each:yi,attr:Mi,style:zi,property:Ii,classed:Bi,text:Fi,html:Yi,raise:Gi,lower:Wi,append:Zi,insert:Ji,remove:tr,clone:ir,datum:rr,on:lr,dispatch:hr,[Symbol.iterator]:pr};function Z(t){return typeof t=="string"?new R([[document.querySelector(t)]],[document.documentElement]):new R([[t]],Un)}function Ws(t){return Z(an(t).call(document.documentElement))}function _r(t){let n;for(;n=t.sourceEvent;)t=n;return t}function J(t,n){if(t=_r(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const Wt={capture:!0,passive:!1};function Zt(t){t.preventDefault(),t.stopImmediatePropagation()}function gr(t){var n=t.document.documentElement,e=Z(t).on("dragstart.drag",Zt,Wt);"onselectstart"in n?e.on("selectstart.drag",Zt,Wt):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function mr(t,n){var e=t.document.documentElement,i=Z(t).on("dragstart.drag",null);n&&(i.on("click.drag",Zt,Wt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function cn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Gn(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function mt(){}var ft=.7,It=1/ft,rt="\\s*([+-]?\\d+)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",F="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yr=/^#([0-9a-f]{3,8})$/,wr=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),xr=new RegExp(`^rgb\\(${F},${F},${F}\\)$`),vr=new RegExp(`^rgba\\(${rt},${rt},${rt},${ht}\\)$`),br=new RegExp(`^rgba\\(${F},${F},${F},${ht}\\)$`),kr=new RegExp(`^hsl\\(${ht},${F},${F}\\)$`),$r=new RegExp(`^hsla\\(${ht},${F},${F},${ht}\\)$`),wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cn(mt,pt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xn,formatHex:xn,formatHex8:Mr,formatHsl:Ar,formatRgb:vn,toString:vn});function xn(){return this.rgb().formatHex()}function Mr(){return this.rgb().formatHex8()}function Ar(){return Kn(this).formatHsl()}function vn(){return this.rgb().formatRgb()}function pt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=yr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?bn(n):e===3?new T(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?bt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?bt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=wr.exec(t))?new T(n[1],n[2],n[3],1):(n=xr.exec(t))?new T(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=vr.exec(t))?bt(n[1],n[2],n[3],n[4]):(n=br.exec(t))?bt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=kr.exec(t))?Mn(n[1],n[2]/100,n[3]/100,1):(n=$r.exec(t))?Mn(n[1],n[2]/100,n[3]/100,n[4]):wn.hasOwnProperty(t)?bn(wn[t]):t==="transparent"?new T(NaN,NaN,NaN,0):null}function bn(t){return new T(t>>16&255,t>>8&255,t&255,1)}function bt(t,n,e,i){return i<=0&&(t=n=e=NaN),new T(t,n,e,i)}function Nr(t){return t instanceof mt||(t=pt(t)),t?(t=t.rgb(),new T(t.r,t.g,t.b,t.opacity)):new T}function Qt(t,n,e,i){return arguments.length===1?Nr(t):new T(t,n,e,i??1)}function T(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}cn(T,Qt,Gn(mt,{brighter(t){return t=t==null?It:Math.pow(It,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ft:Math.pow(ft,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new T(nt(this.r),nt(this.g),nt(this.b),Rt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kn,formatHex:kn,formatHex8:Sr,formatRgb:$n,toString:$n}));function kn(){return`#${tt(this.r)}${tt(this.g)}${tt(this.b)}`}function Sr(){return`#${tt(this.r)}${tt(this.g)}${tt(this.b)}${tt((isNaN(this.opacity)?1:this.opacity)*255)}`}function $n(){const t=Rt(this.opacity);return`${t===1?"rgb(":"rgba("}${nt(this.r)}, ${nt(this.g)}, ${nt(this.b)}${t===1?")":`, ${t})`}`}function Rt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tt(t){return t=nt(t),(t<16?"0":"")+t.toString(16)}function Mn(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new D(t,n,e,i)}function Kn(t){if(t instanceof D)return new D(t.h,t.s,t.l,t.opacity);if(t instanceof mt||(t=pt(t)),!t)return new D;if(t instanceof D)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),s=NaN,u=o-r,l=(o+r)/2;return u?(n===o?s=(e-i)/u+(e<i)*6:e===o?s=(i-n)/u+2:s=(n-e)/u+4,u/=l<.5?o+r:2-o-r,s*=60):u=l>0&&l<1?0:s,new D(s,u,l,t.opacity)}function zr(t,n,e,i){return arguments.length===1?Kn(t):new D(t,n,e,i??1)}function D(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}cn(D,zr,Gn(mt,{brighter(t){return t=t==null?It:Math.pow(It,t),new D(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ft:Math.pow(ft,t),new D(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new T(Vt(t>=240?t-240:t+120,r,i),Vt(t,r,i),Vt(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new D(An(this.h),kt(this.s),kt(this.l),Rt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rt(this.opacity);return`${t===1?"hsl(":"hsla("}${An(this.h)}, ${kt(this.s)*100}%, ${kt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function An(t){return t=(t||0)%360,t<0?t+360:t}function kt(t){return Math.max(0,Math.min(1,t||0))}function Vt(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Wn=t=>()=>t;function Cr(t,n){return function(e){return t+e*n}}function Er(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function Tr(t){return(t=+t)==1?Zn:function(n,e){return e-n?Er(n,e,t):Wn(isNaN(n)?e:n)}}function Zn(t,n){var e=n-t;return e?Cr(t,e):Wn(isNaN(t)?n:t)}const Nn=function t(n){var e=Tr(n);function i(r,o){var s=e((r=Qt(r)).r,(o=Qt(o)).r),u=e(r.g,o.g),l=e(r.b,o.b),a=Zn(r.opacity,o.opacity);return function(c){return r.r=s(c),r.g=u(c),r.b=l(c),r.opacity=a(c),r+""}}return i.gamma=t,i}(1);function W(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Jt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ot=new RegExp(Jt.source,"g");function Ir(t){return function(){return t}}function Rr(t){return function(n){return t(n)+""}}function Pr(t,n){var e=Jt.lastIndex=Ot.lastIndex=0,i,r,o,s=-1,u=[],l=[];for(t=t+"",n=n+"";(i=Jt.exec(t))&&(r=Ot.exec(n));)(o=r.index)>e&&(o=n.slice(e,o),u[s]?u[s]+=o:u[++s]=o),(i=i[0])===(r=r[0])?u[s]?u[s]+=r:u[++s]=r:(u[++s]=null,l.push({i:s,x:W(i,r)})),e=Ot.lastIndex;return e<n.length&&(o=n.slice(e),u[s]?u[s]+=o:u[++s]=o),u.length<2?l[0]?Rr(l[0].x):Ir(n):(n=l.length,function(a){for(var c=0,p;c<n;++c)u[(p=l[c]).i]=p.x(a);return u.join("")})}var Sn=180/Math.PI,jt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qn(t,n,e,i,r,o){var s,u,l;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(l=t*e+n*i)&&(e-=t*l,i-=n*l),(u=Math.sqrt(e*e+i*i))&&(e/=u,i/=u,l/=u),t*i<n*e&&(t=-t,n=-n,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*Sn,skewX:Math.atan(l)*Sn,scaleX:s,scaleY:u}}var $t;function Lr(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?jt:Qn(n.a,n.b,n.c,n.d,n.e,n.f)}function Br(t){return t==null||($t||($t=document.createElementNS("http://www.w3.org/2000/svg","g")),$t.setAttribute("transform",t),!(t=$t.transform.baseVal.consolidate()))?jt:(t=t.matrix,Qn(t.a,t.b,t.c,t.d,t.e,t.f))}function Jn(t,n,e,i){function r(a){return a.length?a.pop()+" ":""}function o(a,c,p,h,_,w){if(a!==p||c!==h){var v=_.push("translate(",null,n,null,e);w.push({i:v-4,x:W(a,p)},{i:v-2,x:W(c,h)})}else(p||h)&&_.push("translate("+p+n+h+e)}function s(a,c,p,h){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),h.push({i:p.push(r(p)+"rotate(",null,i)-2,x:W(a,c)})):c&&p.push(r(p)+"rotate("+c+i)}function u(a,c,p,h){a!==c?h.push({i:p.push(r(p)+"skewX(",null,i)-2,x:W(a,c)}):c&&p.push(r(p)+"skewX("+c+i)}function l(a,c,p,h,_,w){if(a!==p||c!==h){var v=_.push(r(_)+"scale(",null,",",null,")");w.push({i:v-4,x:W(a,p)},{i:v-2,x:W(c,h)})}else(p!==1||h!==1)&&_.push(r(_)+"scale("+p+","+h+")")}return function(a,c){var p=[],h=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,p,h),s(a.rotate,c.rotate,p,h),u(a.skewX,c.skewX,p,h),l(a.scaleX,a.scaleY,c.scaleX,c.scaleY,p,h),a=c=null,function(_){for(var w=-1,v=h.length,A;++w<v;)p[(A=h[w]).i]=A.x(_);return p.join("")}}}var Dr=Jn(Lr,"px, ","px)","deg)"),qr=Jn(Br,", ",")",")"),Xr=1e-12;function zn(t){return((t=Math.exp(t))+1/t)/2}function Fr(t){return((t=Math.exp(t))-1/t)/2}function Hr(t){return((t=Math.exp(2*t))-1)/(t+1)}const Vr=function t(n,e,i){function r(o,s){var u=o[0],l=o[1],a=o[2],c=s[0],p=s[1],h=s[2],_=c-u,w=p-l,v=_*_+w*w,A,m;if(v<Xr)m=Math.log(h/a)/n,A=function(K){return[u+K*_,l+K*w,a*Math.exp(n*K*m)]};else{var $=Math.sqrt(v),S=(h*h-a*a+i*v)/(2*a*e*$),z=(h*h-a*a-i*v)/(2*h*e*$),E=Math.log(Math.sqrt(S*S+1)-S),P=Math.log(Math.sqrt(z*z+1)-z);m=(P-E)/n,A=function(K){var yt=K*m,wt=zn(E),xt=a/(e*$)*(wt*Hr(n*yt+E)-Fr(E));return[u+xt*_,l+xt*w,a*wt/zn(n*yt+E)]}}return A.duration=m*1e3*n/Math.SQRT2,A}return r.rho=function(o){var s=Math.max(.001,+o),u=s*s,l=u*u;return t(s,u,l)},r}(Math.SQRT2,2,4);var st=0,lt=0,at=0,jn=1e3,Pt,ct,Lt=0,et=0,Xt=0,dt=typeof performance=="object"&&performance.now?performance:Date,te=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fn(){return et||(te(Or),et=dt.now()+Xt)}function Or(){et=0}function Bt(){this._call=this._time=this._next=null}Bt.prototype=ne.prototype={constructor:Bt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?fn():+e)+(n==null?0:+n),!this._next&&ct!==this&&(ct?ct._next=this:Pt=this,ct=this),this._call=t,this._time=e,tn()},stop:function(){this._call&&(this._call=null,this._time=1/0,tn())}};function ne(t,n,e){var i=new Bt;return i.restart(t,n,e),i}function Yr(){fn(),++st;for(var t=Pt,n;t;)(n=et-t._time)>=0&&t._call.call(void 0,n),t=t._next;--st}function Cn(){et=(Lt=dt.now())+Xt,st=lt=0;try{Yr()}finally{st=0,Gr(),et=0}}function Ur(){var t=dt.now(),n=t-Lt;n>jn&&(Xt-=n,Lt=t)}function Gr(){for(var t,n=Pt,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Pt=e);ct=t,tn(i)}function tn(t){if(!st){lt&&(lt=clearTimeout(lt));var n=t-et;n>24?(t<1/0&&(lt=setTimeout(Cn,t-dt.now()-Xt)),at&&(at=clearInterval(at))):(at||(Lt=dt.now(),at=setInterval(Ur,jn)),st=1,te(Cn))}}function En(t,n,e){var i=new Bt;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var Kr=sn("start","end","cancel","interrupt"),Wr=[],ee=0,Tn=1,nn=2,St=3,In=4,en=5,zt=6;function Ft(t,n,e,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;Zr(t,e,{name:n,index:i,group:r,on:Kr,tween:Wr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ee})}function hn(t,n){var e=q(t,n);if(e.state>ee)throw new Error("too late; already scheduled");return e}function H(t,n){var e=q(t,n);if(e.state>St)throw new Error("too late; already running");return e}function q(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Zr(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=ne(o,0,e.time);function o(a){e.state=Tn,e.timer.restart(s,e.delay,e.time),e.delay<=a&&s(a-e.delay)}function s(a){var c,p,h,_;if(e.state!==Tn)return l();for(c in i)if(_=i[c],_.name===e.name){if(_.state===St)return En(s);_.state===In?(_.state=zt,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[c]):+c<n&&(_.state=zt,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[c])}if(En(function(){e.state===St&&(e.state=In,e.timer.restart(u,e.delay,e.time),u(a))}),e.state=nn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===nn){for(e.state=St,r=new Array(h=e.tween.length),c=0,p=-1;c<h;++c)(_=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++p]=_);r.length=p+1}}function u(a){for(var c=a<e.duration?e.ease.call(null,a/e.duration):(e.timer.restart(l),e.state=en,1),p=-1,h=r.length;++p<h;)r[p].call(t,c);e.state===en&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=zt,e.timer.stop(),delete i[n];for(var a in i)return;delete t.__transition}}function Ct(t,n){var e=t.__transition,i,r,o=!0,s;if(e){n=n==null?null:n+"";for(s in e){if((i=e[s]).name!==n){o=!1;continue}r=i.state>nn&&i.state<en,i.state=zt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[s]}o&&delete t.__transition}}function Qr(t){return this.each(function(){Ct(this,t)})}function Jr(t,n){var e,i;return function(){var r=H(this,t),o=r.tween;if(o!==e){i=e=o;for(var s=0,u=i.length;s<u;++s)if(i[s].name===n){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function jr(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=H(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var u={name:n,value:e},l=0,a=r.length;l<a;++l)if(r[l].name===n){r[l]=u;break}l===a&&r.push(u)}o.tween=r}}function to(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=q(this.node(),e).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((n==null?Jr:jr)(e,t,n))}function pn(t,n,e){var i=t._id;return t.each(function(){var r=H(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return q(r,i).value[n]}}function ie(t,n){var e;return(typeof n=="number"?W:n instanceof pt?Nn:(e=pt(n))?(n=e,Nn):Pr)(t,n)}function no(t){return function(){this.removeAttribute(t)}}function eo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function io(t,n,e){var i,r=e+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=n(i=s,e)}}function ro(t,n,e){var i,r=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=n(i=s,e)}}function oo(t,n,e){var i,r,o;return function(){var s,u=e(this),l;return u==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=u+"",s===l?null:s===i&&l===r?o:(r=l,o=n(i=s,u)))}}function so(t,n,e){var i,r,o;return function(){var s,u=e(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=u+"",s===l?null:s===i&&l===r?o:(r=l,o=n(i=s,u)))}}function ao(t,n){var e=qt(t),i=e==="transform"?qr:ie;return this.attrTween(t,typeof n=="function"?(e.local?so:oo)(e,i,pn(this,"attr."+t,n)):n==null?(e.local?eo:no)(e):(e.local?ro:io)(e,i,n))}function uo(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function lo(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function co(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&lo(t,o)),e}return r._value=n,r}function fo(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&uo(t,o)),e}return r._value=n,r}function ho(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=qt(t);return this.tween(e,(i.local?co:fo)(i,n))}function po(t,n){return function(){hn(this,t).delay=+n.apply(this,arguments)}}function _o(t,n){return n=+n,function(){hn(this,t).delay=n}}function go(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?po:_o)(n,t)):q(this.node(),n).delay}function mo(t,n){return function(){H(this,t).duration=+n.apply(this,arguments)}}function yo(t,n){return n=+n,function(){H(this,t).duration=n}}function wo(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?mo:yo)(n,t)):q(this.node(),n).duration}function xo(t,n){if(typeof n!="function")throw new Error;return function(){H(this,t).ease=n}}function vo(t){var n=this._id;return arguments.length?this.each(xo(n,t)):q(this.node(),n).ease}function bo(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;H(this,t).ease=e}}function ko(t){if(typeof t!="function")throw new Error;return this.each(bo(this._id,t))}function $o(t){typeof t!="function"&&(t=Bn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],s=o.length,u=i[r]=[],l,a=0;a<s;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&u.push(l);return new G(i,this._parents,this._name,this._id)}function Mo(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),s=new Array(i),u=0;u<o;++u)for(var l=n[u],a=e[u],c=l.length,p=s[u]=new Array(c),h,_=0;_<c;++_)(h=l[_]||a[_])&&(p[_]=h);for(;u<i;++u)s[u]=n[u];return new G(s,this._parents,this._name,this._id)}function Ao(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function No(t,n,e){var i,r,o=Ao(n)?hn:H;return function(){var s=o(this,t),u=s.on;u!==i&&(r=(i=u).copy()).on(n,e),s.on=r}}function So(t,n){var e=this._id;return arguments.length<2?q(this.node(),e).on.on(t):this.each(No(e,t,n))}function zo(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Co(){return this.on("end.remove",zo(this._id))}function Eo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=un(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,a=o[s]=new Array(l),c,p,h=0;h<l;++h)(c=u[h])&&(p=t.call(c,c.__data__,h,u))&&("__data__"in c&&(p.__data__=c.__data__),a[h]=p,Ft(a[h],n,e,h,a,q(c,e)));return new G(o,this._parents,n,e)}function To(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ln(t));for(var i=this._groups,r=i.length,o=[],s=[],u=0;u<r;++u)for(var l=i[u],a=l.length,c,p=0;p<a;++p)if(c=l[p]){for(var h=t.call(c,c.__data__,p,l),_,w=q(c,e),v=0,A=h.length;v<A;++v)(_=h[v])&&Ft(_,n,e,v,h,w);o.push(h),s.push(c)}return new G(o,s,n,e)}var Io=gt.prototype.constructor;function Ro(){return new Io(this._groups,this._parents)}function Po(t,n){var e,i,r;return function(){var o=ot(this,t),s=(this.style.removeProperty(t),ot(this,t));return o===s?null:o===e&&s===i?r:r=n(e=o,i=s)}}function re(t){return function(){this.style.removeProperty(t)}}function Lo(t,n,e){var i,r=e+"",o;return function(){var s=ot(this,t);return s===r?null:s===i?o:o=n(i=s,e)}}function Bo(t,n,e){var i,r,o;return function(){var s=ot(this,t),u=e(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),ot(this,t))),s===l?null:s===i&&l===r?o:(r=l,o=n(i=s,u))}}function Do(t,n){var e,i,r,o="style."+n,s="end."+o,u;return function(){var l=H(this,t),a=l.on,c=l.value[o]==null?u||(u=re(n)):void 0;(a!==e||r!==c)&&(i=(e=a).copy()).on(s,r=c),l.on=i}}function qo(t,n,e){var i=(t+="")=="transform"?Dr:ie;return n==null?this.styleTween(t,Po(t,i)).on("end.style."+t,re(t)):typeof n=="function"?this.styleTween(t,Bo(t,i,pn(this,"style."+t,n))).each(Do(this._id,t)):this.styleTween(t,Lo(t,i,n),e).on("end.style."+t,null)}function Xo(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function Fo(t,n,e){var i,r;function o(){var s=n.apply(this,arguments);return s!==r&&(i=(r=s)&&Xo(t,s,e)),i}return o._value=n,o}function Ho(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Fo(t,n,e??""))}function Vo(t){return function(){this.textContent=t}}function Oo(t){return function(){var n=t(this);this.textContent=n??""}}function Yo(t){return this.tween("text",typeof t=="function"?Oo(pn(this,"text",t)):Vo(t==null?"":t+""))}function Uo(t){return function(n){this.textContent=t.call(this,n)}}function Go(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Uo(r)),n}return i._value=t,i}function Ko(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Go(t))}function Wo(){for(var t=this._name,n=this._id,e=oe(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],u=s.length,l,a=0;a<u;++a)if(l=s[a]){var c=q(l,n);Ft(l,t,e,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new G(i,this._parents,t,e)}function Zo(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,s){var u={value:s},l={value:function(){--r===0&&o()}};e.each(function(){var a=H(this,i),c=a.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(l)),a.on=n}),r===0&&o()})}var Qo=0;function G(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function oe(){return++Qo}var Y=gt.prototype;G.prototype={constructor:G,select:Eo,selectAll:To,selectChild:Y.selectChild,selectChildren:Y.selectChildren,filter:$o,merge:Mo,selection:Ro,transition:Wo,call:Y.call,nodes:Y.nodes,node:Y.node,size:Y.size,empty:Y.empty,each:Y.each,on:So,attr:ao,attrTween:ho,style:qo,styleTween:Ho,text:Yo,textTween:Ko,remove:Co,tween:to,delay:go,duration:wo,ease:vo,easeVarying:ko,end:Zo,[Symbol.iterator]:Y[Symbol.iterator]};function Jo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var jo={time:null,delay:0,duration:250,ease:Jo};function ts(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function ns(t){var n,e;t instanceof G?(n=t._id,t=t._name):(n=oe(),(e=jo).time=fn(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],u=s.length,l,a=0;a<u;++a)(l=s[a])&&Ft(l,t,n,a,s,e||ts(l,n));return new G(i,this._parents,t,n)}gt.prototype.interrupt=Qr;gt.prototype.transition=ns;const rn=Math.PI,on=2*rn,j=1e-6,es=on-j;function se(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function is(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return se;const e=10**n;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}class rs{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?se:is(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,r){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(n,e,i,r,o,s){this._append`C${+n},${+e},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(n,e,i,r,o){if(n=+n,e=+e,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,l=i-n,a=r-e,c=s-n,p=u-e,h=c*c+p*p;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(h>j)if(!(Math.abs(p*l-a*c)>j)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let _=i-s,w=r-u,v=l*l+a*a,A=_*_+w*w,m=Math.sqrt(v),$=Math.sqrt(h),S=o*Math.tan((rn-Math.acos((v+h-A)/(2*m*$)))/2),z=S/$,E=S/m;Math.abs(z-1)>j&&this._append`L${n+z*c},${e+z*p}`,this._append`A${o},${o},0,0,${+(p*_>c*w)},${this._x1=n+E*l},${this._y1=e+E*a}`}}arc(n,e,i,r,o,s){if(n=+n,e=+e,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(r),l=i*Math.sin(r),a=n+u,c=e+l,p=1^s,h=s?r-o:o-r;this._x1===null?this._append`M${a},${c}`:(Math.abs(this._x1-a)>j||Math.abs(this._y1-c)>j)&&this._append`L${a},${c}`,i&&(h<0&&(h=h%on+on),h>es?this._append`A${i},${i},0,1,${p},${n-u},${e-l}A${i},${i},0,1,${p},${this._x1=a},${this._y1=c}`:h>j&&this._append`A${i},${i},0,${+(h>=rn)},${p},${this._x1=n+i*Math.cos(o)},${this._y1=e+i*Math.sin(o)}`)}rect(n,e,i,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function os(t){var n=0,e=t.children,i=e&&e.length;if(!i)n=1;else for(;--i>=0;)n+=e[i].value;t.value=n}function ss(){return this.eachAfter(os)}function as(t,n){let e=-1;for(const i of this)t.call(n,i,++e,this);return this}function us(t,n){for(var e=this,i=[e],r,o,s=-1;e=i.pop();)if(t.call(n,e,++s,this),r=e.children)for(o=r.length-1;o>=0;--o)i.push(r[o]);return this}function ls(t,n){for(var e=this,i=[e],r=[],o,s,u,l=-1;e=i.pop();)if(r.push(e),o=e.children)for(s=0,u=o.length;s<u;++s)i.push(o[s]);for(;e=r.pop();)t.call(n,e,++l,this);return this}function cs(t,n){let e=-1;for(const i of this)if(t.call(n,i,++e,this))return i}function fs(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)e+=i[r].value;n.value=e})}function hs(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function ps(t){for(var n=this,e=ds(n,t),i=[n];n!==e;)n=n.parent,i.push(n);for(var r=i.length;t!==e;)i.splice(r,0,t),t=t.parent;return i}function ds(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),r=null;for(t=e.pop(),n=i.pop();t===n;)r=t,t=e.pop(),n=i.pop();return r}function _s(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function gs(){return Array.from(this)}function ms(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function ys(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*ws(){var t=this,n,e=[t],i,r,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,i=t.children)for(r=0,o=i.length;r<o;++r)e.push(i[r]);while(e.length)}function ae(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=bs)):n===void 0&&(n=vs);for(var e=new _t(t),i,r=[e],o,s,u,l;i=r.pop();)if((s=n(i.data))&&(l=(s=Array.from(s)).length))for(i.children=s,u=l-1;u>=0;--u)r.push(o=s[u]=new _t(s[u])),o.parent=i,o.depth=i.depth+1;return e.eachBefore($s)}function xs(){return ae(this).eachBefore(ks)}function vs(t){return t.children}function bs(t){return Array.isArray(t)?t[1]:null}function ks(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function $s(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function _t(t){this.data=t,this.depth=this.height=0,this.parent=null}_t.prototype=ae.prototype={constructor:_t,count:ss,each:as,eachAfter:ls,eachBefore:us,find:cs,sum:fs,sort:hs,path:ps,ancestors:_s,descendants:gs,leaves:ms,links:ys,copy:xs,[Symbol.iterator]:ws};function Ms(t,n){return t.parent===n.parent?1:2}function Yt(t){var n=t.children;return n?n[0]:t.t}function Ut(t){var n=t.children;return n?n[n.length-1]:t.t}function As(t,n,e){var i=e/(n.i-t.i);n.c-=i,n.s+=e,t.c+=i,n.z+=e,n.m+=e}function Ns(t){for(var n=0,e=0,i=t.children,r=i.length,o;--r>=0;)o=i[r],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function Ss(t,n,e){return t.a.parent===n.parent?t.a:e}function Et(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Et.prototype=Object.create(_t.prototype);function zs(t){for(var n=new Et(t,0),e,i=[n],r,o,s,u;e=i.pop();)if(o=e._.children)for(e.children=new Array(u=o.length),s=u-1;s>=0;--s)i.push(r=e.children[s]=new Et(o[s],s)),r.parent=e;return(n.parent=new Et(null,0)).children=[n],n}function Zs(){var t=Ms,n=1,e=1,i=null;function r(a){var c=zs(a);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),i)a.eachBefore(l);else{var p=a,h=a,_=a;a.eachBefore(function($){$.x<p.x&&(p=$),$.x>h.x&&(h=$),$.depth>_.depth&&(_=$)});var w=p===h?1:t(p,h)/2,v=w-p.x,A=n/(h.x+w+v),m=e/(_.depth||1);a.eachBefore(function($){$.x=($.x+v)*A,$.y=$.depth*m})}return a}function o(a){var c=a.children,p=a.parent.children,h=a.i?p[a.i-1]:null;if(c){Ns(a);var _=(c[0].z+c[c.length-1].z)/2;h?(a.z=h.z+t(a._,h._),a.m=a.z-_):a.z=_}else h&&(a.z=h.z+t(a._,h._));a.parent.A=u(a,h,a.parent.A||p[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function u(a,c,p){if(c){for(var h=a,_=a,w=c,v=h.parent.children[0],A=h.m,m=_.m,$=w.m,S=v.m,z;w=Ut(w),h=Yt(h),w&&h;)v=Yt(v),_=Ut(_),_.a=a,z=w.z+$-h.z-A+t(w._,h._),z>0&&(As(Ss(w,a,p),a,z),A+=z,m+=z),$+=w.m,A+=h.m,S+=v.m,m+=_.m;w&&!Ut(_)&&(_.t=w,_.m+=$-m),h&&!Yt(v)&&(v.t=h,v.m+=A-S,p=a)}return p}function l(a){a.x*=n,a.y=a.depth*e}return r.separation=function(a){return arguments.length?(t=a,r):t},r.size=function(a){return arguments.length?(i=!1,n=+a[0],e=+a[1],r):i?null:[n,e]},r.nodeSize=function(a){return arguments.length?(i=!0,n=+a[0],e=+a[1],r):i?[n,e]:null},r}function Rn(t){return function(){return t}}function Cs(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new rs(n)}var Es=Array.prototype.slice;function Ts(t){return t[0]}function Is(t){return t[1]}function Mt(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}class Rs{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}class Ps{constructor(n){this._context=n}lineStart(){this._point=0}lineEnd(){}point(n,e){if(n=+n,e=+e,this._point===0)this._point=1;else{const i=Mt(this._x0,this._y0),r=Mt(this._x0,this._y0=(this._y0+e)/2),o=Mt(n,this._y0),s=Mt(n,e);this._context.moveTo(...i),this._context.bezierCurveTo(...r,...o,...s)}this._x0=n,this._y0=e}}function Ls(t){return new Rs(t,!0)}function Bs(t){return new Ps(t)}function Ds(t){return t.source}function qs(t){return t.target}function ue(t){let n=Ds,e=qs,i=Ts,r=Is,o=null,s=null,u=Cs(l);function l(){let a;const c=Es.call(arguments),p=n.apply(this,c),h=e.apply(this,c);if(o==null&&(s=t(a=u())),s.lineStart(),c[0]=p,s.point(+i.apply(this,c),+r.apply(this,c)),c[0]=h,s.point(+i.apply(this,c),+r.apply(this,c)),s.lineEnd(),a)return s=null,a+""||null}return l.source=function(a){return arguments.length?(n=a,l):n},l.target=function(a){return arguments.length?(e=a,l):e},l.x=function(a){return arguments.length?(i=typeof a=="function"?a:Rn(+a),l):i},l.y=function(a){return arguments.length?(r=typeof a=="function"?a:Rn(+a),l):r},l.context=function(a){return arguments.length?(a==null?o=s=null:s=t(o=a),l):o},l}function Qs(){return ue(Ls)}function Js(){const t=ue(Bs);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const At=t=>()=>t;function Xs(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function U(t,n,e){this.k=t,this.x=n,this.y=e}U.prototype={constructor:U,scale:function(t){return t===1?this:new U(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new U(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var le=new U(1,0,0);U.prototype;function Gt(t){t.stopImmediatePropagation()}function ut(t){t.preventDefault(),t.stopImmediatePropagation()}function Fs(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Hs(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Pn(){return this.__zoom||le}function Vs(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Os(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ys(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],s=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function js(){var t=Fs,n=Hs,e=Ys,i=Vs,r=Os,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,l=Vr,a=sn("start","zoom","end"),c,p,h,_=500,w=150,v=0,A=10;function m(f){f.property("__zoom",Pn).on("wheel.zoom",yt,{passive:!1}).on("mousedown.zoom",wt).on("dblclick.zoom",xt).filter(r).on("touchstart.zoom",ce).on("touchmove.zoom",fe).on("touchend.zoom touchcancel.zoom",he).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(f,g,d,y){var x=f.selection?f.selection():f;x.property("__zoom",Pn),f!==x?E(f,g,d,y):x.interrupt().each(function(){P(this,arguments).event(y).start().zoom(null,typeof g=="function"?g.apply(this,arguments):g).end()})},m.scaleBy=function(f,g,d,y){m.scaleTo(f,function(){var x=this.__zoom.k,b=typeof g=="function"?g.apply(this,arguments):g;return x*b},d,y)},m.scaleTo=function(f,g,d,y){m.transform(f,function(){var x=n.apply(this,arguments),b=this.__zoom,k=d==null?z(x):typeof d=="function"?d.apply(this,arguments):d,M=b.invert(k),N=typeof g=="function"?g.apply(this,arguments):g;return e(S($(b,N),k,M),x,s)},d,y)},m.translateBy=function(f,g,d,y){m.transform(f,function(){return e(this.__zoom.translate(typeof g=="function"?g.apply(this,arguments):g,typeof d=="function"?d.apply(this,arguments):d),n.apply(this,arguments),s)},null,y)},m.translateTo=function(f,g,d,y,x){m.transform(f,function(){var b=n.apply(this,arguments),k=this.__zoom,M=y==null?z(b):typeof y=="function"?y.apply(this,arguments):y;return e(le.translate(M[0],M[1]).scale(k.k).translate(typeof g=="function"?-g.apply(this,arguments):-g,typeof d=="function"?-d.apply(this,arguments):-d),b,s)},y,x)};function $(f,g){return g=Math.max(o[0],Math.min(o[1],g)),g===f.k?f:new U(g,f.x,f.y)}function S(f,g,d){var y=g[0]-d[0]*f.k,x=g[1]-d[1]*f.k;return y===f.x&&x===f.y?f:new U(f.k,y,x)}function z(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function E(f,g,d,y){f.on("start.zoom",function(){P(this,arguments).event(y).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(y).end()}).tween("zoom",function(){var x=this,b=arguments,k=P(x,b).event(y),M=n.apply(x,b),N=d==null?z(M):typeof d=="function"?d.apply(x,b):d,X=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),C=x.__zoom,L=typeof g=="function"?g.apply(x,b):g,V=l(C.invert(N).concat(X/C.k),L.invert(N).concat(X/L.k));return function(B){if(B===1)B=L;else{var O=V(B),Ht=X/O[2];B=new U(Ht,N[0]-O[0]*Ht,N[1]-O[1]*Ht)}k.zoom(null,B)}})}function P(f,g,d){return!d&&f.__zooming||new K(f,g)}function K(f,g){this.that=f,this.args=g,this.active=0,this.sourceEvent=null,this.extent=n.apply(f,g),this.taps=0}K.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,g){return this.mouse&&f!=="mouse"&&(this.mouse[1]=g.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=g.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=g.invert(this.touch1[0])),this.that.__zoom=g,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var g=Z(this.that).datum();a.call(f,this.that,new Xs(f,{sourceEvent:this.sourceEvent,target:m,type:f,transform:this.that.__zoom,dispatch:a}),g)}};function yt(f,...g){if(!t.apply(this,arguments))return;var d=P(this,g).event(f),y=this.__zoom,x=Math.max(o[0],Math.min(o[1],y.k*Math.pow(2,i.apply(this,arguments)))),b=J(f);if(d.wheel)(d.mouse[0][0]!==b[0]||d.mouse[0][1]!==b[1])&&(d.mouse[1]=y.invert(d.mouse[0]=b)),clearTimeout(d.wheel);else{if(y.k===x)return;d.mouse=[b,y.invert(b)],Ct(this),d.start()}ut(f),d.wheel=setTimeout(k,w),d.zoom("mouse",e(S($(y,x),d.mouse[0],d.mouse[1]),d.extent,s));function k(){d.wheel=null,d.end()}}function wt(f,...g){if(h||!t.apply(this,arguments))return;var d=f.currentTarget,y=P(this,g,!0).event(f),x=Z(f.view).on("mousemove.zoom",N,!0).on("mouseup.zoom",X,!0),b=J(f,d),k=f.clientX,M=f.clientY;gr(f.view),Gt(f),y.mouse=[b,this.__zoom.invert(b)],Ct(this),y.start();function N(C){if(ut(C),!y.moved){var L=C.clientX-k,V=C.clientY-M;y.moved=L*L+V*V>v}y.event(C).zoom("mouse",e(S(y.that.__zoom,y.mouse[0]=J(C,d),y.mouse[1]),y.extent,s))}function X(C){x.on("mousemove.zoom mouseup.zoom",null),mr(C.view,y.moved),ut(C),y.event(C).end()}}function xt(f,...g){if(t.apply(this,arguments)){var d=this.__zoom,y=J(f.changedTouches?f.changedTouches[0]:f,this),x=d.invert(y),b=d.k*(f.shiftKey?.5:2),k=e(S($(d,b),y,x),n.apply(this,g),s);ut(f),u>0?Z(this).transition().duration(u).call(E,k,y,f):Z(this).call(m.transform,k,y,f)}}function ce(f,...g){if(t.apply(this,arguments)){var d=f.touches,y=d.length,x=P(this,g,f.changedTouches.length===y).event(f),b,k,M,N;for(Gt(f),k=0;k<y;++k)M=d[k],N=J(M,this),N=[N,this.__zoom.invert(N),M.identifier],x.touch0?!x.touch1&&x.touch0[2]!==N[2]&&(x.touch1=N,x.taps=0):(x.touch0=N,b=!0,x.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(x.taps<2&&(p=N[0],c=setTimeout(function(){c=null},_)),Ct(this),x.start())}}function fe(f,...g){if(this.__zooming){var d=P(this,g).event(f),y=f.changedTouches,x=y.length,b,k,M,N;for(ut(f),b=0;b<x;++b)k=y[b],M=J(k,this),d.touch0&&d.touch0[2]===k.identifier?d.touch0[0]=M:d.touch1&&d.touch1[2]===k.identifier&&(d.touch1[0]=M);if(k=d.that.__zoom,d.touch1){var X=d.touch0[0],C=d.touch0[1],L=d.touch1[0],V=d.touch1[1],B=(B=L[0]-X[0])*B+(B=L[1]-X[1])*B,O=(O=V[0]-C[0])*O+(O=V[1]-C[1])*O;k=$(k,Math.sqrt(B/O)),M=[(X[0]+L[0])/2,(X[1]+L[1])/2],N=[(C[0]+V[0])/2,(C[1]+V[1])/2]}else if(d.touch0)M=d.touch0[0],N=d.touch0[1];else return;d.zoom("touch",e(S(k,M,N),d.extent,s))}}function he(f,...g){if(this.__zooming){var d=P(this,g).event(f),y=f.changedTouches,x=y.length,b,k;for(Gt(f),h&&clearTimeout(h),h=setTimeout(function(){h=null},_),b=0;b<x;++b)k=y[b],d.touch0&&d.touch0[2]===k.identifier?delete d.touch0:d.touch1&&d.touch1[2]===k.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(k=J(k,this),Math.hypot(p[0]-k[0],p[1]-k[1])<A)){var M=Z(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return m.wheelDelta=function(f){return arguments.length?(i=typeof f=="function"?f:At(+f),m):i},m.filter=function(f){return arguments.length?(t=typeof f=="function"?f:At(!!f),m):t},m.touchable=function(f){return arguments.length?(r=typeof f=="function"?f:At(!!f),m):r},m.extent=function(f){return arguments.length?(n=typeof f=="function"?f:At([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),m):n},m.scaleExtent=function(f){return arguments.length?(o[0]=+f[0],o[1]=+f[1],m):[o[0],o[1]]},m.translateExtent=function(f){return arguments.length?(s[0][0]=+f[0][0],s[1][0]=+f[1][0],s[0][1]=+f[0][1],s[1][1]=+f[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(f){return arguments.length?(e=f,m):e},m.duration=function(f){return arguments.length?(u=+f,m):u},m.interpolate=function(f){return arguments.length?(l=f,m):l},m.on=function(){var f=a.on.apply(a,arguments);return f===a?m:f},m.clickDistance=function(f){return arguments.length?(v=(f=+f)*f,m):Math.sqrt(v)},m.tapDistance=function(f){return arguments.length?(A=+f,m):A},m}export{Gs as S,Ks as a,Js as b,Ws as c,ae as h,le as i,Qs as l,Z as s,Zs as t,js as z};

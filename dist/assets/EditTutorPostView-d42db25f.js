import{_ as a,o as u,c as d,d as e}from"./main-a7c4eaa7.js";const c={data(){return{tutorPostId:this.$route.params.tutorPostId,tutorPost:{}}},created(){this.getTutorPost()},methods:{async getTutorPost(){await fetch("/tutor-posts/show/"+this.tutorPostId).then(function(t){return t.json()}).then(t=>this.tutorPost=t),$("#summernote").summernote({maximumImageFileSize:2048*1024,callbacks:{onImageUploadError:function(t){alert("Max image size is 2MB.")}}}).summernote("code",this.tutorPost.description)},Submit(){var t=$("#summernote").summernote("code");const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t})};var r="/tutor-posts/edit/"+this.tutorPostId;fetch(r,s).then(()=>{let o=this.$route.query.dismissFlagId;o?fetch("/content-flags/"+o,{method:"DELETE"}).finally(()=>{this.$router.back()}):this.$router.back()})}}},m={class:"container mt-3"},l=e("h2",null,"Edit Tutor Post",-1),h={class:"row"},p=e("div",{class:"mb-3"},[e("textarea",{id:"summernote",name:"editordata"})],-1),_={class:"mb-3 d-flex justify-content-end gap-4"};function f(t,s,r,o,b,n){return u(),d("div",m,[l,e("div",h,[p,e("div",_,[e("a",{class:"btn red-btn",onClick:s[0]||(s[0]=i=>t.$router.go(-1))}," Cancel "),e("button",{onClick:s[1]||(s[1]=i=>n.Submit()),class:"btn purple-btn"},"Submit")])])])}const P=a(c,[["render",f]]);export{P as default};

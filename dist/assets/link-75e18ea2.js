import{S as E,r as L,c as q}from"./transform-9f729428.js";function Mt(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function j(n){return typeof n=="string"?new E([[document.querySelector(n)]],[document.documentElement]):new E([[n]],L)}function At(n){return j(q(n).call(document.documentElement))}const T=Math.PI,B=2*T,m=1e-6,H=B-m;function C(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function I(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return C;const e=10**t;return function(i){this._+=i[0];for(let h=1,s=i.length;h<s;++h)this._+=Math.round(arguments[h]*e)/e+i[h]}}class W{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?C:I(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,h){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+h}`}bezierCurveTo(t,e,i,h,s,a){this._append`C${+t},${+e},${+i},${+h},${this._x1=+s},${this._y1=+a}`}arcTo(t,e,i,h,s){if(t=+t,e=+e,i=+i,h=+h,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,f=this._y1,o=i-t,r=h-e,u=a-t,c=f-e,l=u*u+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(l>m)if(!(Math.abs(c*o-r*u)>m)||!s)this._append`L${this._x1=t},${this._y1=e}`;else{let p=i-a,_=h-f,$=o*o+r*r,x=p*p+_*_,y=Math.sqrt($),d=Math.sqrt(l),w=s*Math.tan((T-Math.acos(($+l-x)/(2*y*d)))/2),g=w/d,b=w/y;Math.abs(g-1)>m&&this._append`L${t+g*u},${e+g*c}`,this._append`A${s},${s},0,0,${+(c*p>u*_)},${this._x1=t+b*o},${this._y1=e+b*r}`}}arc(t,e,i,h,s,a){if(t=+t,e=+e,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let f=i*Math.cos(h),o=i*Math.sin(h),r=t+f,u=e+o,c=1^a,l=a?h-s:s-h;this._x1===null?this._append`M${r},${u}`:(Math.abs(this._x1-r)>m||Math.abs(this._y1-u)>m)&&this._append`L${r},${u}`,i&&(l<0&&(l=l%B+B),l>H?this._append`A${i},${i},0,1,${c},${t-f},${e-o}A${i},${i},0,1,${c},${this._x1=r},${this._y1=u}`:l>m&&this._append`A${i},${i},0,${+(l>=T)},${c},${this._x1=t+i*Math.cos(s)},${this._y1=e+i*Math.sin(s)}`)}rect(t,e,i,h){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+h}h${-i}Z`}toString(){return this._}}function Z(n){var t=0,e=n.children,i=e&&e.length;if(!i)t=1;else for(;--i>=0;)t+=e[i].value;n.value=t}function D(){return this.eachAfter(Z)}function O(n,t){let e=-1;for(const i of this)n.call(t,i,++e,this);return this}function Q(n,t){for(var e=this,i=[e],h,s,a=-1;e=i.pop();)if(n.call(t,e,++a,this),h=e.children)for(s=h.length-1;s>=0;--s)i.push(h[s]);return this}function X(n,t){for(var e=this,i=[e],h=[],s,a,f,o=-1;e=i.pop();)if(h.push(e),s=e.children)for(a=0,f=s.length;a<f;++a)i.push(s[a]);for(;e=h.pop();)n.call(t,e,++o,this);return this}function F(n,t){let e=-1;for(const i of this)if(n.call(t,i,++e,this))return i}function G(n){return this.eachAfter(function(t){for(var e=+n(t.data)||0,i=t.children,h=i&&i.length;--h>=0;)e+=i[h].value;t.value=e})}function J(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})}function K(n){for(var t=this,e=U(t,n),i=[t];t!==e;)t=t.parent,i.push(t);for(var h=i.length;n!==e;)i.splice(h,0,n),n=n.parent;return i}function U(n,t){if(n===t)return n;var e=n.ancestors(),i=t.ancestors(),h=null;for(n=e.pop(),t=i.pop();n===t;)h=n,n=e.pop(),t=i.pop();return h}function V(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t}function Y(){return Array.from(this)}function v(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n}function tt(){var n=this,t=[];return n.each(function(e){e!==n&&t.push({source:e.parent,target:e})}),t}function*nt(){var n=this,t,e=[n],i,h,s;do for(t=e.reverse(),e=[];n=t.pop();)if(yield n,i=n.children)for(h=0,s=i.length;h<s;++h)e.push(i[h]);while(e.length)}function R(n,t){n instanceof Map?(n=[void 0,n],t===void 0&&(t=rt)):t===void 0&&(t=it);for(var e=new z(n),i,h=[e],s,a,f,o;i=h.pop();)if((a=t(i.data))&&(o=(a=Array.from(a)).length))for(i.children=a,f=o-1;f>=0;--f)h.push(s=a[f]=new z(a[f])),s.parent=i,s.depth=i.depth+1;return e.eachBefore(st)}function et(){return R(this).eachBefore(ht)}function it(n){return n.children}function rt(n){return Array.isArray(n)?n[1]:null}function ht(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function st(n){var t=0;do n.height=t;while((n=n.parent)&&n.height<++t)}function z(n){this.data=n,this.depth=this.height=0,this.parent=null}z.prototype=R.prototype={constructor:z,count:D,each:O,eachAfter:X,eachBefore:Q,find:F,sum:G,sort:J,path:K,ancestors:V,descendants:Y,leaves:v,links:tt,copy:et,[Symbol.iterator]:nt};function at(n,t){return n.parent===t.parent?1:2}function k(n){var t=n.children;return t?t[0]:n.t}function S(n){var t=n.children;return t?t[t.length-1]:n.t}function lt(n,t,e){var i=e/(t.i-n.i);t.c-=i,t.s+=e,n.c+=i,t.z+=e,t.m+=e}function ut(n){for(var t=0,e=0,i=n.children,h=i.length,s;--h>=0;)s=i[h],s.z+=t,s.m+=t,t+=s.s+(e+=s.c)}function ot(n,t,e){return n.a.parent===t.parent?n.a:e}function A(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}A.prototype=Object.create(z.prototype);function ct(n){for(var t=new A(n,0),e,i=[t],h,s,a,f;e=i.pop();)if(s=e._.children)for(e.children=new Array(f=s.length),a=f-1;a>=0;--a)i.push(h=e.children[a]=new A(s[a],a)),h.parent=e;return(t.parent=new A(null,0)).children=[t],t}function kt(){var n=at,t=1,e=1,i=null;function h(r){var u=ct(r);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(a),i)r.eachBefore(o);else{var c=r,l=r,p=r;r.eachBefore(function(d){d.x<c.x&&(c=d),d.x>l.x&&(l=d),d.depth>p.depth&&(p=d)});var _=c===l?1:n(c,l)/2,$=_-c.x,x=t/(l.x+_+$),y=e/(p.depth||1);r.eachBefore(function(d){d.x=(d.x+$)*x,d.y=d.depth*y})}return r}function s(r){var u=r.children,c=r.parent.children,l=r.i?c[r.i-1]:null;if(u){ut(r);var p=(u[0].z+u[u.length-1].z)/2;l?(r.z=l.z+n(r._,l._),r.m=r.z-p):r.z=p}else l&&(r.z=l.z+n(r._,l._));r.parent.A=f(r,l,r.parent.A||c[0])}function a(r){r._.x=r.z+r.parent.m,r.m+=r.parent.m}function f(r,u,c){if(u){for(var l=r,p=r,_=u,$=l.parent.children[0],x=l.m,y=p.m,d=_.m,w=$.m,g;_=S(_),l=k(l),_&&l;)$=k($),p=S(p),p.a=r,g=_.z+d-l.z-x+n(_._,l._),g>0&&(lt(ot(_,r,c),r,g),x+=g,y+=g),d+=_.m,x+=l.m,w+=$.m,y+=p.m;_&&!S(p)&&(p.t=_,p.m+=d-y),l&&!k($)&&($.t=l,$.m+=x-w,c=r)}return c}function o(r){r.x*=t,r.y=r.depth*e}return h.separation=function(r){return arguments.length?(n=r,h):n},h.size=function(r){return arguments.length?(i=!1,t=+r[0],e=+r[1],h):i?null:[t,e]},h.nodeSize=function(r){return arguments.length?(i=!0,t=+r[0],e=+r[1],h):i?[t,e]:null},h}function N(n){return function(){return n}}function ft(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new W(t)}var pt=Array.prototype.slice;function dt(n){return n[0]}function _t(n){return n[1]}function M(n,t){return[(t=+t)*Math.cos(n-=Math.PI/2),t*Math.sin(n)]}class $t{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}class gt{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,this._point===0)this._point=1;else{const i=M(this._x0,this._y0),h=M(this._x0,this._y0=(this._y0+e)/2),s=M(t,this._y0),a=M(t,e);this._context.moveTo(...i),this._context.bezierCurveTo(...h,...s,...a)}this._x0=t,this._y0=e}}function xt(n){return new $t(n,!0)}function yt(n){return new gt(n)}function mt(n){return n.source}function wt(n){return n.target}function P(n){let t=mt,e=wt,i=dt,h=_t,s=null,a=null,f=ft(o);function o(){let r;const u=pt.call(arguments),c=t.apply(this,u),l=e.apply(this,u);if(s==null&&(a=n(r=f())),a.lineStart(),u[0]=c,a.point(+i.apply(this,u),+h.apply(this,u)),u[0]=l,a.point(+i.apply(this,u),+h.apply(this,u)),a.lineEnd(),r)return a=null,r+""||null}return o.source=function(r){return arguments.length?(t=r,o):t},o.target=function(r){return arguments.length?(e=r,o):e},o.x=function(r){return arguments.length?(i=typeof r=="function"?r:N(+r),o):i},o.y=function(r){return arguments.length?(h=typeof r=="function"?r:N(+r),o):h},o.context=function(r){return arguments.length?(r==null?s=a=null:a=n(s=r),o):s},o}function St(){return P(xt)}function Tt(){const n=P(yt);return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n}export{Mt as a,Tt as b,At as c,R as h,St as l,j as s,kt as t};

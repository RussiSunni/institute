import{_ as u,o as d,c as m,b as t,w as r,m as l,t as c,r as _,f as p,a as E}from"./main-76634de4.js";const w={setup(){},data(){return{skillId:this.$route.params.contentId,userId:this.$route.params.userId,skill:{},skillEdit:{},comment:""}},async created(){await this.getSkillEdit(),await this.getSkill(),$("#summernote").summernote("code",this.skillEdit.mastery_requirements),$("#summernote").next().find(".note-editable").attr("contenteditable",!1)},methods:{async getSkillEdit(){await fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId).then(function(e){return e.json()}).then(e=>{this.skillEdit=e,this.comment=e.comment})},async getSkill(){await fetch("/skills/show/"+this.skillId).then(function(e){return e.json()}).then(e=>{this.skill=e.mastery_requirements})},dismissEdit(){if(confirm("Delete this edit?")){const e=fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId,{method:"DELETE"});e.error&&console.log(e.error),this.$router.back()}},edit(){$("#summernote").next().find(".note-editable").attr("contenteditable",!0)},saveEdit(){this.skillEdit.mastery_requirements=$("#summernote").summernote("code");const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mastery_requirements:this.skillEdit.mastery_requirements,comment:this.comment})};var o="/skills/"+this.skillEdit.skill_id+"/edit-for-review/save";fetch(o,e).then(()=>{this.$router.back()});const n=fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId,{method:"DELETE"});n.error&&console.log(n.error)}}},g={class:"container mt-4 mb-4"},v=t("h1",{class:"page-title"},"Comparison",-1),C={class:"row"},k={class:"col"},b=t("h2",null,"Change",-1),x=t("h5",null,"Mastery Requirements",-1),I=t("h3",{class:"mt-2"},"Comment",-1),q={class:"col"},M=t("h2",null,"Original",-1),T=t("h5",null,"Mastery Requirements",-1),V=["innerHTML"];function S(e,o,n,a,s,h){return d(),m("div",g,[v,t("div",C,[t("div",k,[b,x,r(t("textarea",{class:"form-control","onUpdate:modelValue":o[0]||(o[0]=i=>s.skillEdit.mastery_requirements=i),id:"summernote",rows:"3"},null,512),[[l,s.skillEdit.mastery_requirements]]),I,t("p",null,c(s.comment),1)]),t("div",q,[M,T,t("div",{innerHTML:s.skill},null,8,V)])])])}const U=u(w,[["render",S]]);const A={setup(){},data(){return{mcQuestionId:this.$route.params.contentId,userId:this.$route.params.userId,mcQuestion:{},mcQuestionEdit:{},comment:"",isEditMode:!1}},async created(){await this.getMCQuestionEdit(),await this.getMCQuestion();const e=document.getElementsByTagName("textarea");for(let n=0;n<e.length;n++)e[n].setAttribute("style","height:"+e[n].scrollHeight+"px;overflow-y:hidden;"),e[n].addEventListener("input",o,!1);function o(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}},methods:{async getMCQuestionEdit(){await fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId).then(function(e){return e.json()}).then(e=>{console.log(e),this.comment=e.comment,this.mcQuestionEdit=e})},async getMCQuestion(){await fetch("/questions/mc/show/"+this.mcQuestionId).then(function(e){return e.json()}).then(e=>{console.log(e),this.mcQuestion=e})},dismissEdit(){if(confirm("Delete this edit?")){const e=fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId,{method:"DELETE"});e.error&&console.log(e.error),this.$router.back()}},edit(){this.isEditMode=!0},saveEdit(){const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.mcQuestionEdit.name,question:this.mcQuestionEdit.question,correct_answer:this.mcQuestionEdit.correct_answer,incorrect_answer_1:this.mcQuestionEdit.incorrect_answer_1,incorrect_answer_2:this.mcQuestionEdit.incorrect_answer_2,incorrect_answer_3:this.mcQuestionEdit.incorrect_answer_3,incorrect_answer_4:this.mcQuestionEdit.incorrect_answer_4,correct_answer:this.mcQuestionEdit.correct_answer,explanation:this.mcQuestionEdit.explanation})};var o="/questions/mc/"+this.mcQuestionEdit.mc_question_id+"/edit";fetch(o,e).then(()=>{this.$router.back()});const n=fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId,{method:"DELETE"});n.error&&console.log(n.error)}}},D={class:"container mt-4 mb-4"},O=t("h1",{class:"page-title"},"Comparison",-1),j={class:"row"},L={class:"col"},N=t("h2",null,"Change",-1),B=t("h5",null,"Question",-1),H=["readonly"],J=t("h5",null,"Correct Answer",-1),P=["readonly"],R=t("h5",null,"Correct Incorrect Answer 1",-1),z=["readonly"],F=t("h5",null,"Correct Incorrect Answer 2",-1),G=["readonly"],K=t("h5",null,"Correct Incorrect Answer 3",-1),W=["readonly"],X=t("h5",null,"Correct Incorrect Answer 4",-1),Y=["readonly"],Z=t("h5",null,"Explanation",-1),tt=["readonly"],et=t("h3",null,"Comment",-1),st=["readonly"],ot={class:"col"},nt=t("h2",null,"Original",-1),it=t("h5",null,"Question",-1),rt=t("h5",null,"Correct Answer",-1),lt=t("h5",null,"Correct Incorrect Answer 1",-1),ct=t("h5",null,"Correct Incorrect Answer 2",-1),dt=t("h5",null,"Correct Incorrect Answer 3",-1),ut=t("h5",null,"Correct Incorrect Answer 4",-1),mt=t("h5",null,"Explanation",-1);function at(e,o,n,a,s,h){return d(),m("div",D,[O,t("div",j,[t("div",L,[N,B,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[0]||(o[0]=i=>s.mcQuestionEdit.question=i),readonly:!s.isEditMode},null,8,H),[[l,s.mcQuestionEdit.question]]),J,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[1]||(o[1]=i=>s.mcQuestionEdit.correct_answer=i),readonly:!s.isEditMode},null,8,P),[[l,s.mcQuestionEdit.correct_answer]]),R,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[2]||(o[2]=i=>s.mcQuestionEdit.incorrect_answer_1=i),readonly:!s.isEditMode},null,8,z),[[l,s.mcQuestionEdit.incorrect_answer_1]]),F,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[3]||(o[3]=i=>s.mcQuestionEdit.incorrect_answer_2=i),readonly:!s.isEditMode},null,8,G),[[l,s.mcQuestionEdit.incorrect_answer_2]]),K,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[4]||(o[4]=i=>s.mcQuestionEdit.incorrect_answer_3=i),readonly:!s.isEditMode},null,8,W),[[l,s.mcQuestionEdit.incorrect_answer_3]]),X,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[5]||(o[5]=i=>s.mcQuestionEdit.incorrect_answer_4=i),readonly:!s.isEditMode},null,8,Y),[[l,s.mcQuestionEdit.incorrect_answer_4]]),Z,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[6]||(o[6]=i=>s.mcQuestionEdit.explanation=i),readonly:!s.isEditMode},null,8,tt),[[l,s.mcQuestionEdit.explanation]]),et,r(t("textarea",{class:"form-control mb-2",type:"text","onUpdate:modelValue":o[7]||(o[7]=i=>s.mcQuestionEdit.comment=i),readonly:!s.isEditMode},null,8,st),[[l,s.mcQuestionEdit.comment]])]),t("div",ot,[nt,it,t("p",null,c(s.mcQuestion.question),1),rt,t("p",null,c(s.mcQuestion.correct_answer),1),lt,t("p",null,c(s.mcQuestion.incorrect_answer_1),1),ct,t("p",null,c(s.mcQuestion.incorrect_answer_2),1),dt,t("p",null,c(s.mcQuestion.incorrect_answer_3),1),ut,t("p",null,c(s.mcQuestion.incorrect_answer_4),1),mt,t("p",null,c(s.mcQuestion.explanation),1)])])])}const ht=u(A,[["render",at]]);const _t={setup(){},data(){return{essayQuestionId:this.$route.params.contentId,userId:this.$route.params.userId,essayQuestion:{},essayQuestionEdit:{},comment:"",isEditMode:!1}},async created(){await this.getEssayQuestionEdit(),await this.getEssayQuestion();const e=document.getElementsByTagName("textarea");for(let n=0;n<e.length;n++)e[n].setAttribute("style","height:"+e[n].scrollHeight+"px;overflow-y:hidden;"),e[n].addEventListener("input",o,!1);function o(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}},methods:{async getEssayQuestionEdit(){await fetch("/questions/essay/submitted-for-review/"+this.essayQuestionId+"/"+this.userId).then(function(e){return e.json()}).then(e=>{console.log(e),this.essayQuestionEdit=e,this.comment=e.comment})},async getEssayQuestion(){await fetch("/questions/essay/show/"+this.essayQuestionId).then(function(e){return e.json()}).then(e=>{console.log(e),this.essayQuestion=e})},dismissEdit(){if(confirm("Delete this edit?")){const e=fetch("/questions/essay/submitted-for-review/"+this.essayQuestionId+"/"+this.userId,{method:"DELETE"});e.error&&console.log(e.error),this.$router.back()}},editMode(){this.isEditMode=!0},saveEdit(){const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.essayQuestionEdit.name,question:this.essayQuestionEdit.question})};var o="/questions/essay/"+this.essayQuestionEdit.essay_question_id+"/edit";fetch(o,e).then(()=>{this.$router.back()});const n=fetch("/questions/essay/submitted-for-review/"+this.essayQuestionEdit.essay_question_id+"/"+this.userId,{method:"DELETE"});n.error&&console.log(n.error)}}},pt={class:"container mt-4 mb-4"},Et=t("h1",{class:"page-title"},"Comparison",-1),yt={class:"row"},ft={class:"col"},Qt=t("h2",null,"Change",-1),wt=t("h5",null,"Question",-1),gt=["readonly"],vt=t("h3",null,"Comment",-1),Ct={class:"col"},kt=t("h2",null,"Original",-1),bt=t("h5",null,"Question",-1);function xt(e,o,n,a,s,h){return d(),m("div",pt,[Et,t("div",yt,[t("div",ft,[Qt,wt,r(t("textarea",{readonly:!s.isEditMode,id:"content",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=i=>s.essayQuestionEdit.question=i)},`\r
                `,8,gt),[[l,s.essayQuestionEdit.question]]),vt,t("p",null,c(s.comment),1)]),t("div",Ct,[kt,bt,t("p",null,c(s.essayQuestion.question),1)])])])}const It=u(_t,[["render",xt]]);const qt={setup(){},data(){return{type:null}},components:{SkillEditComparison:U,MCQuestionEditComparison:ht,EssayQuestionEditComparison:It},async created(){this.type=this.$route.query.type},methods:{}},Mt={class:"container"},$t={class:"d-flex justify-content-end gap-3"},Tt=t("p",null,"Â ",-1);function Vt(e,o,n,a,s,h){const i=_("SkillEditComparison"),f=_("MCQuestionEditComparison"),Q=_("EssayQuestionEditComparison");return d(),m("div",Mt,[s.type=="skill"?(d(),p(i,{key:0,ref:"child"},null,512)):E("",!0),s.type=="mcquestion"?(d(),p(f,{key:1,ref:"child"},null,512)):E("",!0),s.type=="essayquestion"?(d(),p(Q,{key:2,ref:"child"},null,512)):E("",!0),t("div",$t,[t("button",{class:"btn red-btn",onClick:o[0]||(o[0]=y=>e.$refs.child.dismissEdit())}," Dismiss Edit "),t("button",{class:"btn purple-btn",onClick:o[1]||(o[1]=y=>e.$refs.child.edit())}," Edit "),t("button",{class:"btn green-btn",onClick:o[2]||(o[2]=y=>e.$refs.child.saveEdit())}," Save Edit ")]),Tt])}const Ut=u(qt,[["render",Vt]]);export{Ut as default};

import{_ as S,i as _,o,c as r,d as e,F as p,k,a as f,w as b,l as N,t as d,b as y,p as g,f as v,g as w,e as h,v as m,m as I,j as C}from"./main-c5344c41.js";import{u as U}from"./AssessmentsStore-641f1d64.js";import{u as L}from"./UsersStore-8b0223b9.js";import{u as V}from"./InstructorStudentsStore-9e4b9a54.js";import{_ as j}from"./general-banner-1c13aca4.js";const A={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&this.userSkills[t].type!="domain"&&s.push({name:this.userSkills[t].name,id:this.userSkills[t].id});return s.length>0&&(this.noSkills=!1),s}},methods:{}},$=s=>(g("data-v-8e8dc27a"),s=s(),v(),s),P=$(()=>e("div",{class:"table-responsive"},null,-1)),T=$(()=>e("div",{id:"tile"},"Available Skill",-1)),M={id:"skill-list"},B={key:0,id:"no-skill-cell"};function O(s,t,u,l,n,a){const i=_("router-link");return o(),r(p,null,[P,T,e("div",M,[(o(!0),r(p,null,k(a.availableSkills,c=>(o(),r("div",null,[f(i,{class:"skill-link",to:`/skills/${c.id}`,target:"_blank"},{default:b(()=>[N(d(c.name),1)]),_:2},1032,["to"])]))),256)),n.noSkills?(o(),r("div",B)):y("",!0)])],64)}const q=S(A,[["render",O],["__scopeId","data-v-8e8dc27a"]]);const F={setup(){const s=w();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var t="/notifications/edit";fetch(t,s)}}},H=s=>(g("data-v-1b87a8b3"),s=s(),v(),s),J={class:"table table-bordered"},R=H(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Notifications")])],-1)),E={key:0},z={key:1},G={key:0},K={key:1};function Q(s,t,u,l,n,a){return o(),r("table",J,[R,e("tbody",null,[e("tr",null,[l.userDetailsStore.role!="admin"?(o(),r("td",E,d(n.notifications.notification_1),1)):(o(),r("td",z,[h(e("textarea",{onChange:t[0]||(t[0]=i=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=i=>n.notifications.notification_1=i),class:"form-control",rows:"3"},null,544),[[m,n.notifications.notification_1]])]))]),e("tr",null,[l.userDetailsStore.role!="admin"?(o(),r("td",G,d(n.notifications.notification_2),1)):(o(),r("td",K,[h(e("textarea",{onChange:t[2]||(t[2]=i=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=i=>n.notifications.notification_2=i),class:"form-control",rows:"3"},null,544),[[m,n.notifications.notification_2]])]))])])])}const W=S(F,[["render",Q],["__scopeId","data-v-1b87a8b3"]]);const X={setup(){const s=w();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var t="/news/edit";fetch(t,s)}}},Y=s=>(g("data-v-d23c56fb"),s=s(),v(),s),Z={class:"container"},ss={class:"table table-bordered"},ts=Y(()=>e("thead",null,[e("tr",null,[e("th",null,"News")])],-1)),es={class:"row border"},ns={id:"first-cell",class:"col-lg-3 border col-md-6 news-cell"},os={key:0},is={class:"col-lg-3 col-md-6 border news-cell"},rs={key:0},ls={class:"col-lg-3 col-md-6 border news-cell"},as={key:0},ds={id:"last-cell",class:"col-lg-3 border col-md-6 news-cell"},cs={key:0};function us(s,t,u,l,n,a){return o(),r("div",Z,[e("table",ss,[ts,e("tbody",null,[e("tr",null,[e("div",es,[e("div",ns,[l.userDetailsStore.role!="admin"?(o(),r("p",os,d(n.news.news_1),1)):h((o(),r("textarea",{key:1,onChange:t[0]||(t[0]=i=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=i=>n.news.news_1=i),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_1]])]),e("div",is,[l.userDetailsStore.role!="admin"?(o(),r("p",rs,d(n.news.news_2),1)):h((o(),r("textarea",{key:1,onChange:t[2]||(t[2]=i=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=i=>n.news.news_2=i),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_2]])]),e("div",ls,[l.userDetailsStore.role!="admin"?(o(),r("p",as,d(n.news.news_3),1)):h((o(),r("textarea",{key:1,onChange:t[4]||(t[4]=i=>a.SaveChange()),"onUpdate:modelValue":t[5]||(t[5]=i=>n.news.news_3=i),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_3]])]),e("div",ds,[l.userDetailsStore.role!="admin"?(o(),r("p",cs,d(n.news.news_4),1)):h((o(),r("textarea",{key:1,onChange:t[6]||(t[6]=i=>a.SaveChange()),"onUpdate:modelValue":t[7]||(t[7]=i=>n.news.news_4=i),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_4]])])])])])])])}const _s=S(X,[["render",us],["__scopeId","data-v-d23c56fb"]]);const hs={setup(){const s=U(),t=L(),u=I(),l=w(),n=V();return{usersStore:t,skillsStore:u,assessmentsStore:s,userDetailsStore:l,instructorStudentsStore:n}},data(){return{assessments:[],studentIds:[]}},async created(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},computed:{},methods:{}},ms={class:"container-fluid"},fs=e("div",{id:"question-header"},[e("div",{id:"assessment-tile"},"Assessments")],-1),Ss={id:"list-body"},ps={class:"assessment"},ws={id:"student-name"},gs={id:"skill-name"},vs={id:"date"};function ks(s,t,u,l,n,a){const i=_("RouterLink");return o(),r("div",ms,[fs,e("div",Ss,[(o(!0),r(p,null,k(this.assessments,c=>(o(),r("div",ps,[f(i,{class:"assessment-link",to:"/mark-assessment/"+c.id},{default:b(()=>[e("span",ws,d(c.studentUsername)+", ",1),e("span",gs,d(c.skillName)+", ",1),e("span",vs,d(c.date),1)]),_:2},1032,["to"])]))),256))])])}const bs=S(hs,[["render",ks]]),ys="/images/post-login.png";const $s={setup(){const s=w();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},components:{News:_s,Notifications:W,StudentProgress:q,MarkAssessment:bs},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},Ds=e("div",{id:"banner"},[e("img",{src:j,class:""})],-1),xs={class:"container post-login-container min-vh-100"},Ns={class:"row text-center text-md-start"},Is={id:"user-name"},Cs={class:"row content-row"},Us={id:"profile-image-column",class:"column col-lg-4 col-md-6 mx-0"},Ls=["src"],Vs={id:"middle-profile-column",class:"column col-lg-4 col-md-6 mb-5 mb-md-0"},js={key:1},As=e("div",{class:"column col-lg-4 col-md-6"},null,-1),Ps={id:"notif-col",class:"column col-lg-3 col-md-6"},Ts=e("div",{id:"sub-image",class:"column col-lg-9 col-md-6 d-none d-lg-block"},[e("img",{src:ys,class:"img-fluid"})],-1),Ms={id:"news-row",class:"row"};function Bs(s,t,u,l,n,a){const i=_("StudentProgress"),c=_("MarkAssessment"),D=_("Notifications"),x=_("News");return o(),r(p,null,[Ds,e("div",xs,[e("div",Ns,[e("h1",Is,d(a.name),1)]),e("div",Cs,[e("div",Us,[e("img",{id:"profile-img",src:l.userDetailsStore.avatar,class:"img-fluid"},null,8,Ls)]),e("div",Vs,[l.userDetailsStore.role=="student"?(o(),C(i,{key:0,userId:l.userDetailsStore.userId},null,8,["userId"])):l.userDetailsStore.role=="instructor"?(o(),r("div",js,[f(c)])):y("",!0)]),As,e("div",Ps,[f(D)]),Ts]),e("div",Ms,[f(x)])])],64)}const Rs=S($s,[["render",Bs]]);export{Rs as default};

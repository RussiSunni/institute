import{_ as m,r as _,o as n,c as i,b as e,F as h,x as b,d as f,i as y,y as D,t as u,a as g,p as k,e as v,l as $,w as S,s as p,k as V,f as j,h as w}from"./main-7d6716b5.js";import{u as q}from"./AssessmentsStore-f488747f.js";import{u as A}from"./InstructorStudentsStore-661dee98.js";import{C as Q}from"./CheckStudentQuestions-83b25b27.js";import{_ as T}from"./general-banner-1c13aca4.js";import"./StudentMCQuestionsStore-20c58b08.js";import"./loading-1922166c.js";const M={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&this.userSkills[t].type!="domain"&&s.push({name:this.userSkills[t].name,id:this.userSkills[t].id});return s.length>0&&(this.noSkills=!1),s}},methods:{}},I=s=>(k("data-v-b569c594"),s=s(),v(),s),H=I(()=>e("div",{class:"table-responsive"},null,-1)),P=I(()=>e("div",{id:"tile"},"Available Skills",-1)),B={id:"skill-list"},O={key:0,id:"no-skill-cell"};function R(s,t,d,r,o,c){const l=_("router-link");return n(),i(h,null,[H,P,e("div",B,[(n(!0),i(h,null,b(c.availableSkills,a=>(n(),i("div",null,[f(l,{class:"skill-link",to:`/skills/${a.id}`,target:"_blank"},{default:y(()=>[D(u(a.name),1)]),_:2},1032,["to"])]))),256)),o.noSkills?(n(),i("div",O)):g("",!0)])],64)}const F=m(M,[["render",R],["__scopeId","data-v-b569c594"]]);const J={data(){return{visitedSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/skills/last-visited/");this.visitedSkills=await s.json(),this.visitedSkills.length>0&&(this.noSkills=!1)}},x=s=>(k("data-v-9631d77b"),s=s(),v(),s),E=x(()=>e("div",{class:"table-responsive"},null,-1)),Z=x(()=>e("div",{id:"tile"},"Last visited Skills",-1)),z={id:"skill-list"},G={key:0,id:"no-skill-cell"};function K(s,t,d,r,o,c){const l=_("router-link");return n(),i(h,null,[E,Z,e("div",z,[(n(!0),i(h,null,b(o.visitedSkills,a=>(n(),i("div",null,[f(l,{class:"skill-link",to:`/skills/${a.id}`,target:"_blank"},{default:y(()=>[D(u(a.name),1)]),_:2},1032,["to"])]))),256)),o.noSkills?(n(),i("div",G)):g("",!0)])],64)}const W=m(J,[["render",K],["__scopeId","data-v-9631d77b"]]);const X={setup(){const s=$();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var t="/notifications/edit";fetch(t,s)}}},Y=s=>(k("data-v-1b87a8b3"),s=s(),v(),s),ss={class:"table table-bordered"},ts=Y(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Notifications")])],-1)),es={key:0},ns={key:1},os={key:0},is={key:1};function ls(s,t,d,r,o,c){return n(),i("table",ss,[ts,e("tbody",null,[e("tr",null,[r.userDetailsStore.role!="admin"?(n(),i("td",es,u(o.notifications.notification_1),1)):(n(),i("td",ns,[S(e("textarea",{onChange:t[0]||(t[0]=l=>c.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=l=>o.notifications.notification_1=l),class:"form-control",rows:"3"},null,544),[[p,o.notifications.notification_1]])]))]),e("tr",null,[r.userDetailsStore.role!="admin"?(n(),i("td",os,u(o.notifications.notification_2),1)):(n(),i("td",is,[S(e("textarea",{onChange:t[2]||(t[2]=l=>c.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=l=>o.notifications.notification_2=l),class:"form-control",rows:"3"},null,544),[[p,o.notifications.notification_2]])]))])])])}const rs=m(X,[["render",ls],["__scopeId","data-v-1b87a8b3"]]);const as={setup(){const s=$();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var t="/news/edit";fetch(t,s)}}},ds=s=>(k("data-v-3fd6bf6b"),s=s(),v(),s),cs={class:""},us={class:"table table-bordered"},_s=ds(()=>e("thead",null,[e("tr",null,[e("th",null,"News")])],-1)),hs={class:"row border"},ms={id:"first-cell",class:"col-lg-3 border col-md-6 news-cell"},Ss={key:0},ps={class:"col-lg-3 col-md-6 border news-cell"},fs={key:0},ks={class:"col-lg-3 col-md-6 border news-cell"},vs={key:0},ws={id:"last-cell",class:"col-lg-3 border col-md-6 news-cell"},gs={key:0};function bs(s,t,d,r,o,c){return n(),i("div",cs,[e("table",us,[_s,e("tbody",null,[e("tr",null,[e("div",hs,[e("div",ms,[r.userDetailsStore.role!="admin"?(n(),i("p",Ss,u(o.news.news_1),1)):S((n(),i("textarea",{key:1,onChange:t[0]||(t[0]=l=>c.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=l=>o.news.news_1=l),class:"form-control",rows:"3"},null,544)),[[p,o.news.news_1]])]),e("div",ps,[r.userDetailsStore.role!="admin"?(n(),i("p",fs,u(o.news.news_2),1)):S((n(),i("textarea",{key:1,onChange:t[2]||(t[2]=l=>c.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=l=>o.news.news_2=l),class:"form-control",rows:"3"},null,544)),[[p,o.news.news_2]])]),e("div",ks,[r.userDetailsStore.role!="admin"?(n(),i("p",vs,u(o.news.news_3),1)):S((n(),i("textarea",{key:1,onChange:t[4]||(t[4]=l=>c.SaveChange()),"onUpdate:modelValue":t[5]||(t[5]=l=>o.news.news_3=l),class:"form-control",rows:"3"},null,544)),[[p,o.news.news_3]])]),e("div",ws,[r.userDetailsStore.role!="admin"?(n(),i("p",gs,u(o.news.news_4),1)):S((n(),i("textarea",{key:1,onChange:t[6]||(t[6]=l=>c.SaveChange()),"onUpdate:modelValue":t[7]||(t[7]=l=>o.news.news_4=l),class:"form-control",rows:"3"},null,544)),[[p,o.news.news_4]])])])])])])])}const ys=m(as,[["render",bs],["__scopeId","data-v-3fd6bf6b"]]);const $s={setup(){const s=q(),t=V(),d=j(),r=$(),o=A();return{usersStore:t,skillsStore:d,assessmentsStore:s,userDetailsStore:r,instructorStudentsStore:o}},data(){return{assessments:[],studentIds:[]}},async created(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},computed:{},methods:{}},Ds=s=>(k("data-v-c217bc20"),s=s(),v(),s),Is={class:"container-fluid"},xs=Ds(()=>e("div",{id:"question-header"},[e("div",{id:"assessment-tile"},"Assessments")],-1)),Ls={id:"list-body"},Cs={class:"assessment"},Ns={id:"student-name"},Us={id:"skill-name"},Vs={id:"date"};function js(s,t,d,r,o,c){const l=_("RouterLink");return n(),i("div",Is,[xs,e("div",Ls,[(n(!0),i(h,null,b(this.assessments,a=>(n(),i("div",Cs,[f(l,{class:"assessment-link",to:"/mark-assessment/"+a.id},{default:y(()=>[e("span",Ns,u(a.studentUsername)+", ",1),e("span",Us,u(a.skillName)+", ",1),e("span",Vs,u(a.date),1)]),_:2},1032,["to"])]))),256))])])}const qs=m($s,[["render",js],["__scopeId","data-v-c217bc20"]]);const As={setup(){return{}},data(){return{questions:null}},components:{},async created(){await this.getStudentMCQuestions()},methods:{formatDate(s){var t=s.replace("T"," ");t=t.replace("Z"," ");let d=t.split(/[- :]/);var r=new Date(Date.UTC(d[0],d[1]-1,d[2],d[3],d[4],d[5])),o={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return r=r.toLocaleDateString("en-US",o),r},async getStudentMCQuestions(){const t=await(await fetch("/questions/student-mc-questions/full-data-list")).json();this.questions=t}}},Qs=s=>(k("data-v-edecdc4e"),s=s(),v(),s),Ts={class:"container-fluid"},Ms=Qs(()=>e("div",{class:"question-header"},[e("div",{class:"question-tile"},"Student Question")],-1)),Hs={class:"list-body"},Ps={class:"question"},Bs={class:"student-name"},Os={class:"skill-name"},Rs={class:"date"};function Fs(s,t,d,r,o,c){const l=_("RouterLink");return n(),i("div",Ts,[Ms,e("div",Hs,[(n(!0),i(h,null,b(o.questions,a=>(n(),i("div",Ps,[f(l,{class:"question-link",to:`/check-student-question/${a.id}`},{default:y(()=>[e("span",Bs,u(a.student)+", ",1),e("span",Os,u(a.skillname)+", ",1),e("span",Rs,u(c.formatDate(a.create_date)),1)]),_:2},1032,["to"])]))),256))])])}const Js=m(As,[["render",Fs],["__scopeId","data-v-edecdc4e"]]),Es="/images/post-login.png";const Zs={setup(){const s=$();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},components:{News:ys,Notifications:rs,StudentProgress:F,MarkAssessment:qs,CheckStudentQuestions:Q,LastVisitedSkills:W,HubStudentQuestionList:Js},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},zs=e("div",{id:"banner"},[e("img",{src:T,class:""})],-1),Gs={class:"container post-login-container min-vh-100"},Ks={class:"row text-center text-md-start"},Ws={id:"user-name"},Xs={class:"row content-row"},Ys={class:"col-lg-4 col-md-5 mb-4 pb-4 column mx-0"},st=["src"],tt={class:"col-lg-4 col-md-7 mb-4 pb-4"},et={class:"col-lg-4 col-md-7 mb-4 pb-4"},nt={class:"col-lg-3 col-md-5 mb-4 pb-4 column"},ot=e("div",{class:"col-lg-9 col-md-6 mb-4 pb-4 column d-none d-lg-block"},[e("img",{src:Es,class:"img-fluid"})],-1),it={id:"news-row",class:"row"};function lt(s,t,d,r,o,c){const l=_("StudentProgress"),a=_("MarkAssessment"),L=_("LastVisitedSkills"),C=_("HubStudentQuestionList"),N=_("Notifications"),U=_("News");return n(),i(h,null,[zs,e("div",Gs,[e("div",Ks,[e("h1",Ws,u(c.name),1)]),e("div",Xs,[e("div",Ys,[e("img",{id:"profile-img",src:r.userDetailsStore.avatar,class:"img-fluid rounded"},null,8,st)]),e("div",tt,[r.userDetailsStore.role=="student"?(n(),w(l,{key:0,userId:r.userDetailsStore.userId},null,8,["userId"])):r.userDetailsStore.role=="instructor"?(n(),w(a,{key:1})):g("",!0)]),e("div",et,[r.userDetailsStore.role=="student"?(n(),w(L,{key:0,userId:r.userDetailsStore.userId},null,8,["userId"])):r.userDetailsStore.role=="instructor"?(n(),w(C,{key:1})):g("",!0)]),e("div",nt,[f(N)]),ot]),e("div",it,[f(U)])])],64)}const mt=m(Zs,[["render",lt]]);export{mt as default};

import{_ as v,j as u,s as k,i as p,o as n,c as r,b as s,B as S,t as d,a as _,F as f,n as g,w as y,C as w,p as R,e as x}from"./main-31734b98.js";import{_ as b}from"./institute-collins-2-184bdfcb.js";const L={setup(){const t=u(),a=k(),c=p();return{userDetailsStore:t,skillsStore:a,usersStore:c}},data(){return{skillId:this.$route.params.skillId,versionNumber:this.$route.params.versionNumber,skillRevision:{}}},async created(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList(),this.usersStore.users.length==0&&await this.usersStore.getUsers(),await this.getSkillVersion()},methods:{async getSkillVersion(){let t="/skill-history/"+this.skillId+"/"+this.versionNumber;const a=await fetch(t);this.skillRevision=await a.json();for(let i=0;i<this.skillsStore.skillsList.length;i++)this.skillsStore.skillsList[i].id==this.skillRevision.parent&&(this.skillRevision.parentName=this.skillsStore.skillsList[i].name);console.log(this.skillRevision);for(let i=0;i<this.usersStore.users.length;i++)this.usersStore.users[i].id==this.skillRevision.user_id&&(this.skillRevision.userName=this.usersStore.users[i].username);var c=this.skillRevision.edited_date.replace("T"," ");c=c.replace("Z"," ");let o=c.split(/[- :]/);var e=new Date(Date.UTC(o[0],o[1]-1,o[2],o[3],o[4],o[5])),h={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};this.skillRevision.date=e.toLocaleDateString("en-US",h)}}},l=t=>(R("data-v-c68508a0"),t=t(),x(),t),D={class:"position-relative d-flex"},T={class:"container show-skill-ctnr"},M={class:"container mt-3"},N={class:"d-flex flex-column gap-2"},I={id:"skill-image"},V=["src"],C={class:"d-flex flex-column"},H={class:"skill-name"},U={class:"alert alert-warning d-flex",role:"alert"},q=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"},[s("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})],-1)),B={class:"ms-2"},z={key:0,class:"row pe-4 ps-4 ps-md-0 skill-description"},F={key:0},j=l(()=>s("div",{class:"row"},[s("div",{class:"col col-md-8 p-4 p-md-0"},[s("hr",{id:"hr-parent",class:"border border-2 opacity-100"})])],-1)),E={class:"mt-3 d-flex flex-column"},P=l(()=>s("div",{class:"h1-title"},"Type",-1)),Z={class:"mastery-requirements"},A=["innerHTML"],G={class:"mt-3 d-flex flex-column"},J=l(()=>s("div",{class:"h1-title"},"Parent",-1)),K={class:"mastery-requirements"},O=["innerHTML"],Q={class:"mt-3 d-flex flex-column"},W=l(()=>s("div",{class:"h1-title"},"Mastery Requirements",-1)),X={class:"mastery-requirements"},Y=["innerHTML"],$={key:1},ss=l(()=>s("div",{class:"row"},[s("div",{class:"col col-md-8 p-4 p-md-0"},[s("hr",{id:"hr-parent",class:"border border-2 opacity-100"})])],-1)),es={class:"row mt-3"},is=l(()=>s("div",{class:"h1-title"},"Filter",-1)),ts={class:"control control-checkbox"},os={class:"my-auto mx-2 me-4"},ls=["value"],ns=l(()=>s("div",{class:"control_indicator"},null,-1)),rs={key:2},as=l(()=>s("p",null,"Â ",-1)),cs=l(()=>s("div",{id:"banner"},[s("img",{src:b,class:"img-fluid"})],-1));function ds(t,a,c,o,e,h){return n(),r("div",D,[s("div",T,[s("div",M,[s("div",{id:"skill-info-container",class:S({domain:e.skillRevision.type=="domain"})},[s("div",N,[s("div",I,[s("img",{src:e.skillRevision.icon_image?e.skillRevision.icon_image:"/images/skill-avatar/recurso.png",class:"skill-icon"},null,8,V)]),s("div",C,[s("div",H,d(e.skillRevision.name),1),s("div",U,[q,s("span",B," This is an old revision of this page, as edited by "+d(e.skillRevision.userName)+", at "+d(e.skillRevision.date)+". ",1)]),o.userDetailsStore.role=="admin"?(n(),r("div",z,[s("p",null,d(e.skillRevision.description),1)])):_("",!0)])]),e.skillRevision.type!="domain"?(n(),r("div",F,[j,s("div",E,[P,s("div",Z,[s("div",{innerHTML:e.skillRevision.type},null,8,A)])]),s("div",G,[J,s("div",K,[s("div",{innerHTML:e.skillRevision.parentName},null,8,O)])]),s("div",Q,[W,s("div",X,[s("div",{innerHTML:e.skillRevision.mastery_requirements},null,8,Y)])])])):_("",!0),o.userDetailsStore.role=="admin"?(n(),r("div",$,[ss,s("div",es,[is,(n(!0),r(f,null,g(t.tagsStore.tagsList,i=>(n(),r("label",ts,[s("span",os,d(i.name),1),y(s("input",{type:"checkbox",value:i.id,"onUpdate:modelValue":a[0]||(a[0]=m=>t.filters=m),disabled:""},null,8,ls),[[w,t.filters]]),ns]))),256))])])):_("",!0),(o.userDetailsStore.role=="admin"||o.userDetailsStore.role=="editor")&&e.skillRevision.type!="domain"?(n(),r("div",rs)):_("",!0)],2),as])]),cs])}const ms=v(L,[["render",ds],["__scopeId","data-v-c68508a0"]]);export{ms as default};

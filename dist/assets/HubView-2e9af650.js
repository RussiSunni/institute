import{_ as S,i as _,o as n,c as r,d as e,F as f,k as v,a as p,w as y,l as C,t as c,b as w,p as b,f as $,g,e as h,v as m,m as N,j as k}from"./main-48469948.js";import{u as Q}from"./AssessmentsStore-6aa20dbd.js";import{u as D}from"./UsersStore-b9639270.js";import{u as x}from"./InstructorStudentsStore-2a4d5496.js";import{u as j}from"./StudentMCQuestionsStore-58342bc6.js";import{_ as q}from"./general-banner-1c13aca4.js";const V={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const t=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await t.json()},computed:{availableSkills(){const t=[];for(let s=0;s<this.userSkills.length;s++)this.userSkills[s].is_accessible==1&this.userSkills[s].is_mastered!=1&this.userSkills[s].type!="domain"&&t.push({name:this.userSkills[s].name,id:this.userSkills[s].id});return t.length>0&&(this.noSkills=!1),t}},methods:{}},L=t=>(b("data-v-8e8dc27a"),t=t(),$(),t),A=L(()=>e("div",{class:"table-responsive"},null,-1)),P=L(()=>e("div",{id:"tile"},"Available Skill",-1)),T={id:"skill-list"},B={key:0,id:"no-skill-cell"};function O(t,s,l,d,i,a){const o=_("router-link");return n(),r(f,null,[A,P,e("div",T,[(n(!0),r(f,null,v(a.availableSkills,u=>(n(),r("div",null,[p(o,{class:"skill-link",to:`/skills/${u.id}`,target:"_blank"},{default:y(()=>[C(c(u.name),1)]),_:2},1032,["to"])]))),256)),i.noSkills?(n(),r("div",B)):w("",!0)])],64)}const R=S(V,[["render",O],["__scopeId","data-v-8e8dc27a"]]);const F={setup(){const t=g();return t.getUserDetails(),{userDetailsStore:t}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(t){return t.json()}).then(t=>this.notifications=t)},SaveChange(){const t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var s="/notifications/edit";fetch(s,t)}}},H=t=>(b("data-v-1b87a8b3"),t=t(),$(),t),J={class:"table table-bordered"},E=H(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Notifications")])],-1)),z={key:0},G={key:1},K={key:0},W={key:1};function X(t,s,l,d,i,a){return n(),r("table",J,[E,e("tbody",null,[e("tr",null,[d.userDetailsStore.role!="admin"?(n(),r("td",z,c(i.notifications.notification_1),1)):(n(),r("td",G,[h(e("textarea",{onChange:s[0]||(s[0]=o=>a.SaveChange()),"onUpdate:modelValue":s[1]||(s[1]=o=>i.notifications.notification_1=o),class:"form-control",rows:"3"},null,544),[[m,i.notifications.notification_1]])]))]),e("tr",null,[d.userDetailsStore.role!="admin"?(n(),r("td",K,c(i.notifications.notification_2),1)):(n(),r("td",W,[h(e("textarea",{onChange:s[2]||(s[2]=o=>a.SaveChange()),"onUpdate:modelValue":s[3]||(s[3]=o=>i.notifications.notification_2=o),class:"form-control",rows:"3"},null,544),[[m,i.notifications.notification_2]])]))])])])}const Y=S(F,[["render",X],["__scopeId","data-v-1b87a8b3"]]);const Z={setup(){const t=g();return t.getUserDetails(),{userDetailsStore:t}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(t){return t.json()}).then(t=>this.news=t)},SaveChange(){const t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var s="/news/edit";fetch(s,t)}}},ss=t=>(b("data-v-d23c56fb"),t=t(),$(),t),ts={class:"container"},es={class:"table table-bordered"},ns=ss(()=>e("thead",null,[e("tr",null,[e("th",null,"News")])],-1)),is={class:"row border"},os={id:"first-cell",class:"col-lg-3 border col-md-6 news-cell"},rs={key:0},ls={class:"col-lg-3 col-md-6 border news-cell"},ds={key:0},as={class:"col-lg-3 col-md-6 border news-cell"},us={key:0},cs={id:"last-cell",class:"col-lg-3 border col-md-6 news-cell"},_s={key:0};function hs(t,s,l,d,i,a){return n(),r("div",ts,[e("table",es,[ns,e("tbody",null,[e("tr",null,[e("div",is,[e("div",os,[d.userDetailsStore.role!="admin"?(n(),r("p",rs,c(i.news.news_1),1)):h((n(),r("textarea",{key:1,onChange:s[0]||(s[0]=o=>a.SaveChange()),"onUpdate:modelValue":s[1]||(s[1]=o=>i.news.news_1=o),class:"form-control",rows:"3"},null,544)),[[m,i.news.news_1]])]),e("div",ls,[d.userDetailsStore.role!="admin"?(n(),r("p",ds,c(i.news.news_2),1)):h((n(),r("textarea",{key:1,onChange:s[2]||(s[2]=o=>a.SaveChange()),"onUpdate:modelValue":s[3]||(s[3]=o=>i.news.news_2=o),class:"form-control",rows:"3"},null,544)),[[m,i.news.news_2]])]),e("div",as,[d.userDetailsStore.role!="admin"?(n(),r("p",us,c(i.news.news_3),1)):h((n(),r("textarea",{key:1,onChange:s[4]||(s[4]=o=>a.SaveChange()),"onUpdate:modelValue":s[5]||(s[5]=o=>i.news.news_3=o),class:"form-control",rows:"3"},null,544)),[[m,i.news.news_3]])]),e("div",cs,[d.userDetailsStore.role!="admin"?(n(),r("p",_s,c(i.news.news_4),1)):h((n(),r("textarea",{key:1,onChange:s[6]||(s[6]=o=>a.SaveChange()),"onUpdate:modelValue":s[7]||(s[7]=o=>i.news.news_4=o),class:"form-control",rows:"3"},null,544)),[[m,i.news.news_4]])])])])])])])}const ms=S(Z,[["render",hs],["__scopeId","data-v-d23c56fb"]]);const Ss={setup(){const t=Q(),s=D(),l=N(),d=g(),i=x();return{usersStore:s,skillsStore:l,assessmentsStore:t,userDetailsStore:d,instructorStudentsStore:i}},data(){return{assessments:[],studentIds:[]}},async created(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let t=0;t<this.instructorStudentsStore.instructorStudentsList.length;t++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[t].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[t].student_id);for(let t=0;t<this.assessmentsStore.assessments.length;t++)for(let s=0;s<this.studentIds.length;s++)this.assessmentsStore.assessments[t].student_id==this.studentIds[s]&&this.assessments.push(this.assessmentsStore.assessments[t]);for(let t=0;t<this.assessments.length;t++){let s=new Date(this.assessments[t].date).toDateString();this.assessments[t].date=s}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let t=0;t<this.assessments.length;t++)for(let s=0;s<this.usersStore.users.length;s++)this.assessments[t].student_id==this.usersStore.users[s].id&&(this.assessments[t].studentUsername=this.usersStore.users[s].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let t=0;t<this.assessments.length;t++)for(let s=0;s<this.skillsStore.skillsList.length;s++)this.assessments[t].skill_id==this.skillsStore.skillsList[s].id&&(this.assessments[t].skillName=this.skillsStore.skillsList[s].name)},computed:{},methods:{}},fs={class:"container-fluid"},ps=e("div",{id:"question-header"},[e("div",{id:"assessment-tile"},"Assessments")],-1),gs={id:"list-body"},ks={class:"assessment"},ws={id:"student-name"},vs={id:"skill-name"},ys={id:"date"};function bs(t,s,l,d,i,a){const o=_("RouterLink");return n(),r("div",fs,[ps,e("div",gs,[(n(!0),r(f,null,v(this.assessments,u=>(n(),r("div",ks,[p(o,{class:"assessment-link",to:"/mark-assessment/"+u.id},{default:y(()=>[e("span",ws,c(u.studentUsername)+", ",1),e("span",vs,c(u.skillName)+", ",1),e("span",ys,c(u.date),1)]),_:2},1032,["to"])]))),256))])])}const $s=S(Ss,[["render",bs]]);const Cs={setup(){const t=j(),s=x(),l=D(),d=N();return{studentMCQuestionsStore:t,instructorStudentsStore:s,usersStore:l,skillsStore:d}},data(){return{questions:[]}},async created(){await this.studentMCQuestionsStore.getStudentMCQuestions(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();let t=[];for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.$parent.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&t.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.studentMCQuestionsStore.studentMCQuestions.length;s++)for(let l=0;l<t.length;l++)this.studentMCQuestionsStore.studentMCQuestions[s].student_id==t[l]&&this.questions.push(this.studentMCQuestionsStore.studentMCQuestions[s]);this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.questions.length;s++)for(let l=0;l<this.usersStore.users.length;l++)this.questions[s].student_id==this.usersStore.users[l].id&&(this.questions[s].studentName=this.usersStore.users[l].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.questions.length;s++)for(let l=0;l<this.skillsStore.skillsList.length;l++)this.questions[s].skill_id==this.skillsStore.skillsList[l].id&&(this.questions[s].skillName=this.skillsStore.skillsList[l].name)},computed:{},methods:{}},Ns={class:"container-fluid"},Ds=e("div",{id:"question-header"},[e("div",{id:"assessment-tile"},"Student Questions")],-1),xs={id:"list-body"},Ls={class:"assessment"};function Is(t,s,l,d,i,a){const o=_("RouterLink");return n(),r("div",Ns,[Ds,e("div",xs,[(n(!0),r(f,null,v(this.questions,u=>(n(),r("div",Ls,[p(o,{to:"/check-student-question/"+u.id,class:"assessment-link"},{default:y(()=>[C(c(u.studentName)+", "+c(u.skillName),1)]),_:2},1032,["to"])]))),256))])])}const Us=S(Cs,[["render",Is]]),Ms="/images/post-login.png";const Qs={setup(){const t=g();return t.getUserDetails(),{userDetailsStore:t}},data(){return{}},components:{News:ms,Notifications:Y,StudentProgress:R,MarkAssessment:$s,CheckStudentQuestions:Us},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},js=e("div",{id:"banner"},[e("img",{src:q,class:""})],-1),qs={class:"container post-login-container min-vh-100"},Vs={class:"row text-center text-md-start"},As={id:"user-name"},Ps={class:"row content-row"},Ts={id:"profile-image-column",class:"column col-lg-4 col-md-6 mx-0"},Bs=["src"],Os={id:"middle-profile-column",class:"column col-lg-4 col-md-6 mb-5 mb-md-0"},Rs={class:"column col-lg-4 col-md-6"},Fs={id:"notif-col",class:"column col-lg-3 col-md-6"},Hs=e("div",{id:"sub-image",class:"column col-lg-9 col-md-6 d-none d-lg-block"},[e("img",{src:Ms,class:"img-fluid"})],-1),Js={id:"news-row",class:"row"};function Es(t,s,l,d,i,a){const o=_("StudentProgress"),u=_("MarkAssessment"),I=_("CheckStudentQuestions"),U=_("Notifications"),M=_("News");return n(),r(f,null,[js,e("div",qs,[e("div",Vs,[e("h1",As,c(a.name),1)]),e("div",Ps,[e("div",Ts,[e("img",{id:"profile-img",src:d.userDetailsStore.avatar,class:"img-fluid"},null,8,Bs)]),e("div",Os,[d.userDetailsStore.role=="student"?(n(),k(o,{key:0,userId:d.userDetailsStore.userId},null,8,["userId"])):d.userDetailsStore.role=="instructor"?(n(),k(u,{key:1})):w("",!0)]),e("div",Rs,[d.userDetailsStore.role=="instructor"?(n(),k(I,{key:0})):w("",!0)]),e("div",Fs,[p(U)]),Hs]),e("div",Js,[p(M)])])],64)}const Zs=S(Qs,[["render",Es]]);export{Zs as default};

import{_ as a,o as h,c as d,a as r,q as o,t as n,p as c,b as k,j as _}from"./main-1114ddbd.js";const p="/assets/logo-red-ba6ad2d6.png";const S={setup(){},data(){return{userName:this.$route.params.username,userId:null,skillTree:{},student:{},date:null}},async created(){this.GetStudentId(),this.GetCurrentDate()},methods:{GetStudentId(){fetch("/users/showId/"+this.userName).then(function(t){return t.json()}).then(t=>{this.userId=t,this.GetStudent(this.userId),this.GetSkillTree(this.userId)})},GetStudent(t){fetch("/users/show/"+t).then(function(s){return s.json()}).then(s=>this.student=s).then(()=>{this.student.children=[],this.student.skillTreeTheme=this.student.skilltree_theme,console.log(this.student)})},GetSkillTree(t){fetch("/skill-tree/"+t).then(function(s){return s.json()}).then(s=>this.skillTree=s).then(()=>{for(let e=0;e<this.skillTree.userSkills.length;e++)if(this.skillTree.userSkills[e].children=[],this.skillTree.userSkills[e].parent!=null&&this.skillTree.userSkills[e].parent!=0){var s=this.skillTree.userSkills[e].parent;for(let l=0;l<this.skillTree.userSkills.length;l++)this.skillTree.userSkills[l].id==s&&this.skillTree.userSkills[l].children.push(this.skillTree.userSkills[e])}for(let e=0;e<this.skillTree.userSkills.length;e++)(this.skillTree.userSkills[e].parent==null||this.skillTree.userSkills[e].parent==0)&&this.student.children.push(this.skillTree.userSkills[e]);var i=Tree(this.student,{label:e=>e.name,title:e=>e.name,width:3e3,height:3e3,margin:0});document.getElementById("user-skilltree").appendChild(i)})},GetCurrentDate(){const t=new Date;let s=t.getDate(),i=t.getMonth()+1,e=t.getFullYear(),l=`${i}-${s}-${e}`;this.date=l}}},u=t=>(c("data-v-8809926d"),t=t(),k(),t),m={class:"wrapper"},T=u(()=>r("div",{id:"user-skilltree",class:"skill-tree"},null,-1)),f={id:"overlay"},g={class:"skilltree-title"},I=u(()=>r("img",{src:p,style:{width:"80px"}},null,-1));function v(t,s,i,e,l,y){return h(),d("div",m,[T,r("div",f,[r("div",g,[I,r("span",{class:o({"dark-theme":l.student.skillTreeTheme=="dark"})},[r("h1",null,n(l.student.first_name)+" "+n(l.student.last_name),1),r("h2",null,n(l.date),1)],2)])])])}const w=a(S,[["render",v],["__scopeId","data-v-8809926d"]]),x={__name:"ShowSkillTreeView",setup(t){return(s,i)=>(h(),_(w))}};export{x as default};

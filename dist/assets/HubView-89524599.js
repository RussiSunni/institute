import{_ as f,g as p,o,c as i,d as e,t as d,p as g,f as w,b as k,F as v,k as b,e as h,v as m,l as N,i as u,a as S,w as I,j as C}from"./main-30d473c8.js";import{u as U}from"./AssessmentsStore-fa643532.js";import{u as L}from"./UsersStore-b7521c78.js";import{u as M}from"./InstructorStudentsStore-70d0e73b.js";import{_ as V}from"./general-banner-1c13aca4.js";const j={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},computed:{},methods:{}},A=s=>(g("data-v-15c0bd8e"),s=s(),w(),s),P={class:"table table-bordered"},T=A(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"My Messages")])],-1)),B={id:"message-table-body"},O={class:"text-break"};function q(s,t,c,l,n,a){return o(),i("table",P,[T,e("tbody",B,[e("tr",null,[e("td",O,d(l.userDetailsStore.message?l.userDetailsStore.message:"You have no messages"),1)])])])}const F=f(j,[["render",q],["__scopeId","data-v-15c0bd8e"]]);const H={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&&s.push(this.userSkills[t].name);return s.length>0&&(this.noSkills=!1),s}},methods:{}},y=s=>(g("data-v-85fb1c44"),s=s(),w(),s),J={class:"table-responsive"},R={class:"table table-bordered"},E=y(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Available Skills")])],-1)),Y={key:0},z=y(()=>e("td",{id:"no-skill-cell"},null,-1)),G=[z];function K(s,t,c,l,n,a){return o(),i("div",J,[e("table",R,[E,e("tbody",null,[n.noSkills?(o(),i("tr",Y,G)):k("",!0),(o(!0),i(v,null,b(a.availableSkills,r=>(o(),i("tr",null,[e("td",null,d(r),1)]))),256))])])])}const Q=f(H,[["render",K],["__scopeId","data-v-85fb1c44"]]);const W={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var t="/notifications/edit";fetch(t,s)}}},X=s=>(g("data-v-1b87a8b3"),s=s(),w(),s),Z={class:"table table-bordered"},ss=X(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Notifications")])],-1)),ts={key:0},es={key:1},ns={key:0},os={key:1};function is(s,t,c,l,n,a){return o(),i("table",Z,[ss,e("tbody",null,[e("tr",null,[l.userDetailsStore.role!="admin"?(o(),i("td",ts,d(n.notifications.notification_1),1)):(o(),i("td",es,[h(e("textarea",{onChange:t[0]||(t[0]=r=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=r=>n.notifications.notification_1=r),class:"form-control",rows:"3"},null,544),[[m,n.notifications.notification_1]])]))]),e("tr",null,[l.userDetailsStore.role!="admin"?(o(),i("td",ns,d(n.notifications.notification_2),1)):(o(),i("td",os,[h(e("textarea",{onChange:t[2]||(t[2]=r=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=r=>n.notifications.notification_2=r),class:"form-control",rows:"3"},null,544),[[m,n.notifications.notification_2]])]))])])])}const rs=f(W,[["render",is],["__scopeId","data-v-1b87a8b3"]]);const ls={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var t="/news/edit";fetch(t,s)}}},as=s=>(g("data-v-d23c56fb"),s=s(),w(),s),ds={class:"container"},cs={class:"table table-bordered"},_s=as(()=>e("thead",null,[e("tr",null,[e("th",null,"News")])],-1)),us={class:"row border"},hs={id:"first-cell",class:"col-lg-3 border col-md-6 news-cell"},ms={key:0},fs={class:"col-lg-3 col-md-6 border news-cell"},Ss={key:0},ps={class:"col-lg-3 col-md-6 border news-cell"},gs={key:0},ws={id:"last-cell",class:"col-lg-3 border col-md-6 news-cell"},vs={key:0};function ks(s,t,c,l,n,a){return o(),i("div",ds,[e("table",cs,[_s,e("tbody",null,[e("tr",null,[e("div",us,[e("div",hs,[l.userDetailsStore.role!="admin"?(o(),i("p",ms,d(n.news.news_1),1)):h((o(),i("textarea",{key:1,onChange:t[0]||(t[0]=r=>a.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=r=>n.news.news_1=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_1]])]),e("div",fs,[l.userDetailsStore.role!="admin"?(o(),i("p",Ss,d(n.news.news_2),1)):h((o(),i("textarea",{key:1,onChange:t[2]||(t[2]=r=>a.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=r=>n.news.news_2=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_2]])]),e("div",ps,[l.userDetailsStore.role!="admin"?(o(),i("p",gs,d(n.news.news_3),1)):h((o(),i("textarea",{key:1,onChange:t[4]||(t[4]=r=>a.SaveChange()),"onUpdate:modelValue":t[5]||(t[5]=r=>n.news.news_3=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_3]])]),e("div",ws,[l.userDetailsStore.role!="admin"?(o(),i("p",vs,d(n.news.news_4),1)):h((o(),i("textarea",{key:1,onChange:t[6]||(t[6]=r=>a.SaveChange()),"onUpdate:modelValue":t[7]||(t[7]=r=>n.news.news_4=r),class:"form-control",rows:"3"},null,544)),[[m,n.news.news_4]])])])])])])])}const bs=f(ls,[["render",ks],["__scopeId","data-v-d23c56fb"]]);const ys={setup(){const s=U(),t=L(),c=N(),l=p(),n=M();return{usersStore:t,skillsStore:c,assessmentsStore:s,userDetailsStore:l,instructorStudentsStore:n}},data(){return{assessments:[],studentIds:[]}},async created(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},computed:{},methods:{}},$s={class:"container-fluid"},Ds=e("div",{id:"question-header"},[e("div",{id:"assessment-tile"},"Assessments")],-1),xs={id:"list-body"},Ns={class:"assessment"},Is={id:"student-name"},Cs={id:"skill-name"},Us={id:"date"};function Ls(s,t,c,l,n,a){const r=u("RouterLink");return o(),i("div",$s,[Ds,e("div",xs,[(o(!0),i(v,null,b(this.assessments,_=>(o(),i("div",Ns,[S(r,{class:"assessment-link",to:"/mark-assessment/"+_.id},{default:I(()=>[e("span",Is,d(_.studentUsername)+", ",1),e("span",Cs,d(_.skillName)+", ",1),e("span",Us,d(_.date),1)]),_:2},1032,["to"])]))),256))])])}const Ms=f(ys,[["render",Ls]]),Vs="/images/post-login.png";const js={setup(){const s=p();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},components:{News:bs,Notifications:rs,StudentMessages:F,StudentProgress:Q,MarkAssessment:Ms},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},As=e("div",{id:"banner"},[e("img",{src:V,class:""})],-1),Ps={class:"container post-login-container min-vh-100"},Ts={class:"row text-center text-md-start"},Bs={id:"user-name"},Os={class:"row content-row"},qs={id:"profile-image-column",class:"column col-lg-4 col-md-6 mx-0"},Fs=["src"],Hs={id:"middle-profile-column",class:"column col-lg-4 col-md-6"},Js={key:1},Rs={id:"message-col",class:"column col-lg-4 col-md-6"},Es={id:"notif-col",class:"column col-lg-3 col-md-6"},Ys=e("div",{id:"sub-image",class:"column col-lg-9 col-md-6 d-none d-lg-block"},[e("img",{src:Vs,class:"img-fluid"})],-1),zs={id:"news-row",class:"row"};function Gs(s,t,c,l,n,a){const r=u("StudentProgress"),_=u("MarkAssessment"),$=u("StudentMessages"),D=u("Notifications"),x=u("News");return o(),i(v,null,[As,e("div",Ps,[e("div",Ts,[e("h1",Bs,d(a.name),1)]),e("div",Os,[e("div",qs,[e("img",{id:"profile-img",src:l.userDetailsStore.avatar,class:"img-fluid"},null,8,Fs)]),e("div",Hs,[l.userDetailsStore.role=="student"?(o(),C(r,{key:0,userId:l.userDetailsStore.userId},null,8,["userId"])):l.userDetailsStore.role=="instructor"?(o(),i("div",Js,[S(_)])):k("",!0)]),e("div",Rs,[S($)]),e("div",Es,[S(D)]),Ys]),e("div",zs,[S(x)])])],64)}const st=f(js,[["render",Gs]]);export{st as default};
